<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>rust - dracula - Autumnus</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'JetBrains Mono', monospace;
            line-height: 1.5;
        }
        pre {
            font-size: 15px;
            margin: 20px;
            padding: 50px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
<pre class="athl" style="color: #f8f8f2; background-color: #282a36;"><code class="language-rust" translate="no" tabindex="0"><span class="athl-line" data-athl-line="1">// This is a comment. Line comments look like this...
</span><span class="athl-line" data-athl-line="2">// and extend multiple lines like this.
</span><span class="athl-line" data-athl-line="3">
</span><span class="athl-line" data-athl-line="4">/* Block comments
</span><span class="athl-line" data-athl-line="5">  /* can be nested. */ */
</span><span class="athl-line" data-athl-line="6">
</span><span class="athl-line" data-athl-line="7"><span style="color: #6272a4;">//<span style="color: #ff79c6;">/</span> Documentation comments look like this and support markdown notation.</span>
</span><span class="athl-line" data-athl-line="8"><span style="color: #6272a4;"></span><span style="color: #6272a4;">//<span style="color: #ff79c6;">/</span> # Examples</span>
</span><span class="athl-line" data-athl-line="9"><span style="color: #6272a4;"></span><span style="color: #6272a4;">//<span style="color: #ff79c6;">/</span></span>
</span><span class="athl-line" data-athl-line="10"><span style="color: #6272a4;"></span><span style="color: #6272a4;">//<span style="color: #ff79c6;">/</span> ```</span>
</span><span class="athl-line" data-athl-line="11"><span style="color: #6272a4;"></span><span style="color: #6272a4;">//<span style="color: #ff79c6;">/</span> let five = 5</span>
</span><span class="athl-line" data-athl-line="12"><span style="color: #6272a4;"></span><span style="color: #6272a4;">//<span style="color: #ff79c6;">/</span> ```</span>
</span><span class="athl-line" data-athl-line="13"><span style="color: #6272a4;"></span>
</span><span class="athl-line" data-athl-line="14">///////////////
</span><span class="athl-line" data-athl-line="15">// 1. Basics //
</span><span class="athl-line" data-athl-line="16">///////////////
</span><span class="athl-line" data-athl-line="17">
</span><span class="athl-line" data-athl-line="18"><span style="color: #50fa7b;">#</span><span style="color: #f8f8f2;">[</span><span style="color: #50fa7b;">allow</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">dead_code</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">]</span>
</span><span class="athl-line" data-athl-line="19">// Functions
</span><span class="athl-line" data-athl-line="20">// `i32` is the type for 32-bit signed integers
</span><span class="athl-line" data-athl-line="21"><span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">add2</span><span style="color: #f8f8f2;">(</span><span style="color: #ffb86c;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">,</span> <span style="color: #ffb86c;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #8be9fd;">i32</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="22">    // Implicit return (no semicolon)
</span><span class="athl-line" data-athl-line="23">    <span style="color: #bd93f9;">x</span> <span style="color: #ff79c6;">+</span> <span style="color: #bd93f9;">y</span>
</span><span class="athl-line" data-athl-line="24"><span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="25">
</span><span class="athl-line" data-athl-line="26"><span style="color: #50fa7b;">#</span><span style="color: #f8f8f2;">[</span><span style="color: #50fa7b;">allow</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">unused_variables</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">]</span>
</span><span class="athl-line" data-athl-line="27"><span style="color: #50fa7b;">#</span><span style="color: #f8f8f2;">[</span><span style="color: #50fa7b;">allow</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">unused_assignments</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">]</span>
</span><span class="athl-line" data-athl-line="28"><span style="color: #50fa7b;">#</span><span style="color: #f8f8f2;">[</span><span style="color: #50fa7b;">allow</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">dead_code</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">]</span>
</span><span class="athl-line" data-athl-line="29">// Main function
</span><span class="athl-line" data-athl-line="30"><span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">main</span><span style="color: #f8f8f2;">(</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="31">    // Numbers //
</span><span class="athl-line" data-athl-line="32">
</span><span class="athl-line" data-athl-line="33">    // Immutable bindings
</span><span class="athl-line" data-athl-line="34">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">i32</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="35">
</span><span class="athl-line" data-athl-line="36">    // Integer/float suffixes
</span><span class="athl-line" data-athl-line="37">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">i32</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">13i32</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="38">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">f</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">f64</span> <span style="color: #ff79c6;">=</span> <span style="color: #50fa7b;">1.3f64</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="39">
</span><span class="athl-line" data-athl-line="40">    // Type inference
</span><span class="athl-line" data-athl-line="41">    // Most of the time, the Rust compiler can infer what type a variable is, so
</span><span class="athl-line" data-athl-line="42">    // you donâ€™t have to write an explicit type annotation.
</span><span class="athl-line" data-athl-line="43">    // Throughout this tutorial, types are explicitly annotated in many places,
</span><span class="athl-line" data-athl-line="44">    // but only for demonstrative purposes. Type inference can handle this for
</span><span class="athl-line" data-athl-line="45">    // you most of the time.
</span><span class="athl-line" data-athl-line="46">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">implicit_x</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="47">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">implicit_f</span> <span style="color: #ff79c6;">=</span> <span style="color: #50fa7b;">1.3</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="48">
</span><span class="athl-line" data-athl-line="49">    // Arithmetic
</span><span class="athl-line" data-athl-line="50">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">sum</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">x</span> <span style="color: #ff79c6;">+</span> <span style="color: #bd93f9;">y</span> <span style="color: #ff79c6;">+</span> <span style="color: #bd93f9;">13</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="51">
</span><span class="athl-line" data-athl-line="52">    // Mutable variable
</span><span class="athl-line" data-athl-line="53">    <span style="color: #ff79c6;">let</span> <span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">mutable</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="54">    <span style="color: #bd93f9;">mutable</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="55">    <span style="color: #bd93f9;">mutable</span> <span style="color: #ff79c6;">+=</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="56">
</span><span class="athl-line" data-athl-line="57">    // Strings //
</span><span class="athl-line" data-athl-line="58">
</span><span class="athl-line" data-athl-line="59">    // String literals
</span><span class="athl-line" data-athl-line="60">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #8be9fd;">str</span> <span style="color: #ff79c6;">=</span> <span style="color: #f1fa8c;">&quot;hello world!&quot;</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="61">
</span><span class="athl-line" data-athl-line="62">    // Printing
</span><span class="athl-line" data-athl-line="63">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{} {}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">f</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // 1.3 hello world!
</span><span class="athl-line" data-athl-line="64">
</span><span class="athl-line" data-athl-line="65">    // A `String` â€“ a heap-allocated string
</span><span class="athl-line" data-athl-line="66">    // Stored as a `Vec&lt;u8&gt;` and always holds a valid UTF-8 sequence, 
</span><span class="athl-line" data-athl-line="67">    // which is not null terminated.
</span><span class="athl-line" data-athl-line="68">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">s</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">String</span> <span style="color: #ff79c6;">=</span> <span style="color: #f1fa8c;">&quot;hello world&quot;</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">to_string</span><span style="color: #f8f8f2;">(</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="69">
</span><span class="athl-line" data-athl-line="70">    // A string slice â€“ an immutable view into another string
</span><span class="athl-line" data-athl-line="71">    // This is basically an immutable pointer and length of a string â€“ it
</span><span class="athl-line" data-athl-line="72">    // doesnâ€™t actually contain the contents of a string, just a pointer to
</span><span class="athl-line" data-athl-line="73">    // the beginning and a length of a string buffer,
</span><span class="athl-line" data-athl-line="74">    // statically allocated or contained in another object (in this case, `s`).
</span><span class="athl-line" data-athl-line="75">    // The string slice is like a view `&amp;[u8]` into `Vec&lt;T&gt;`.
</span><span class="athl-line" data-athl-line="76">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">s_slice</span><span style="color: #f8f8f2;">:</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #8be9fd;">str</span> <span style="color: #ff79c6;">=</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #bd93f9;">s</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="77">
</span><span class="athl-line" data-athl-line="78">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{} {}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">s</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">s_slice</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // hello world hello world
</span><span class="athl-line" data-athl-line="79">
</span><span class="athl-line" data-athl-line="80">    // Vectors/arrays //
</span><span class="athl-line" data-athl-line="81">
</span><span class="athl-line" data-athl-line="82">    // A fixed-size array
</span><span class="athl-line" data-athl-line="83">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">four_ints</span><span style="color: #f8f8f2;">:</span> <span style="color: #f8f8f2;">[</span><span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">;</span> <span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">]</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">[</span><span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">3</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">]</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="84">
</span><span class="athl-line" data-athl-line="85">    // A dynamic array (vector)
</span><span class="athl-line" data-athl-line="86">    <span style="color: #ff79c6;">let</span> <span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">vector</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">Vec</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">vec</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">[</span><span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">3</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">]</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="87">    <span style="color: #bd93f9;">vector</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">push</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">5</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="88">
</span><span class="athl-line" data-athl-line="89">    // A slice â€“ an immutable view into a vector or array
</span><span class="athl-line" data-athl-line="90">    // This is much like a string slice, but for vectors
</span><span class="athl-line" data-athl-line="91">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">slice</span><span style="color: #f8f8f2;">:</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #f8f8f2;">[</span><span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">]</span> <span style="color: #ff79c6;">=</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #bd93f9;">vector</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="92">
</span><span class="athl-line" data-athl-line="93">    // Use `{:?}` to print something debug-style
</span><span class="athl-line" data-athl-line="94">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{:?} {:?}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">vector</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">slice</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // [1, 2, 3, 4, 5] [1, 2, 3, 4, 5]
</span><span class="athl-line" data-athl-line="95">
</span><span class="athl-line" data-athl-line="96">    // Tuples //
</span><span class="athl-line" data-athl-line="97">
</span><span class="athl-line" data-athl-line="98">    // A tuple is a fixed-size set of values of possibly different types
</span><span class="athl-line" data-athl-line="99">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #f8f8f2;">(</span><span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">,</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #8be9fd;">str</span><span style="color: #f8f8f2;">,</span> <span style="color: #8be9fd;">f64</span><span style="color: #f8f8f2;">)</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">,</span> <span style="color: #f1fa8c;">&quot;hello&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #50fa7b;">3.4</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="100">
</span><span class="athl-line" data-athl-line="101">    // Destructuring `let`
</span><span class="athl-line" data-athl-line="102">    <span style="color: #ff79c6;">let</span> <span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">a</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">b</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">c</span><span style="color: #f8f8f2;">)</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="103">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{} {} {}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">a</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">b</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">c</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // 1 hello 3.4
</span><span class="athl-line" data-athl-line="104">
</span><span class="athl-line" data-athl-line="105">    // Indexing
</span><span class="athl-line" data-athl-line="106">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // hello
</span><span class="athl-line" data-athl-line="107">
</span><span class="athl-line" data-athl-line="108">    //////////////
</span><span class="athl-line" data-athl-line="109">    // 2. Types //
</span><span class="athl-line" data-athl-line="110">    //////////////
</span><span class="athl-line" data-athl-line="111">
</span><span class="athl-line" data-athl-line="112">    // Struct
</span><span class="athl-line" data-athl-line="113">    <span style="color: #ff79c6;">struct</span> <span style="color: #a4ffff;">Point</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="114">        <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="115">        <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="116">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="117">
</span><span class="athl-line" data-athl-line="118">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">origin</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">Point</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">Point</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">0</span> <span style="color: #f8f8f2;">}</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="119">
</span><span class="athl-line" data-athl-line="120">    // A struct with unnamed fields, called a â€˜tuple structâ€™
</span><span class="athl-line" data-athl-line="121">    <span style="color: #ff79c6;">struct</span> <span style="color: #a4ffff;">Point2</span><span style="color: #f8f8f2;">(</span><span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">,</span> <span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="122">
</span><span class="athl-line" data-athl-line="123">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">origin2</span> <span style="color: #ff79c6;">=</span> <span style="color: #50fa7b;">Point2</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">0</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="124">
</span><span class="athl-line" data-athl-line="125">    // Basic C-like enum
</span><span class="athl-line" data-athl-line="126">    <span style="color: #ff79c6;">enum</span> <span style="color: #a4ffff;">Direction</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="127">        <span style="color: #bd93f9;">Left</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="128">        <span style="color: #bd93f9;">Right</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="129">        <span style="color: #bd93f9;">Up</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="130">        <span style="color: #bd93f9;">Down</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="131">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="132">
</span><span class="athl-line" data-athl-line="133">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">up</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">Direction</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">Up</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="134">
</span><span class="athl-line" data-athl-line="135">    // Enum with fields
</span><span class="athl-line" data-athl-line="136">    // If you want to make something optional, the standard
</span><span class="athl-line" data-athl-line="137">    // library has `Option`
</span><span class="athl-line" data-athl-line="138">    <span style="color: #ff79c6;">enum</span> <span style="color: #a4ffff;">OptionalI32</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="139">        <span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="140">        <span style="color: #bd93f9;">Nothing</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="141">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="142">
</span><span class="athl-line" data-athl-line="143">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">two</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">OptionalI32</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="144">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">nothing</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">Nothing</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="145">
</span><span class="athl-line" data-athl-line="146">    // Generics //
</span><span class="athl-line" data-athl-line="147">
</span><span class="athl-line" data-athl-line="148">    <span style="color: #ff79c6;">struct</span> <span style="color: #a4ffff;">Foo</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">bar</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">T</span> <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="149">
</span><span class="athl-line" data-athl-line="150">    // This is defined in the standard library as `Option`
</span><span class="athl-line" data-athl-line="151">    // `Option` is used in place of where a null pointer
</span><span class="athl-line" data-athl-line="152">    // would normally be used.
</span><span class="athl-line" data-athl-line="153">    <span style="color: #ff79c6;">enum</span> <span style="color: #a4ffff;">Optional</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="154">        <span style="color: #bd93f9;">SomeVal</span><span style="color: #f8f8f2;">(</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="155">        <span style="color: #bd93f9;">NoVal</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="156">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="157">
</span><span class="athl-line" data-athl-line="158">    // Methods //
</span><span class="athl-line" data-athl-line="159">
</span><span class="athl-line" data-athl-line="160">    <span style="color: #ff79c6;">impl</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #a4ffff;">Foo</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="161">        // Methods take an explicit `self` parameter
</span><span class="athl-line" data-athl-line="162">        <span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">bar</span><span style="color: #f8f8f2;">(</span><span style="color: #ff79c6;">&amp;</span><span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #a4ffff;">T</span> <span style="color: #f8f8f2;">{</span> // self is borrowed
</span><span class="athl-line" data-athl-line="163">            <span style="color: #ff79c6;">&amp;</span><span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">bar</span>
</span><span class="athl-line" data-athl-line="164">        <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="165">        <span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">bar_mut</span><span style="color: #f8f8f2;">(</span><span style="color: #ff79c6;">&amp;</span><span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #ff79c6;">mut</span> <span style="color: #a4ffff;">T</span> <span style="color: #f8f8f2;">{</span> // self is mutably borrowed
</span><span class="athl-line" data-athl-line="166">            <span style="color: #ff79c6;">&amp;</span><span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">bar</span>
</span><span class="athl-line" data-athl-line="167">        <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="168">        <span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">into_bar</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #a4ffff;">T</span> <span style="color: #f8f8f2;">{</span> // here self is consumed
</span><span class="athl-line" data-athl-line="169">            <span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">bar</span>
</span><span class="athl-line" data-athl-line="170">        <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="171">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="172">
</span><span class="athl-line" data-athl-line="173">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">a_foo</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">Foo</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">bar</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">1</span> <span style="color: #f8f8f2;">}</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="174">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">a_foo</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">bar</span><span style="color: #f8f8f2;">(</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // 1
</span><span class="athl-line" data-athl-line="175">
</span><span class="athl-line" data-athl-line="176">    // Traits (known as interfaces or typeclasses in other languages) //
</span><span class="athl-line" data-athl-line="177">
</span><span class="athl-line" data-athl-line="178">    <span style="color: #ff79c6;">trait</span> <span style="color: #a4ffff;">Frobnicate</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="179">        <span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">frobnicate</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #a4ffff;">Option</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="180">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="181">
</span><span class="athl-line" data-athl-line="182">    <span style="color: #ff79c6;">impl</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #a4ffff;">Frobnicate</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #ff79c6;">for</span> <span style="color: #a4ffff;">Foo</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="183">        <span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">frobnicate</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #a4ffff;">Option</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #a4ffff;">T</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="184">            <span style="color: #bd93f9;">Some</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">self</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">bar</span><span style="color: #f8f8f2;">)</span>
</span><span class="athl-line" data-athl-line="185">        <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="186">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="187">
</span><span class="athl-line" data-athl-line="188">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">another_foo</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">Foo</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">bar</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">1</span> <span style="color: #f8f8f2;">}</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="189">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{:?}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">another_foo</span><span style="color: #f8f8f2;">.</span><span style="color: #bd93f9;">frobnicate</span><span style="color: #f8f8f2;">(</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // Some(1)
</span><span class="athl-line" data-athl-line="190">
</span><span class="athl-line" data-athl-line="191">    // Function pointer types // 
</span><span class="athl-line" data-athl-line="192">
</span><span class="athl-line" data-athl-line="193">    <span style="color: #8be9fd;">fn</span> <span style="color: #50fa7b;">fibonacci</span><span style="color: #f8f8f2;">(</span><span style="color: #ffb86c;">n</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">u32</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #8be9fd;">u32</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="194">        <span style="color: #ff79c6;">match</span> <span style="color: #bd93f9;">n</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="195">            <span style="color: #bd93f9;">0</span> <span style="color: #f8f8f2;">=&gt;</span> <span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="196">            <span style="color: #bd93f9;">1</span> <span style="color: #f8f8f2;">=&gt;</span> <span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="197">            <span style="color: #50fa7b;">_</span> <span style="color: #f8f8f2;">=&gt;</span> <span style="color: #50fa7b;">fibonacci</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">n</span> <span style="color: #ff79c6;">-</span> <span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">)</span> <span style="color: #ff79c6;">+</span> <span style="color: #50fa7b;">fibonacci</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">n</span> <span style="color: #ff79c6;">-</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="198">        <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="199">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="200">
</span><span class="athl-line" data-athl-line="201">    <span style="color: #ff79c6;">type</span> <span style="color: #a4ffff;">FunctionPointer</span> <span style="color: #ff79c6;">=</span> <span style="color: #8be9fd;">fn</span><span style="color: #f8f8f2;">(</span><span style="color: #8be9fd;">u32</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">-&gt;</span> <span style="color: #8be9fd;">u32</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="202">
</span><span class="athl-line" data-athl-line="203">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">fib</span> <span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">FunctionPointer</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">fibonacci</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="204">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;Fib: {}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">fib</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // 5
</span><span class="athl-line" data-athl-line="205">
</span><span class="athl-line" data-athl-line="206">    /////////////////////////
</span><span class="athl-line" data-athl-line="207">    // 3. Pattern matching //
</span><span class="athl-line" data-athl-line="208">    /////////////////////////
</span><span class="athl-line" data-athl-line="209">
</span><span class="athl-line" data-athl-line="210">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">foo</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="211">    <span style="color: #ff79c6;">match</span> <span style="color: #bd93f9;">foo</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="212">        <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">n</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">=&gt;</span> <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;itâ€™s an i32: {}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">n</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="213">        <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">Nothing</span>  <span style="color: #f8f8f2;">=&gt;</span> <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;itâ€™s nothing!&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="214">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="215">
</span><span class="athl-line" data-athl-line="216">    // Advanced pattern matching
</span><span class="athl-line" data-athl-line="217">    <span style="color: #ff79c6;">struct</span> <span style="color: #a4ffff;">FooBar</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">OptionalI32</span> <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="218">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">bar</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">FooBar</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">15</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">32</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">}</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="219">
</span><span class="athl-line" data-athl-line="220">    <span style="color: #ff79c6;">match</span> <span style="color: #bd93f9;">bar</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="221">        <span style="color: #a4ffff;">FooBar</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">0</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">}</span> <span style="color: #f8f8f2;">=&gt;</span>
</span><span class="athl-line" data-athl-line="222">            <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;The numbers are zero!&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="223">        <span style="color: #a4ffff;">FooBar</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">n</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">m</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">}</span> <span style="color: #ff79c6;">if</span> <span style="color: #bd93f9;">n</span> <span style="color: #ff79c6;">==</span> <span style="color: #bd93f9;">m</span> <span style="color: #f8f8f2;">=&gt;</span>
</span><span class="athl-line" data-athl-line="224">            <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;The numbers are the same&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="225">        <span style="color: #a4ffff;">FooBar</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #bd93f9;">n</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">AnI32</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">m</span><span style="color: #f8f8f2;">)</span> <span style="color: #f8f8f2;">}</span> <span style="color: #f8f8f2;">=&gt;</span>
</span><span class="athl-line" data-athl-line="226">            <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;Different numbers: {} {}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">n</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">m</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="227">        <span style="color: #a4ffff;">FooBar</span> <span style="color: #f8f8f2;">{</span> <span style="color: #bd93f9;">x</span><span style="color: #f8f8f2;">:</span> <span style="color: #50fa7b;">_</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">y</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">OptionalI32</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">Nothing</span> <span style="color: #f8f8f2;">}</span> <span style="color: #f8f8f2;">=&gt;</span>
</span><span class="athl-line" data-athl-line="228">            <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;The second number is Nothing!&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">,</span>
</span><span class="athl-line" data-athl-line="229">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="230">
</span><span class="athl-line" data-athl-line="231">    /////////////////////
</span><span class="athl-line" data-athl-line="232">    // 4. Control flow //
</span><span class="athl-line" data-athl-line="233">    /////////////////////
</span><span class="athl-line" data-athl-line="234">
</span><span class="athl-line" data-athl-line="235">    // `for` loops/iteration
</span><span class="athl-line" data-athl-line="236">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">array</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">[</span><span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">3</span><span style="color: #f8f8f2;">]</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="237">    <span style="color: #ff79c6;">for</span> <span style="color: #bd93f9;">i</span> <span style="color: #ff79c6;">in</span> <span style="color: #bd93f9;">array</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="238">        <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">i</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="239">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="240">
</span><span class="athl-line" data-athl-line="241">    // Ranges
</span><span class="athl-line" data-athl-line="242">    <span style="color: #ff79c6;">for</span> <span style="color: #bd93f9;">i</span> <span style="color: #ff79c6;">in</span> <span style="color: #bd93f9;">0u32</span><span style="color: #ff79c6;">..</span><span style="color: #bd93f9;">10</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="243">        <span style="color: #bd93f9;">print</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{} &quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">i</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="244">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="245">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="246">    // prints `0 1 2 3 4 5 6 7 8 9 `
</span><span class="athl-line" data-athl-line="247">
</span><span class="athl-line" data-athl-line="248">    // `if`
</span><span class="athl-line" data-athl-line="249">    <span style="color: #ff79c6;">if</span> <span style="color: #bd93f9;">1</span> <span style="color: #ff79c6;">==</span> <span style="color: #bd93f9;">1</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="250">        <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;Maths is working!&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="251">    <span style="color: #f8f8f2;">}</span> <span style="color: #ff79c6;">else</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="252">        <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;Oh no...&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="253">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="254">
</span><span class="athl-line" data-athl-line="255">    // `if` as expression
</span><span class="athl-line" data-athl-line="256">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">value</span> <span style="color: #ff79c6;">=</span> <span style="color: #ff79c6;">if</span> <span style="color: #bd93f9;">true</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="257">        <span style="color: #f1fa8c;">&quot;good&quot;</span>
</span><span class="athl-line" data-athl-line="258">    <span style="color: #f8f8f2;">}</span> <span style="color: #ff79c6;">else</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="259">        <span style="color: #f1fa8c;">&quot;bad&quot;</span>
</span><span class="athl-line" data-athl-line="260">    <span style="color: #f8f8f2;">}</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="261">
</span><span class="athl-line" data-athl-line="262">    // `while` loop
</span><span class="athl-line" data-athl-line="263">    <span style="color: #ff79c6;">while</span> <span style="color: #bd93f9;">1</span> <span style="color: #ff79c6;">==</span> <span style="color: #bd93f9;">1</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="264">        <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;The universe is operating normally.&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="265">        // break statement gets out of the while loop.
</span><span class="athl-line" data-athl-line="266">        //  It avoids useless iterations.
</span><span class="athl-line" data-athl-line="267">        <span style="color: #ff79c6;">break</span>
</span><span class="athl-line" data-athl-line="268">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="269">
</span><span class="athl-line" data-athl-line="270">    // Infinite loop
</span><span class="athl-line" data-athl-line="271">    <span style="color: #ff79c6;">loop</span> <span style="color: #f8f8f2;">{</span>
</span><span class="athl-line" data-athl-line="272">        <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;Hello!&quot;</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="273">        // break statement gets out of the loop
</span><span class="athl-line" data-athl-line="274">        <span style="color: #ff79c6;">break</span>
</span><span class="athl-line" data-athl-line="275">    <span style="color: #f8f8f2;">}</span>
</span><span class="athl-line" data-athl-line="276">
</span><span class="athl-line" data-athl-line="277">    /////////////////////////////////
</span><span class="athl-line" data-athl-line="278">    // 5. Memory safety &amp; pointers //
</span><span class="athl-line" data-athl-line="279">    /////////////////////////////////
</span><span class="athl-line" data-athl-line="280">
</span><span class="athl-line" data-athl-line="281">    // Owned pointer â€“ only one thing can â€˜ownâ€™ this pointer at a time
</span><span class="athl-line" data-athl-line="282">    // This means that when the `Box` leaves its scope, it will be automatically deallocated safely.
</span><span class="athl-line" data-athl-line="283">    <span style="color: #ff79c6;">let</span> <span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">mine</span><span style="color: #f8f8f2;">:</span> <span style="color: #a4ffff;">Box</span><span style="color: #f8f8f2;">&lt;</span><span style="color: #8be9fd;">i32</span><span style="color: #f8f8f2;">&gt;</span> <span style="color: #ff79c6;">=</span> <span style="color: #a4ffff;">Box</span><span style="color: #f8f8f2;">::</span><span style="color: #bd93f9;">new</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">3</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="284">    <span style="color: #ff79c6;">*</span><span style="color: #bd93f9;">mine</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">5</span><span style="color: #f8f8f2;">;</span> // dereference
</span><span class="athl-line" data-athl-line="285">    // Here, `now_its_mine` takes ownership of `mine`. In other words, `mine` is moved.
</span><span class="athl-line" data-athl-line="286">    <span style="color: #ff79c6;">let</span> <span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">now_its_mine</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">mine</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="287">    <span style="color: #ff79c6;">*</span><span style="color: #bd93f9;">now_its_mine</span> <span style="color: #ff79c6;">+=</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="288">
</span><span class="athl-line" data-athl-line="289">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">now_its_mine</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // 7
</span><span class="athl-line" data-athl-line="290">    // println!(&quot;{}&quot;, mine); // this would not compile because `now_its_mine` now owns the pointer
</span><span class="athl-line" data-athl-line="291">
</span><span class="athl-line" data-athl-line="292">    // Reference â€“ an immutable pointer that refers to other data
</span><span class="athl-line" data-athl-line="293">    // When a reference is taken to a value, we say that the value has been â€˜borrowedâ€™.
</span><span class="athl-line" data-athl-line="294">    // While a value is borrowed immutably, it cannot be mutated or moved.
</span><span class="athl-line" data-athl-line="295">    // A borrow is active until the last use of the borrowing variable.
</span><span class="athl-line" data-athl-line="296">    <span style="color: #ff79c6;">let</span> <span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">var</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="297">    <span style="color: #bd93f9;">var</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">3</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="298">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">ref_var</span><span style="color: #f8f8f2;">:</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #8be9fd;">i32</span> <span style="color: #ff79c6;">=</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #bd93f9;">var</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="299">
</span><span class="athl-line" data-athl-line="300">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #bd93f9;">var</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // Unlike `mine`, `var` can still be used
</span><span class="athl-line" data-athl-line="301">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #ff79c6;">*</span><span style="color: #bd93f9;">ref_var</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="302">    // var = 5; // this would not compile because `var` is borrowed
</span><span class="athl-line" data-athl-line="303">    // *ref_var = 6; // this would not either, because `ref_var` is an immutable reference
</span><span class="athl-line" data-athl-line="304">    <span style="color: #bd93f9;">ref_var</span><span style="color: #f8f8f2;">;</span> // no-op, but counts as a use and keeps the borrow active
</span><span class="athl-line" data-athl-line="305">    <span style="color: #bd93f9;">var</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">;</span> // ref_var is no longer used after the line above, so the borrow has ended
</span><span class="athl-line" data-athl-line="306">
</span><span class="athl-line" data-athl-line="307">    // Mutable reference
</span><span class="athl-line" data-athl-line="308">    // While a value is mutably borrowed, it cannot be accessed at all.
</span><span class="athl-line" data-athl-line="309">    <span style="color: #ff79c6;">let</span> <span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">var2</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="310">    <span style="color: #ff79c6;">let</span> <span style="color: #bd93f9;">ref_var2</span><span style="color: #f8f8f2;">:</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #ff79c6;">mut</span> <span style="color: #8be9fd;">i32</span> <span style="color: #ff79c6;">=</span> <span style="color: #ff79c6;">&amp;</span><span style="color: #ff79c6;">mut</span> <span style="color: #bd93f9;">var2</span><span style="color: #f8f8f2;">;</span>
</span><span class="athl-line" data-athl-line="311">    <span style="color: #ff79c6;">*</span><span style="color: #bd93f9;">ref_var2</span> <span style="color: #ff79c6;">+=</span> <span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">;</span>         // &#39;*&#39; is used to point to the mutably borrowed var2
</span><span class="athl-line" data-athl-line="312">
</span><span class="athl-line" data-athl-line="313">    <span style="color: #bd93f9;">println</span><span style="color: #50fa7b;">!</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">&quot;{}&quot;</span><span style="color: #f8f8f2;">,</span> <span style="color: #ff79c6;">*</span><span style="color: #bd93f9;">ref_var2</span><span style="color: #f8f8f2;">)</span><span style="color: #f8f8f2;">;</span> // 6 , // var2 would not compile.
</span><span class="athl-line" data-athl-line="314">    // ref_var2 is of type &amp;mut i32, so stores a reference to an i32, not the value.
</span><span class="athl-line" data-athl-line="315">    // var2 = 2; // this would not compile because `var2` is borrowed.
</span><span class="athl-line" data-athl-line="316">    <span style="color: #bd93f9;">ref_var2</span><span style="color: #f8f8f2;">;</span> // no-op, but counts as a use and keeps the borrow active until here
</span><span class="athl-line" data-athl-line="317"><span style="color: #f8f8f2;">}</span>
</span></code></pre>
</body>
</html>