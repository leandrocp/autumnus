<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>vim - tokyonight_day - Autumnus</title>
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=fira-code:300,400,500,600,700" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      * {
        font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
      }
    </style>
</head>
<body>
<pre class="athl w-full overflow-auto rounded-lg p-8 text-sm antialiased leading-6" style="color: #3760bf; background-color: #e1e2e7;"><code class="language-vim" translate="no" tabindex="0"><span class="athl-line" data-athl-line="1"><span style="color: #848cb5;">&quot; ##############</span>
</span><span class="athl-line" data-athl-line="2"><span style="color: #848cb5;">&quot;  Introduction</span>
</span><span class="athl-line" data-athl-line="3"><span style="color: #848cb5;">&quot; ##############</span>
</span><span class="athl-line" data-athl-line="4"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="5"><span style="color: #848cb5;">&quot; Vim script (also called VimL) is the subset of Vim&#39;s ex-commands which</span>
</span><span class="athl-line" data-athl-line="6"><span style="color: #848cb5;">&quot; supplies a number of features one would expect from a scripting language,</span>
</span><span class="athl-line" data-athl-line="7"><span style="color: #848cb5;">&quot; such as values, variables, functions or loops. Always keep in the back of</span>
</span><span class="athl-line" data-athl-line="8"><span style="color: #848cb5;">&quot; your mind that a Vim script file is just a sequence of ex-commands. It is</span>
</span><span class="athl-line" data-athl-line="9"><span style="color: #848cb5;">&quot; very common for a script to mix programming-language features and raw</span>
</span><span class="athl-line" data-athl-line="10"><span style="color: #848cb5;">&quot; ex-commands.</span>
</span><span class="athl-line" data-athl-line="11"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="12"><span style="color: #848cb5;">&quot; You can run Vim script directly by entering the commands in command-line mode</span>
</span><span class="athl-line" data-athl-line="13"><span style="color: #848cb5;">&quot; (press `:` to enter command-line mode), or you can write them to a file</span>
</span><span class="athl-line" data-athl-line="14"><span style="color: #848cb5;">&quot; (without the leading `:`) and source it in a running Vim instance (`:source</span>
</span><span class="athl-line" data-athl-line="15"><span style="color: #848cb5;">&quot; path/to/file`). Some files are sourced automatically as part of your</span>
</span><span class="athl-line" data-athl-line="16"><span style="color: #848cb5;">&quot; configuration (see |startup|). This guide assumes that you are familiar</span>
</span><span class="athl-line" data-athl-line="17"><span style="color: #848cb5;">&quot; with ex-commands and will only cover the scripting. Help topics to the</span>
</span><span class="athl-line" data-athl-line="18"><span style="color: #848cb5;">&quot; relevant manual sections are included.</span>
</span><span class="athl-line" data-athl-line="19"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="20"><span style="color: #848cb5;">&quot; See |usr_41.txt| for the official introduction to Vim script. A comment is</span>
</span><span class="athl-line" data-athl-line="21"><span style="color: #848cb5;">&quot; anything following an unmatched `&quot;` until the end of the line, and `|`</span>
</span><span class="athl-line" data-athl-line="22"><span style="color: #848cb5;">&quot; separates instructions (what `;` does in most other languages). References to</span>
</span><span class="athl-line" data-athl-line="23"><span style="color: #848cb5;">&quot; the manual as surrounded with `|`, such as |help.txt|.</span>
</span><span class="athl-line" data-athl-line="24">
</span><span class="athl-line" data-athl-line="25"><span style="color: #848cb5;">&quot; This is a comment</span>
</span><span class="athl-line" data-athl-line="26">
</span><span class="athl-line" data-athl-line="27"><span style="color: #848cb5;">&quot; The vertical line &#39;|&#39; (pipe) separates commands</span>
</span><span class="athl-line" data-athl-line="28"><span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Hello&#39;</span> | <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;world!&#39;</span>
</span><span class="athl-line" data-athl-line="29">
</span><span class="athl-line" data-athl-line="30"><span style="color: #848cb5;">&quot; Putting a comment after a command usually works</span>
</span><span class="athl-line" data-athl-line="31"><span style="color: #7847bd;">pwd</span>                   <span style="color: #848cb5;">&quot; Displays the current working directory</span>
</span><span class="athl-line" data-athl-line="32"><span style="color: #848cb5;"></span>
</span><span class="athl-line" data-athl-line="33"><span style="color: #848cb5;">&quot; Except for some commands it does not; use the command delimiter before the</span>
</span><span class="athl-line" data-athl-line="34"><span style="color: #848cb5;">&quot; comment (echo assumes that the quotation mark begins a string)</span>
</span><span class="athl-line" data-athl-line="35"><span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Hello world!&#39;</span>  | &quot; <span style="color: #2e7de9;">Displays a message</span>
</span><span class="athl-line" data-athl-line="36">
</span><span class="athl-line" data-athl-line="37"><span style="color: #848cb5;">&quot; Line breaks can be escaped by placing a backslash as the first non-whitespace</span>
</span><span class="athl-line" data-athl-line="38"><span style="color: #848cb5;">&quot; character on the *following* line. Only works in script files, not on the</span>
</span><span class="athl-line" data-athl-line="39"><span style="color: #848cb5;">&quot; command line</span>
</span><span class="athl-line" data-athl-line="40"><span style="color: #7847bd;">echo</span> &quot; Hello
</span><span class="athl-line" data-athl-line="41">    <span style="color: #587539;">\ world &quot;</span>
</span><span class="athl-line" data-athl-line="42">
</span><span class="athl-line" data-athl-line="43"><span style="color: #7847bd;">echo</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span>
</span><span class="athl-line" data-athl-line="44">    \ <span style="color: #b15c00;">2</span><span style="color: #6172b0;">]</span>
</span><span class="athl-line" data-athl-line="45">
</span><span class="athl-line" data-athl-line="46"><span style="color: #7847bd;">echo</span> <span style="color: #6172b0;">{</span>
</span><span class="athl-line" data-athl-line="47">    \ <span style="color: #587539;">&#39;a&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span>
</span><span class="athl-line" data-athl-line="48">    \ <span style="color: #587539;">&#39;b&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2</span>
</span><span class="athl-line" data-athl-line="49">\<span style="color: #6172b0;">}</span>
</span><span class="athl-line" data-athl-line="50">
</span><span class="athl-line" data-athl-line="51">
</span><span class="athl-line" data-athl-line="52"><span style="color: #848cb5;">&quot; #######</span>
</span><span class="athl-line" data-athl-line="53"><span style="color: #848cb5;">&quot;  Types</span>
</span><span class="athl-line" data-athl-line="54"><span style="color: #848cb5;">&quot; #######</span>
</span><span class="athl-line" data-athl-line="55"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="56"><span style="color: #848cb5;">&quot; For an overview of types see |E712|. For an overview of operators see</span>
</span><span class="athl-line" data-athl-line="57"><span style="color: #848cb5;">&quot; |expression-syntax|</span>
</span><span class="athl-line" data-athl-line="58">
</span><span class="athl-line" data-athl-line="59"><span style="color: #848cb5;">&quot; Numbers (|expr-number|)</span>
</span><span class="athl-line" data-athl-line="60"><span style="color: #848cb5;">&quot; #######</span>
</span><span class="athl-line" data-athl-line="61">
</span><span class="athl-line" data-athl-line="62"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">123</span>         | &quot; <span style="color: #2e7de9;">Decimal</span>
</span><span class="athl-line" data-athl-line="63"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">0b1111011</span>   | &quot; <span style="color: #2e7de9;">Binary</span>
</span><span class="athl-line" data-athl-line="64"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">0173</span>        | &quot; <span style="color: #2e7de9;">Octal</span>
</span><span class="athl-line" data-athl-line="65"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">0x7B</span>        | &quot; <span style="color: #2e7de9;">Hexadecimal</span>
</span><span class="athl-line" data-athl-line="66"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">123.0</span>       | &quot; <span style="color: #2e7de9;">Floating-point</span>
</span><span class="athl-line" data-athl-line="67"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">1.23e2</span>      | &quot; Floating-<span style="color: #2e7de9;">point (scientific notation)</span>
</span><span class="athl-line" data-athl-line="68">
</span><span class="athl-line" data-athl-line="69"><span style="color: #848cb5;">&quot; Note that an *integer* number with a leading `0` is in octal notation. The</span>
</span><span class="athl-line" data-athl-line="70"><span style="color: #848cb5;">&quot; usual arithmetic operations are supported.</span>
</span><span class="athl-line" data-athl-line="71">
</span><span class="athl-line" data-athl-line="72"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">1</span> <span style="color: #006a83;">+</span> <span style="color: #b15c00;">2</span>       | &quot; <span style="color: #2e7de9;">Addition</span>
</span><span class="athl-line" data-athl-line="73"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">1</span> <span style="color: #006a83;">-</span> <span style="color: #b15c00;">2</span>       | &quot; <span style="color: #2e7de9;">Subtraction</span>
</span><span class="athl-line" data-athl-line="74"><span style="color: #7847bd;">echo</span>  <span style="color: #006a83;">-</span> <span style="color: #b15c00;">1</span>         | &quot; <span style="color: #2e7de9;">Negation (unary minus)</span>
</span><span class="athl-line" data-athl-line="75"><span style="color: #7847bd;">echo</span>  <span style="color: #006a83;">+</span> <span style="color: #b15c00;">1</span>         | &quot; Unary plus (does nothing <span style="color: #2e7de9;">really, but still legal)</span>
</span><span class="athl-line" data-athl-line="76"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">1</span> <span style="color: #006a83;">*</span> <span style="color: #b15c00;">2</span>       | &quot; <span style="color: #2e7de9;">Multiplication</span>
</span><span class="athl-line" data-athl-line="77"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">1</span> <span style="color: #006a83;">/</span> <span style="color: #b15c00;">2</span>       | &quot; <span style="color: #2e7de9;">Division</span>
</span><span class="athl-line" data-athl-line="78"><span style="color: #7847bd;">echo</span>  <span style="color: #b15c00;">1</span> <span style="color: #006a83;">%</span> <span style="color: #b15c00;">2</span>       | &quot; <span style="color: #2e7de9;">Modulo (remainder)</span>
</span><span class="athl-line" data-athl-line="79">
</span><span class="athl-line" data-athl-line="80"><span style="color: #848cb5;">&quot; Booleans (|Boolean|)</span>
</span><span class="athl-line" data-athl-line="81"><span style="color: #848cb5;">&quot; ########</span>
</span><span class="athl-line" data-athl-line="82"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="83"><span style="color: #848cb5;">&quot; The number 0 is false, every other number is true. Strings are implicitly</span>
</span><span class="athl-line" data-athl-line="84"><span style="color: #848cb5;">&quot; converted to numbers (see below). There are two pre-defined semantic</span>
</span><span class="athl-line" data-athl-line="85"><span style="color: #848cb5;">&quot; constants.</span>
</span><span class="athl-line" data-athl-line="86">
</span><span class="athl-line" data-athl-line="87"><span style="color: #7847bd;">echo</span>  v:<span style="color: #b15c00;">true</span>      | &quot; Evaluates to <span style="color: #2e7de9;">1 or the string &#39;v:true&#39;</span>
</span><span class="athl-line" data-athl-line="88"><span style="color: #7847bd;">echo</span>  v:<span style="color: #b15c00;">false</span>     | &quot; Evaluates to <span style="color: #2e7de9;">0 or the string &#39;v:false&#39;</span>
</span><span class="athl-line" data-athl-line="89">
</span><span class="athl-line" data-athl-line="90"><span style="color: #848cb5;">&quot; Boolean values can result from comparison of two objects.</span>
</span><span class="athl-line" data-athl-line="91">
</span><span class="athl-line" data-athl-line="92"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">==</span> <span style="color: #3760bf;">y</span>             | &quot; <span style="color: #2e7de9;">Equality by value</span>
</span><span class="athl-line" data-athl-line="93"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">!=</span> <span style="color: #3760bf;">y</span>             | &quot; <span style="color: #2e7de9;">Inequality</span>
</span><span class="athl-line" data-athl-line="94"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">&gt;</span>  <span style="color: #3760bf;">y</span>             | &quot; <span style="color: #2e7de9;">Greater than</span>
</span><span class="athl-line" data-athl-line="95"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">&gt;=</span> <span style="color: #3760bf;">y</span>             | &quot; <span style="color: #2e7de9;">Greater than or equal</span>
</span><span class="athl-line" data-athl-line="96"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">&lt;</span>  <span style="color: #3760bf;">y</span>             | &quot; <span style="color: #2e7de9;">Smaller than</span>
</span><span class="athl-line" data-athl-line="97"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">&lt;=</span> <span style="color: #3760bf;">y</span>             | &quot; <span style="color: #2e7de9;">Smaller than or equal</span>
</span><span class="athl-line" data-athl-line="98"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">is</span> <span style="color: #3760bf;">y</span>             | &quot; Instance identity (lists <span style="color: #2e7de9;">and dictionaries)</span>
</span><span class="athl-line" data-athl-line="99"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">x</span> <span style="color: #006a83;">isnot</span> <span style="color: #3760bf;">y</span>          | &quot; Instance non-identity (lists <span style="color: #2e7de9;">and dictionaries)</span>
</span><span class="athl-line" data-athl-line="100">
</span><span class="athl-line" data-athl-line="101"><span style="color: #848cb5;">&quot; Strings are compared based on their alphanumerical ordering</span>
</span><span class="athl-line" data-athl-line="102"><span style="color: #848cb5;">&quot; echo &#39;a&#39; &lt; &#39;b&#39;. Case sensitivity depends on the setting of &#39;ignorecase&#39;</span>
</span><span class="athl-line" data-athl-line="103"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="104"><span style="color: #848cb5;">&quot; Explicit case-sensitivity is specified by appending &#39;#&#39; (match case) or &#39;?&#39;</span>
</span><span class="athl-line" data-athl-line="105"><span style="color: #848cb5;">&quot; (ignore case) to the operator. Prefer explicitly case sensitivity when writing</span>
</span><span class="athl-line" data-athl-line="106"><span style="color: #848cb5;">&quot; portable scripts.</span>
</span><span class="athl-line" data-athl-line="107">
</span><span class="athl-line" data-athl-line="108"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;a&#39;</span> <span style="color: #006a83;">&lt;</span>  <span style="color: #587539;">&#39;B&#39;</span>         | &quot; True or <span style="color: #2e7de9;">false depending on &#39;ignorecase&#39;</span>
</span><span class="athl-line" data-athl-line="109"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;a&#39;</span> <span style="color: #006a83;">&lt;</span><span style="color: #006a83;">?</span> <span style="color: #587539;">&#39;B&#39;</span>         | &quot; <span style="color: #2e7de9;">True</span>
</span><span class="athl-line" data-athl-line="110"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;a&#39;</span> <span style="color: #006a83;">&lt;</span><span style="color: #006a83;">#</span> <span style="color: #587539;">&#39;B&#39;</span>         | &quot; <span style="color: #2e7de9;">False</span>
</span><span class="athl-line" data-athl-line="111">
</span><span class="athl-line" data-athl-line="112"><span style="color: #848cb5;">&quot; Regular expression matching</span>
</span><span class="athl-line" data-athl-line="113"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;hi&quot;</span> <span style="color: #006a83;">=~</span>  <span style="color: #587539;">&quot;hello&quot;</span>    | &quot; Regular expression <span style="color: #2e7de9;">match, uses &#39;ignorecase&#39;</span>
</span><span class="athl-line" data-athl-line="114"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;hi&quot;</span> <span style="color: #006a83;">=~</span><span style="color: #006a83;">#</span> <span style="color: #587539;">&quot;hello&quot;</span>    | &quot; Regular expression <span style="color: #2e7de9;">match, case sensitive</span>
</span><span class="athl-line" data-athl-line="115"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;hi&quot;</span> <span style="color: #006a83;">=~</span><span style="color: #006a83;">?</span> <span style="color: #587539;">&quot;hello&quot;</span>    | &quot; Regular expression <span style="color: #2e7de9;">match, case insensitive</span>
</span><span class="athl-line" data-athl-line="116"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;hi&quot;</span> <span style="color: #006a83;">!~</span>  <span style="color: #587539;">&quot;hello&quot;</span>    | &quot; Regular expression <span style="color: #2e7de9;">unmatch, use &#39;ignorecase&#39;</span>
</span><span class="athl-line" data-athl-line="117"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;hi&quot;</span> <span style="color: #006a83;">!~</span><span style="color: #006a83;">#</span> <span style="color: #587539;">&quot;hello&quot;</span>    | &quot; Regular expression <span style="color: #2e7de9;">unmatch, case sensitive</span>
</span><span class="athl-line" data-athl-line="118"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;hi&quot;</span> <span style="color: #006a83;">!~</span><span style="color: #006a83;">?</span> <span style="color: #587539;">&quot;hello&quot;</span>    | &quot; Regular expression <span style="color: #2e7de9;">unmatch, case insensitive</span>
</span><span class="athl-line" data-athl-line="119">
</span><span class="athl-line" data-athl-line="120"><span style="color: #848cb5;">&quot; Boolean operations are possible.</span>
</span><span class="athl-line" data-athl-line="121">
</span><span class="athl-line" data-athl-line="122"><span style="color: #7847bd;">echo</span>  v:<span style="color: #b15c00;">true</span> <span style="color: #006a83;">&amp;&amp;</span> v:<span style="color: #b15c00;">false</span>       | &quot; <span style="color: #2e7de9;">Logical AND</span>
</span><span class="athl-line" data-athl-line="123"><span style="color: #7847bd;">echo</span>  v:<span style="color: #b15c00;">true</span> <span style="color: #006a83;">||</span> v:<span style="color: #b15c00;">false</span>       | &quot; <span style="color: #2e7de9;">Logical OR</span>
</span><span class="athl-line" data-athl-line="124"><span style="color: #7847bd;">echo</span>  <span style="color: #006a83;">!</span> v:<span style="color: #b15c00;">true</span>                | &quot; <span style="color: #2e7de9;">Logical NOT</span>
</span><span class="athl-line" data-athl-line="125"><span style="color: #7847bd;">echo</span>  v:<span style="color: #b15c00;">true</span> <span style="color: #9854f1;">?</span> <span style="color: #587539;">&#39;yes&#39;</span> <span style="color: #9854f1;">:</span> <span style="color: #587539;">&#39;no&#39;</span>   | &quot; <span style="color: #2e7de9;">Ternary operator</span>
</span><span class="athl-line" data-athl-line="126">
</span><span class="athl-line" data-athl-line="127">
</span><span class="athl-line" data-athl-line="128"><span style="color: #848cb5;">&quot; Strings (|String|)</span>
</span><span class="athl-line" data-athl-line="129"><span style="color: #848cb5;">&quot; #######</span>
</span><span class="athl-line" data-athl-line="130"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="131"><span style="color: #848cb5;">&quot; An ordered zero-indexed sequence of bytes. The encoding of text into bytes</span>
</span><span class="athl-line" data-athl-line="132"><span style="color: #848cb5;">&quot; depends on the option |&#39;encoding&#39;|.</span>
</span><span class="athl-line" data-athl-line="133">
</span><span class="athl-line" data-athl-line="134"><span style="color: #848cb5;">&quot; Literal constructors</span>
</span><span class="athl-line" data-athl-line="135"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;Hello world\n&quot;</span>   | &quot; The last two <span style="color: #2e7de9;">characters stand for newline</span>
</span><span class="athl-line" data-athl-line="136"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello world\n&#39;</span>   | &quot; The last two <span style="color: #2e7de9;">characters are literal</span>
</span><span class="athl-line" data-athl-line="137"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Let&#39;&#39;s go!&#39;</span>      | &quot; Two single quotes become <span style="color: #2e7de9;">one quote character</span>
</span><span class="athl-line" data-athl-line="138">
</span><span class="athl-line" data-athl-line="139"><span style="color: #848cb5;">&quot; Single-quote strings take all characters are literal, except two single</span>
</span><span class="athl-line" data-athl-line="140"><span style="color: #848cb5;">&quot; quotes, which are taken to be a single quote in the string itself. See</span>
</span><span class="athl-line" data-athl-line="141"><span style="color: #848cb5;">&quot; |expr-quote| for all possible escape sequences.</span>
</span><span class="athl-line" data-athl-line="142">
</span><span class="athl-line" data-athl-line="143"><span style="color: #848cb5;">&quot; String concatenation</span>
</span><span class="athl-line" data-athl-line="144"><span style="color: #848cb5;">&quot; The .. operator is preferred, but only supported in since Vim 8.1.1114</span>
</span><span class="athl-line" data-athl-line="145"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello &#39;</span> <span style="color: #006a83;">.</span>  <span style="color: #587539;">&#39;world&#39;</span>  | &quot; <span style="color: #2e7de9;">String concatenation</span>
</span><span class="athl-line" data-athl-line="146"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello &#39;</span> <span style="color: #006a83;">..</span> <span style="color: #587539;">&#39;world&#39;</span>  | &quot; String <span style="color: #2e7de9;">concatenation (new variant)</span>
</span><span class="athl-line" data-athl-line="147">
</span><span class="athl-line" data-athl-line="148"><span style="color: #848cb5;">&quot; String indexing</span>
</span><span class="athl-line" data-athl-line="149"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">0</span><span style="color: #6172b0;">]</span>           | &quot; <span style="color: #2e7de9;">First byte</span>
</span><span class="athl-line" data-athl-line="150"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #6172b0;">]</span>           | &quot; <span style="color: #2e7de9;">Second byte</span>
</span><span class="athl-line" data-athl-line="151"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hellö&#39;</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span>           | &quot; Returns <span style="color: #2e7de9;">a byte, not the character &#39;ö&#39;</span>
</span><span class="athl-line" data-athl-line="152">
</span><span class="athl-line" data-athl-line="153"><span style="color: #848cb5;">&quot; Substrings (second index is inclusive)</span>
</span><span class="athl-line" data-athl-line="154"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #006a83;">:</span><span style="color: #6172b0;">]</span>           | &quot; <span style="color: #2e7de9;">Copy of entire string</span>
</span><span class="athl-line" data-athl-line="155"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">:</span><span style="color: #b15c00;">3</span><span style="color: #6172b0;">]</span>         | &quot; Substring, second to <span style="color: #2e7de9;">fourth byte</span>
</span><span class="athl-line" data-athl-line="156"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">:</span><span style="color: #b15c00;">-2</span><span style="color: #6172b0;">]</span>        | &quot; Substring <span style="color: #2e7de9;">until second to last byte</span>
</span><span class="athl-line" data-athl-line="157"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">:</span><span style="color: #6172b0;">]</span>          | &quot; <span style="color: #2e7de9;">Substring with starting index</span>
</span><span class="athl-line" data-athl-line="158"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #006a83;">:</span><span style="color: #b15c00;">2</span><span style="color: #6172b0;">]</span>          | &quot; <span style="color: #2e7de9;">Substring with ending index</span>
</span><span class="athl-line" data-athl-line="159"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">-2</span><span style="color: #006a83;">:</span><span style="color: #6172b0;">]</span>         | &quot; Substring <span style="color: #2e7de9;">relative to end of string</span>
</span><span class="athl-line" data-athl-line="160">
</span><span class="athl-line" data-athl-line="161"><span style="color: #848cb5;">&quot; A negative index is relative to the end of the string. See</span>
</span><span class="athl-line" data-athl-line="162"><span style="color: #848cb5;">&quot; |string-functions| for all string-related functions.</span>
</span><span class="athl-line" data-athl-line="163">
</span><span class="athl-line" data-athl-line="164"><span style="color: #848cb5;">&quot; Lists (|List|)</span>
</span><span class="athl-line" data-athl-line="165"><span style="color: #848cb5;">&quot; #####</span>
</span><span class="athl-line" data-athl-line="166"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="167"><span style="color: #848cb5;">&quot; An ordered zero-indexed heterogeneous sequence of arbitrary Vim script</span>
</span><span class="athl-line" data-athl-line="168"><span style="color: #848cb5;">&quot; objects.</span>
</span><span class="athl-line" data-athl-line="169">
</span><span class="athl-line" data-athl-line="170"><span style="color: #848cb5;">&quot; Literal constructor</span>
</span><span class="athl-line" data-athl-line="171"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #6172b0;">]</span>                   | &quot; <span style="color: #2e7de9;">Empty list</span>
</span><span class="athl-line" data-athl-line="172"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">]</span>      | &quot; <span style="color: #2e7de9;">List with elements</span>
</span><span class="athl-line" data-athl-line="173"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #006a83;">,</span> <span style="color: #6172b0;">]</span>    | &quot; <span style="color: #2e7de9;">Trailing comma permitted</span>
</span><span class="athl-line" data-athl-line="174"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">]</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">]</span>    | &quot; <span style="color: #2e7de9;">Lists can be nested arbitrarily</span>
</span><span class="athl-line" data-athl-line="175">
</span><span class="athl-line" data-athl-line="176"><span style="color: #848cb5;">&quot; List concatenation</span>
</span><span class="athl-line" data-athl-line="177"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">]</span> <span style="color: #006a83;">+</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">3</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span>      | &quot; <span style="color: #2e7de9;">Creates a new list</span>
</span><span class="athl-line" data-athl-line="178">
</span><span class="athl-line" data-athl-line="179"><span style="color: #848cb5;">&quot; List indexing, negative is relative to end of list (|list-index|)</span>
</span><span class="athl-line" data-athl-line="180"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">2</span><span style="color: #6172b0;">]</span>      | &quot; <span style="color: #2e7de9;">Third element</span>
</span><span class="athl-line" data-athl-line="181"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">-1</span><span style="color: #6172b0;">]</span>     | &quot; <span style="color: #2e7de9;">Last element</span>
</span><span class="athl-line" data-athl-line="182">
</span><span class="athl-line" data-athl-line="183"><span style="color: #848cb5;">&quot; List slicing (|sublist|)</span>
</span><span class="athl-line" data-athl-line="184"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">[</span><span style="color: #006a83;">:</span><span style="color: #6172b0;">]</span>      | &quot; <span style="color: #2e7de9;">Shallow copy of entire list</span>
</span><span class="athl-line" data-athl-line="185"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">[</span><span style="color: #006a83;">:</span><span style="color: #b15c00;">2</span><span style="color: #6172b0;">]</span>     | &quot; Sublist <span style="color: #2e7de9;">until third item (inclusive)</span>
</span><span class="athl-line" data-athl-line="186"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">2</span><span style="color: #006a83;">:</span><span style="color: #6172b0;">]</span>     | &quot; Sublist <span style="color: #2e7de9;">from third item (inclusive)</span>
</span><span class="athl-line" data-athl-line="187"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">4</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">[</span><span style="color: #006a83;">:</span><span style="color: #b15c00;">-2</span><span style="color: #6172b0;">]</span>    | &quot; Sublist until second-to-last item (inclusive)
</span><span class="athl-line" data-athl-line="188">
</span><span class="athl-line" data-athl-line="189"><span style="color: #848cb5;">&quot; All slicing operations create new lists. To modify a list in-place use list</span>
</span><span class="athl-line" data-athl-line="190"><span style="color: #848cb5;">&quot; functions (|list-functions|) or assign directly to an item (see below about</span>
</span><span class="athl-line" data-athl-line="191"><span style="color: #848cb5;">&quot; variables).</span>
</span><span class="athl-line" data-athl-line="192">
</span><span class="athl-line" data-athl-line="193">
</span><span class="athl-line" data-athl-line="194"><span style="color: #848cb5;">&quot; Dictionaries (|Dictionary|)</span>
</span><span class="athl-line" data-athl-line="195"><span style="color: #848cb5;">&quot; ############</span>
</span><span class="athl-line" data-athl-line="196"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="197"><span style="color: #848cb5;">&quot; An unordered sequence of key-value pairs, keys are always strings (numbers</span>
</span><span class="athl-line" data-athl-line="198"><span style="color: #848cb5;">&quot; are implicitly converted to strings).</span>
</span><span class="athl-line" data-athl-line="199">
</span><span class="athl-line" data-athl-line="200"><span style="color: #848cb5;">&quot; Dictionary literal</span>
</span><span class="athl-line" data-athl-line="201"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">{</span><span style="color: #6172b0;">}</span>                       | &quot; <span style="color: #2e7de9;">Empty dictionary</span>
</span><span class="athl-line" data-athl-line="202"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;a&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;b&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">}</span>         | &quot; <span style="color: #2e7de9;">Dictionary literal</span>
</span><span class="athl-line" data-athl-line="203"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;a&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;b&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #6172b0;">}</span>       | &quot; <span style="color: #2e7de9;">Trailing comma permitted</span>
</span><span class="athl-line" data-athl-line="204"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;x&#39;</span><span style="color: #006a83;">:</span> <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;a&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;b&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">}</span><span style="color: #6172b0;">}</span>  | &quot; <span style="color: #2e7de9;">Nested dictionary</span>
</span><span class="athl-line" data-athl-line="205">
</span><span class="athl-line" data-athl-line="206"><span style="color: #848cb5;">&quot; Indexing a dictionary</span>
</span><span class="athl-line" data-athl-line="207"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;a&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;b&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">}</span><span style="color: #6172b0;">[</span><span style="color: #587539;">&#39;a&#39;</span><span style="color: #6172b0;">]</span>    | &quot; <span style="color: #2e7de9;">Literal index</span>
</span><span class="athl-line" data-athl-line="208"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;a&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;b&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">}</span><span style="color: #006a83;">.</span><span style="color: #3760bf;">a</span>       | &quot; <span style="color: #2e7de9;">Syntactic sugar for simple keys</span>
</span><span class="athl-line" data-athl-line="209">
</span><span class="athl-line" data-athl-line="210"><span style="color: #848cb5;">&quot; See |dict-functions| for dictionary manipulation functions.</span>
</span><span class="athl-line" data-athl-line="211">
</span><span class="athl-line" data-athl-line="212">
</span><span class="athl-line" data-athl-line="213"><span style="color: #848cb5;">&quot; Funcref (|Funcref|)</span>
</span><span class="athl-line" data-athl-line="214"><span style="color: #848cb5;">&quot; #######</span>
</span><span class="athl-line" data-athl-line="215"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="216"><span style="color: #848cb5;">&quot; Reference to a function, uses the function name as a string for construction.</span>
</span><span class="athl-line" data-athl-line="217"><span style="color: #848cb5;">&quot; When stored in a variable the name of the variable has the same restrictions</span>
</span><span class="athl-line" data-athl-line="218"><span style="color: #848cb5;">&quot; as a function name (see below).</span>
</span><span class="athl-line" data-athl-line="219">
</span><span class="athl-line" data-athl-line="220"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">function</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;type&#39;</span><span style="color: #6172b0;">)</span>                   | &quot; <span style="color: #2e7de9;">Reference to function type()</span>
</span><span class="athl-line" data-athl-line="221"><span style="color: #848cb5;">&quot; Note that `funcref(&#39;type&#39;)` will throw an error because the argument must be</span>
</span><span class="athl-line" data-athl-line="222"><span style="color: #848cb5;">&quot; a user-defined function; see further below for defining your own functions.</span>
</span><span class="athl-line" data-athl-line="223"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">funcref</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;type&#39;</span><span style="color: #6172b0;">)</span>                    | &quot; <span style="color: #2e7de9;">Reference by identity, not name</span>
</span><span class="athl-line" data-athl-line="224"><span style="color: #848cb5;">&quot; A lambda (|lambda|) is an anonymous function; it can only contain one</span>
</span><span class="athl-line" data-athl-line="225"><span style="color: #848cb5;">&quot; expression in its body, which is also its implicit return value.</span>
</span><span class="athl-line" data-athl-line="226"><span style="color: #7847bd;">echo</span>  <span style="color: #6172b0;">{</span><span style="color: #3760bf;">x</span> <span style="color: #006a83;">-&gt;</span> <span style="color: #3760bf;">x</span> <span style="color: #006a83;">*</span> <span style="color: #3760bf;">x</span><span style="color: #6172b0;">}</span>                       | &quot; <span style="color: #2e7de9;">Anonymous function</span>
</span><span class="athl-line" data-athl-line="227"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">function</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;substitute&#39;</span><span style="color: #006a83;">,</span> <span style="color: #6172b0;">[</span><span style="color: #587539;">&#39;hello&#39;</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">)</span>  | &quot; <span style="color: #2e7de9;">Partial function</span>
</span><span class="athl-line" data-athl-line="228">
</span><span class="athl-line" data-athl-line="229">
</span><span class="athl-line" data-athl-line="230"><span style="color: #848cb5;">&quot; Regular expression (|regular-expression|)</span>
</span><span class="athl-line" data-athl-line="231"><span style="color: #848cb5;">&quot; ##################</span>
</span><span class="athl-line" data-athl-line="232"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="233"><span style="color: #848cb5;">&quot; A regular expression pattern is generally a string, but in some cases you can</span>
</span><span class="athl-line" data-athl-line="234"><span style="color: #848cb5;">&quot; also use a regular expression between a pair of delimiters (usually `/`, but</span>
</span><span class="athl-line" data-athl-line="235"><span style="color: #848cb5;">&quot; you can choose anything).</span>
</span><span class="athl-line" data-athl-line="236">
</span><span class="athl-line" data-athl-line="237"><span style="color: #848cb5;">&quot; Substitute &#39;hello&#39; for &#39;Hello&#39;</span>
</span><span class="athl-line" data-athl-line="238"><span style="color: #7847bd;">substitute</span>/hello/Hello/
</span><span class="athl-line" data-athl-line="239">
</span><span class="athl-line" data-athl-line="240">
</span><span class="athl-line" data-athl-line="241"><span style="color: #848cb5;">&quot; ###########################</span>
</span><span class="athl-line" data-athl-line="242"><span style="color: #848cb5;">&quot;  Implicit type conversions</span>
</span><span class="athl-line" data-athl-line="243"><span style="color: #848cb5;">&quot; ###########################</span>
</span><span class="athl-line" data-athl-line="244"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="245"><span style="color: #848cb5;">&quot; Strings are converted to numbers, and numbers to strings when necessary. A</span>
</span><span class="athl-line" data-athl-line="246"><span style="color: #848cb5;">&quot; number becomes its decimal notation as a string. A string becomes its</span>
</span><span class="athl-line" data-athl-line="247"><span style="color: #848cb5;">&quot; numerical value if it can be parsed to a number, otherwise it becomes zero.</span>
</span><span class="athl-line" data-athl-line="248">
</span><span class="athl-line" data-athl-line="249"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;1&quot;</span> <span style="color: #006a83;">+</span> <span style="color: #b15c00;">1</span>         | &quot; <span style="color: #2e7de9;">Number</span>
</span><span class="athl-line" data-athl-line="250"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;1&quot;</span> <span style="color: #006a83;">..</span> <span style="color: #b15c00;">1</span>        | &quot; <span style="color: #2e7de9;">String</span>
</span><span class="athl-line" data-athl-line="251"><span style="color: #7847bd;">echo</span>  <span style="color: #587539;">&quot;0xA&quot;</span> <span style="color: #006a83;">+</span> <span style="color: #b15c00;">1</span>       | &quot; <span style="color: #2e7de9;">Number</span>
</span><span class="athl-line" data-athl-line="252">
</span><span class="athl-line" data-athl-line="253"><span style="color: #848cb5;">&quot; Strings are treated like numbers when used as booleans</span>
</span><span class="athl-line" data-athl-line="254"><span style="color: #7847bd;">echo</span> <span style="color: #587539;">&quot;true&quot;</span> <span style="color: #9854f1;">?</span> <span style="color: #b15c00;">1</span> <span style="color: #9854f1;">:</span> <span style="color: #b15c00;">0</span>   | &quot; This string is <span style="color: #2e7de9;">parsed to 0, which is false</span>
</span><span class="athl-line" data-athl-line="255">
</span><span class="athl-line" data-athl-line="256"><span style="color: #848cb5;">&quot; ###########</span>
</span><span class="athl-line" data-athl-line="257"><span style="color: #848cb5;">&quot;  Variables</span>
</span><span class="athl-line" data-athl-line="258"><span style="color: #848cb5;">&quot; ###########</span>
</span><span class="athl-line" data-athl-line="259"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="260"><span style="color: #848cb5;">&quot; Variables are bound within a scope; if no scope is provided a default is</span>
</span><span class="athl-line" data-athl-line="261"><span style="color: #848cb5;">&quot; chosen by Vim. Use `:let` and `:const` to bind a value and `:unlet` to unbind</span>
</span><span class="athl-line" data-athl-line="262"><span style="color: #848cb5;">&quot; it.</span>
</span><span class="athl-line" data-athl-line="263">
</span><span class="athl-line" data-athl-line="264"><span style="color: #7847bd;">let</span> <span style="color: #007197;">b:</span><span style="color: #3760bf;">my_var</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">1</span>        | <span style="color: #848cb5;">&quot; Local to current buffer</span>
</span><span class="athl-line" data-athl-line="265"><span style="color: #7847bd;">let</span> <span style="color: #007197;">w:</span><span style="color: #3760bf;">my_var</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">1</span>        | <span style="color: #848cb5;">&quot; Local to current window</span>
</span><span class="athl-line" data-athl-line="266"><span style="color: #7847bd;">let</span> <span style="color: #007197;">t:</span><span style="color: #3760bf;">my_var</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">1</span>        | <span style="color: #848cb5;">&quot; Local to current tab page</span>
</span><span class="athl-line" data-athl-line="267"><span style="color: #7847bd;">let</span> <span style="color: #007197;">g:</span><span style="color: #3760bf;">my_var</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">1</span>        | <span style="color: #848cb5;">&quot; Global variable</span>
</span><span class="athl-line" data-athl-line="268"><span style="color: #7847bd;">let</span> <span style="color: #007197;">l:</span><span style="color: #3760bf;">my_var</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">1</span>        | <span style="color: #848cb5;">&quot; Local to current function (see functions below)</span>
</span><span class="athl-line" data-athl-line="269"><span style="color: #7847bd;">let</span> <span style="color: #007197;">s:</span><span style="color: #3760bf;">my_var</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">1</span>        | <span style="color: #848cb5;">&quot; Local to current script file</span>
</span><span class="athl-line" data-athl-line="270"><span style="color: #7847bd;">let</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">my_arg</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">1</span>        | <span style="color: #848cb5;">&quot; Function argument (see functions below)</span>
</span><span class="athl-line" data-athl-line="271">
</span><span class="athl-line" data-athl-line="272"><span style="color: #848cb5;">&quot; The Vim scope is read-only</span>
</span><span class="athl-line" data-athl-line="273"><span style="color: #7847bd;">echo</span>  v:<span style="color: #b15c00;">true</span>            | &quot; Special built-in <span style="color: #2e7de9;">Vim variables (|v:var|)</span>
</span><span class="athl-line" data-athl-line="274">
</span><span class="athl-line" data-athl-line="275"><span style="color: #848cb5;">&quot; Access special Vim memory like variables</span>
</span><span class="athl-line" data-athl-line="276"><span style="color: #7847bd;">let</span> @a <span style="color: #006a83;">=</span> <span style="color: #587539;">&#39;Hello&#39;</span>        | <span style="color: #848cb5;">&quot; Register</span>
</span><span class="athl-line" data-athl-line="277"><span style="color: #7847bd;">let</span> <span style="color: #007197;">$</span><span style="color: #b15c00;">PATH</span><span style="color: #006a83;">=</span><span style="color: #587539;">&#39;&#39;</span>            | <span style="color: #848cb5;">&quot; Environment variable</span>
</span><span class="athl-line" data-athl-line="278"><span style="color: #7847bd;">let</span> <span style="color: #006a83;">&amp;</span><span style="color: #f52a65;">textwidth</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">79</span>     | <span style="color: #848cb5;">&quot; Option</span>
</span><span class="athl-line" data-athl-line="279"><span style="color: #7847bd;">let</span> <span style="color: #006a83;">&amp;</span><span style="color: #007197;">l:</span><span style="color: #f52a65;">textwidth</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">79</span>   | <span style="color: #848cb5;">&quot; Local option</span>
</span><span class="athl-line" data-athl-line="280"><span style="color: #7847bd;">let</span> <span style="color: #006a83;">&amp;</span><span style="color: #007197;">g:</span><span style="color: #f52a65;">textwidth</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">79</span>   | <span style="color: #848cb5;">&quot; Global option</span>
</span><span class="athl-line" data-athl-line="281">
</span><span class="athl-line" data-athl-line="282"><span style="color: #848cb5;">&quot; Access scopes as dictionaries (can be modified like all dictionaries)</span>
</span><span class="athl-line" data-athl-line="283"><span style="color: #848cb5;">&quot; See the |dict-functions|, especially |get()|, for access and manipulation</span>
</span><span class="athl-line" data-athl-line="284"><span style="color: #7847bd;">echo</span>  b:                | &quot; <span style="color: #2e7de9;">All buffer variables</span>
</span><span class="athl-line" data-athl-line="285"><span style="color: #7847bd;">echo</span>  w:                | &quot; <span style="color: #2e7de9;">All window variables</span>
</span><span class="athl-line" data-athl-line="286"><span style="color: #7847bd;">echo</span>  t:                | &quot; <span style="color: #2e7de9;">All tab page variables</span>
</span><span class="athl-line" data-athl-line="287"><span style="color: #7847bd;">echo</span>  g:                | &quot; <span style="color: #2e7de9;">All global variables</span>
</span><span class="athl-line" data-athl-line="288"><span style="color: #7847bd;">echo</span>  l:                | &quot; <span style="color: #2e7de9;">All local variables</span>
</span><span class="athl-line" data-athl-line="289"><span style="color: #7847bd;">echo</span>  s:                | &quot; <span style="color: #2e7de9;">All script variables</span>
</span><span class="athl-line" data-athl-line="290"><span style="color: #7847bd;">echo</span>  <span style="color: #007197;">a:</span>                | &quot; <span style="color: #2e7de9;">All function arguments</span>
</span><span class="athl-line" data-athl-line="291"><span style="color: #7847bd;">echo</span>  v:                | &quot; <span style="color: #2e7de9;">All Vim variables</span>
</span><span class="athl-line" data-athl-line="292">
</span><span class="athl-line" data-athl-line="293"><span style="color: #848cb5;">&quot; Constant variables</span>
</span><span class="athl-line" data-athl-line="294"><span style="color: #7847bd;">const</span> <span style="color: #3760bf;">x</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">10</span>            | <span style="color: #848cb5;">&quot; See |:const|, |:lockvar|</span>
</span><span class="athl-line" data-athl-line="295">
</span><span class="athl-line" data-athl-line="296"><span style="color: #848cb5;">&quot; Function reference variables have the same restrictions as function names</span>
</span><span class="athl-line" data-athl-line="297"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">IsString</span> <span style="color: #006a83;">=</span> <span style="color: #6172b0;">{</span><span style="color: #3760bf;">x</span> <span style="color: #006a83;">-&gt;</span> <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">x</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;&#39;</span><span style="color: #6172b0;">)</span><span style="color: #6172b0;">}</span>    | <span style="color: #848cb5;">&quot; Global: capital letter</span>
</span><span class="athl-line" data-athl-line="298"><span style="color: #7847bd;">let</span> <span style="color: #007197;">s:</span><span style="color: #3760bf;">isNumber</span> <span style="color: #006a83;">=</span> <span style="color: #6172b0;">{</span><span style="color: #3760bf;">x</span> <span style="color: #006a83;">-&gt;</span> <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">x</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #b15c00;">0</span><span style="color: #6172b0;">)</span><span style="color: #6172b0;">}</span>   | <span style="color: #848cb5;">&quot; Local: any name allowed</span>
</span><span class="athl-line" data-athl-line="299">
</span><span class="athl-line" data-athl-line="300"><span style="color: #848cb5;">&quot; When omitted the scope `g:` is implied, except in functions, there `l:` is</span>
</span><span class="athl-line" data-athl-line="301"><span style="color: #848cb5;">&quot; implied.</span>
</span><span class="athl-line" data-athl-line="302">
</span><span class="athl-line" data-athl-line="303">
</span><span class="athl-line" data-athl-line="304"><span style="color: #848cb5;">&quot; Multiple value binding (list unpacking)</span>
</span><span class="athl-line" data-athl-line="305"><span style="color: #848cb5;">&quot; #######################################</span>
</span><span class="athl-line" data-athl-line="306"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="307"><span style="color: #848cb5;">&quot; Assign values of list to multiple variables (number of items must match)</span>
</span><span class="athl-line" data-athl-line="308"><span style="color: #7847bd;">let</span> <span style="color: #6172b0;">[</span><span style="color: #3760bf;">x</span><span style="color: #006a83;">,</span> <span style="color: #3760bf;">y</span><span style="color: #6172b0;">]</span> <span style="color: #006a83;">=</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">]</span>
</span><span class="athl-line" data-athl-line="309">
</span><span class="athl-line" data-athl-line="310"><span style="color: #848cb5;">&quot; Assign the remainder to a rest variable (note the semicolon)</span>
</span><span class="athl-line" data-athl-line="311"><span style="color: #7847bd;">let</span> <span style="color: #6172b0;">[</span><span style="color: #3760bf;">mother</span><span style="color: #006a83;">,</span> <span style="color: #3760bf;">father</span>; <span style="color: #3760bf;">children</span><span style="color: #6172b0;">]</span> <span style="color: #006a83;">=</span> <span style="color: #6172b0;">[</span><span style="color: #587539;">&#39;Alice&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Bob&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Carol&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Dennis&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Emily&#39;</span><span style="color: #6172b0;">]</span>
</span><span class="athl-line" data-athl-line="312">
</span><span class="athl-line" data-athl-line="313">
</span><span class="athl-line" data-athl-line="314"><span style="color: #848cb5;">&quot; ##############</span>
</span><span class="athl-line" data-athl-line="315"><span style="color: #848cb5;">&quot;  Flow control</span>
</span><span class="athl-line" data-athl-line="316"><span style="color: #848cb5;">&quot; ##############</span>
</span><span class="athl-line" data-athl-line="317">
</span><span class="athl-line" data-athl-line="318"><span style="color: #848cb5;">&quot; Conditional (|:if|, |:elseif|, |:else|, |:endif|)</span>
</span><span class="athl-line" data-athl-line="319"><span style="color: #848cb5;">&quot; ###########</span>
</span><span class="athl-line" data-athl-line="320"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="321"><span style="color: #848cb5;">&quot; Conditions are set between `if` and `endif`. They can be nested.</span>
</span><span class="athl-line" data-athl-line="322">
</span><span class="athl-line" data-athl-line="323"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">condition</span> <span style="color: #006a83;">=</span> v:<span style="color: #b15c00;">true</span>
</span><span class="athl-line" data-athl-line="324">
</span><span class="athl-line" data-athl-line="325"><span style="color: #9854f1;">if</span> <span style="color: #3760bf;">condition</span>
</span><span class="athl-line" data-athl-line="326">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;First condition&#39;</span>
</span><span class="athl-line" data-athl-line="327"><span style="color: #9854f1;">elseif</span> <span style="color: #3760bf;">another_condition</span>
</span><span class="athl-line" data-athl-line="328">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Second condition&#39;</span>
</span><span class="athl-line" data-athl-line="329"><span style="color: #9854f1;">else</span>
</span><span class="athl-line" data-athl-line="330">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Fail&#39;</span>
</span><span class="athl-line" data-athl-line="331"><span style="color: #9854f1;">endif</span>
</span><span class="athl-line" data-athl-line="332">
</span><span class="athl-line" data-athl-line="333"><span style="color: #848cb5;">&quot; Loops (|:for|, |:endfor|, |:while|, |:endwhile|, |:break|, |:continue|)</span>
</span><span class="athl-line" data-athl-line="334"><span style="color: #848cb5;">&quot; #####</span>
</span><span class="athl-line" data-athl-line="335"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="336"><span style="color: #848cb5;">&quot; Two types of loops: `:for` and `:while`. Use `:continue` to skip to the next</span>
</span><span class="athl-line" data-athl-line="337"><span style="color: #848cb5;">&quot; iteration, `:break` to break out of the loop.</span>
</span><span class="athl-line" data-athl-line="338">
</span><span class="athl-line" data-athl-line="339"><span style="color: #848cb5;">&quot; For-loop (|:for|, |:endfor|)</span>
</span><span class="athl-line" data-athl-line="340"><span style="color: #848cb5;">&quot; ========</span>
</span><span class="athl-line" data-athl-line="341"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="342"><span style="color: #848cb5;">&quot; For-loops iterate over lists and nothing else. If you want to iterate over</span>
</span><span class="athl-line" data-athl-line="343"><span style="color: #848cb5;">&quot; another sequence you need to use a function which will create a list.</span>
</span><span class="athl-line" data-athl-line="344">
</span><span class="athl-line" data-athl-line="345"><span style="color: #848cb5;">&quot; Iterate over a list</span>
</span><span class="athl-line" data-athl-line="346"><span style="color: #9854f1;">for</span> <span style="color: #3760bf;">person</span> <span style="color: #9854f1;">in</span> <span style="color: #6172b0;">[</span><span style="color: #587539;">&#39;Alice&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Bob&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Carol&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Dennis&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Emily&#39;</span><span style="color: #6172b0;">]</span>
</span><span class="athl-line" data-athl-line="347">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Hello &#39;</span> <span style="color: #006a83;">..</span> <span style="color: #3760bf;">person</span>
</span><span class="athl-line" data-athl-line="348"><span style="color: #9854f1;">endfor</span>
</span><span class="athl-line" data-athl-line="349">
</span><span class="athl-line" data-athl-line="350"><span style="color: #848cb5;">&quot; Iterate over a nested list by unpacking it</span>
</span><span class="athl-line" data-athl-line="351"><span style="color: #9854f1;">for</span> <span style="color: #6172b0;">[</span><span style="color: #3760bf;">x</span><span style="color: #006a83;">,</span> <span style="color: #3760bf;">y</span><span style="color: #6172b0;">]</span> <span style="color: #9854f1;">in</span> <span style="color: #6172b0;">[</span><span style="color: #6172b0;">[</span><span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">0</span><span style="color: #6172b0;">]</span><span style="color: #006a83;">,</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">0</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">1</span><span style="color: #6172b0;">]</span><span style="color: #006a83;">,</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">-1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">0</span><span style="color: #6172b0;">]</span><span style="color: #006a83;">,</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">0</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">-1</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">]</span>
</span><span class="athl-line" data-athl-line="352">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Position: x =&#39;</span>  <span style="color: #006a83;">..</span> <span style="color: #3760bf;">x</span> <span style="color: #006a83;">..</span> <span style="color: #587539;">&#39;, y = &#39;</span> <span style="color: #006a83;">..</span> <span style="color: #3760bf;">y</span>
</span><span class="athl-line" data-athl-line="353"><span style="color: #9854f1;">endfor</span>
</span><span class="athl-line" data-athl-line="354">
</span><span class="athl-line" data-athl-line="355"><span style="color: #848cb5;">&quot; Iterate over a range of numbers</span>
</span><span class="athl-line" data-athl-line="356"><span style="color: #9854f1;">for</span> <span style="color: #3760bf;">i</span> <span style="color: #9854f1;">in</span> <span style="color: #2e7de9;">range</span><span style="color: #6172b0;">(</span><span style="color: #b15c00;">10</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">0</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">-1</span><span style="color: #6172b0;">)</span>  <span style="color: #848cb5;">&quot; Count down from 10</span>
</span><span class="athl-line" data-athl-line="357">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;T minus&#39;</span>  <span style="color: #006a83;">..</span> <span style="color: #3760bf;">i</span>
</span><span class="athl-line" data-athl-line="358"><span style="color: #9854f1;">endfor</span>
</span><span class="athl-line" data-athl-line="359">
</span><span class="athl-line" data-athl-line="360"><span style="color: #848cb5;">&quot; Iterate over the keys of a dictionary</span>
</span><span class="athl-line" data-athl-line="361"><span style="color: #9854f1;">for</span> <span style="color: #3760bf;">symbol</span> <span style="color: #9854f1;">in</span> <span style="color: #2e7de9;">keys</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;π&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">3.14</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;e&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2.71</span><span style="color: #6172b0;">}</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="362">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;The constant &#39;</span> <span style="color: #006a83;">..</span> <span style="color: #3760bf;">symbol</span> <span style="color: #006a83;">..</span> <span style="color: #587539;">&#39; is a transcendent number&#39;</span>
</span><span class="athl-line" data-athl-line="363"><span style="color: #9854f1;">endfor</span>
</span><span class="athl-line" data-athl-line="364">
</span><span class="athl-line" data-athl-line="365"><span style="color: #848cb5;">&quot; Iterate over the values of a dictionary</span>
</span><span class="athl-line" data-athl-line="366"><span style="color: #9854f1;">for</span> <span style="color: #3760bf;">value</span> <span style="color: #9854f1;">in</span> <span style="color: #2e7de9;">values</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;π&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">3.14</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;e&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2.71</span><span style="color: #6172b0;">}</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="367">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;The value &#39;</span> <span style="color: #006a83;">..</span> <span style="color: #3760bf;">value</span> <span style="color: #006a83;">..</span> <span style="color: #587539;">&#39; approximates a transcendent number&#39;</span>
</span><span class="athl-line" data-athl-line="368"><span style="color: #9854f1;">endfor</span>
</span><span class="athl-line" data-athl-line="369">
</span><span class="athl-line" data-athl-line="370"><span style="color: #848cb5;">&quot; Iterate over the keys and values of a dictionary</span>
</span><span class="athl-line" data-athl-line="371"><span style="color: #9854f1;">for</span> <span style="color: #6172b0;">[</span><span style="color: #3760bf;">symbol</span><span style="color: #006a83;">,</span> <span style="color: #3760bf;">value</span><span style="color: #6172b0;">]</span> <span style="color: #9854f1;">in</span> <span style="color: #2e7de9;">items</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;π&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">3.14</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;e&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2.71</span><span style="color: #6172b0;">}</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="372">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;The number &#39;</span> <span style="color: #006a83;">..</span> <span style="color: #3760bf;">symbol</span> <span style="color: #006a83;">..</span> <span style="color: #587539;">&#39; is approximately &#39;</span> <span style="color: #006a83;">..</span> <span style="color: #3760bf;">value</span>
</span><span class="athl-line" data-athl-line="373"><span style="color: #9854f1;">endfor</span>
</span><span class="athl-line" data-athl-line="374">
</span><span class="athl-line" data-athl-line="375"><span style="color: #848cb5;">&quot; While-loops (|:while|, |:endwhile|)</span>
</span><span class="athl-line" data-athl-line="376">
</span><span class="athl-line" data-athl-line="377"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">there_yet</span> <span style="color: #006a83;">=</span> v:<span style="color: #b15c00;">true</span>
</span><span class="athl-line" data-athl-line="378"><span style="color: #9854f1;">while</span> <span style="color: #006a83;">!</span><span style="color: #3760bf;">there_yet</span>
</span><span class="athl-line" data-athl-line="379">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Are we there yet?&#39;</span>
</span><span class="athl-line" data-athl-line="380"><span style="color: #9854f1;">endwhile</span>
</span><span class="athl-line" data-athl-line="381">
</span><span class="athl-line" data-athl-line="382">
</span><span class="athl-line" data-athl-line="383"><span style="color: #848cb5;">&quot; Exception handling (|exception-handling|)</span>
</span><span class="athl-line" data-athl-line="384"><span style="color: #848cb5;">&quot; ##################</span>
</span><span class="athl-line" data-athl-line="385"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="386"><span style="color: #848cb5;">&quot; Throw new exceptions as strings, catch them by pattern-matching a regular</span>
</span><span class="athl-line" data-athl-line="387"><span style="color: #848cb5;">&quot; expression against the string</span>
</span><span class="athl-line" data-athl-line="388">
</span><span class="athl-line" data-athl-line="389"><span style="color: #848cb5;">&quot; Throw new exception</span>
</span><span class="athl-line" data-athl-line="390"><span style="color: #9854f1;">throw</span> <span style="color: #587539;">&quot;Wrong arguments&quot;</span>
</span><span class="athl-line" data-athl-line="391">
</span><span class="athl-line" data-athl-line="392"><span style="color: #848cb5;">&quot; Guard against an exception (the second catch matches any exception)</span>
</span><span class="athl-line" data-athl-line="393"><span style="color: #9854f1;">try</span>
</span><span class="athl-line" data-athl-line="394">    <span style="color: #7847bd;">source</span> <span style="color: #188092;">path/to/file</span>
</span><span class="athl-line" data-athl-line="395"><span style="color: #9854f1;">catch</span> <span style="color: #188092;">/Cannot open/</span>
</span><span class="athl-line" data-athl-line="396">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Looks like that file does not exist&#39;</span>
</span><span class="athl-line" data-athl-line="397"><span style="color: #9854f1;">catch</span> <span style="color: #188092;">/.*/</span>
</span><span class="athl-line" data-athl-line="398">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Something went wrong, but I do not know what&#39;</span>
</span><span class="athl-line" data-athl-line="399"><span style="color: #9854f1;">finally</span>
</span><span class="athl-line" data-athl-line="400">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;I am done trying&#39;</span>
</span><span class="athl-line" data-athl-line="401"><span style="color: #9854f1;">endtry</span>
</span><span class="athl-line" data-athl-line="402">
</span><span class="athl-line" data-athl-line="403">
</span><span class="athl-line" data-athl-line="404"><span style="color: #848cb5;">&quot; ##########</span>
</span><span class="athl-line" data-athl-line="405"><span style="color: #848cb5;">&quot;  Functions</span>
</span><span class="athl-line" data-athl-line="406"><span style="color: #848cb5;">&quot; ##########</span>
</span><span class="athl-line" data-athl-line="407">
</span><span class="athl-line" data-athl-line="408"><span style="color: #848cb5;">&quot; Defining functions (|:function|, |:endfunction|)</span>
</span><span class="athl-line" data-athl-line="409"><span style="color: #848cb5;">&quot; ##################</span>
</span><span class="athl-line" data-athl-line="410">
</span><span class="athl-line" data-athl-line="411"><span style="color: #848cb5;">&quot; Unscoped function names have to start with a capital letter</span>
</span><span class="athl-line" data-athl-line="412"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;">AddNumbersLoudly</span><span style="color: #6172b0;">(</span><span style="color: #8c6c3e;">x</span><span style="color: #006a83;">,</span> <span style="color: #8c6c3e;">y</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="413">    <span style="color: #848cb5;">&quot; Use a: scope to access arguments</span>
</span><span class="athl-line" data-athl-line="414">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Adding&#39;</span>  <span style="color: #006a83;">..</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">x</span> <span style="color: #006a83;">..</span>  <span style="color: #587539;">&#39;and&#39;</span>  <span style="color: #006a83;">..</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">y</span>   | &quot; <span style="color: #2e7de9;">A side effect</span>
</span><span class="athl-line" data-athl-line="415">    <span style="color: #7847bd;">return</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">x</span> <span style="color: #006a83;">+</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">y</span>                          | <span style="color: #848cb5;">&quot; A return value</span>
</span><span class="athl-line" data-athl-line="416"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="417">
</span><span class="athl-line" data-athl-line="418"><span style="color: #848cb5;">&quot; Scoped function names may start with a lower-case letter</span>
</span><span class="athl-line" data-athl-line="419"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;"><span style="color: #007197;">s:</span><span style="color: #3760bf;">addNumbersLoudly</span></span><span style="color: #6172b0;">(</span><span style="color: #8c6c3e;">x</span><span style="color: #006a83;">,</span> <span style="color: #8c6c3e;">y</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="420">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;Adding&#39;</span>  <span style="color: #006a83;">..</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">x</span> <span style="color: #006a83;">..</span>  <span style="color: #587539;">&#39;and&#39;</span>  <span style="color: #006a83;">..</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">y</span>
</span><span class="athl-line" data-athl-line="421">    <span style="color: #7847bd;">return</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">x</span> <span style="color: #006a83;">+</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">y</span>
</span><span class="athl-line" data-athl-line="422"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="423">
</span><span class="athl-line" data-athl-line="424"><span style="color: #848cb5;">&quot; Without the exclamation mark it would be an error to re-define a function,</span>
</span><span class="athl-line" data-athl-line="425"><span style="color: #848cb5;">&quot; with the exclamation mark the new definition can replace the old one. Since</span>
</span><span class="athl-line" data-athl-line="426"><span style="color: #848cb5;">&quot; Vim script files can be reloaded several times over the course of a session</span>
</span><span class="athl-line" data-athl-line="427"><span style="color: #848cb5;">&quot; it is best to use the exclamation mark unless you really know what you are</span>
</span><span class="athl-line" data-athl-line="428"><span style="color: #848cb5;">&quot; doing.</span>
</span><span class="athl-line" data-athl-line="429">
</span><span class="athl-line" data-athl-line="430"><span style="color: #848cb5;">&quot; Function definitions can have special qualifiers following the argument list.</span>
</span><span class="athl-line" data-athl-line="431">
</span><span class="athl-line" data-athl-line="432"><span style="color: #848cb5;">&quot; Range functions define two implicit arguments, which will be set to the range</span>
</span><span class="athl-line" data-athl-line="433"><span style="color: #848cb5;">&quot; of the ex-command</span>
</span><span class="athl-line" data-athl-line="434"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;">FirstAndLastLine</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">)</span> range
</span><span class="athl-line" data-athl-line="435">    <span style="color: #7847bd;">echo</span> <span style="color: #6172b0;">[</span><span style="color: #007197;">a:</span><span style="color: #3760bf;">firstline</span><span style="color: #006a83;">,</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">lastline</span><span style="color: #6172b0;">]</span>
</span><span class="athl-line" data-athl-line="436"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="437">
</span><span class="athl-line" data-athl-line="438"><span style="color: #848cb5;">&quot; Prints the first and last line that match a pattern (|cmdline-ranges|)</span>
</span><span class="athl-line" data-athl-line="439"><span style="color: #006a83;">/</span><span style="color: #188092;">^#</span><span style="color: #006a83;">!</span><span style="color: #587539;">/,/<span style="color: #006a83;">!</span>#$/call FirstAndLastLine()</span>
</span><span class="athl-line" data-athl-line="440">
</span><span class="athl-line" data-athl-line="441"><span style="color: #848cb5;">&quot; Aborting functions, abort once error occurs (|:func-abort|)</span>
</span><span class="athl-line" data-athl-line="442"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;">SourceMyFile</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">)</span> <span style="color: #7847bd;">abort</span>
</span><span class="athl-line" data-athl-line="443">    <span style="color: #7847bd;">source</span> <span style="color: #188092;">my-file.vim</span>        | <span style="color: #848cb5;">&quot; Try sourcing non-existing file</span>
</span><span class="athl-line" data-athl-line="444">    <span style="color: #7847bd;">echo</span> <span style="color: #587539;">&#39;This will never be printed&#39;</span>
</span><span class="athl-line" data-athl-line="445"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="446">
</span><span class="athl-line" data-athl-line="447"><span style="color: #848cb5;">&quot; Closures, functions carrying values from outer scope (|:func-closure|)</span>
</span><span class="athl-line" data-athl-line="448"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;">MakeAdder</span><span style="color: #6172b0;">(</span><span style="color: #8c6c3e;">x</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="449">    <span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;">Adder</span><span style="color: #6172b0;">(</span><span style="color: #8c6c3e;">n</span><span style="color: #6172b0;">)</span> closure
</span><span class="athl-line" data-athl-line="450">        <span style="color: #7847bd;">return</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">n</span> <span style="color: #006a83;">+</span> <span style="color: #007197;">a:</span><span style="color: #3760bf;">x</span>
</span><span class="athl-line" data-athl-line="451">    <span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="452">    <span style="color: #7847bd;">return</span> <span style="color: #2e7de9;">funcref</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;Adder&#39;</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="453"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="454"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">AddFive</span> <span style="color: #006a83;">=</span> <span style="color: #2e7de9;">MakeAdder</span><span style="color: #6172b0;">(</span><span style="color: #b15c00;">5</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="455"><span style="color: #7847bd;">echo</span> <span style="color: #2e7de9;">AddFive</span><span style="color: #6172b0;">(</span><span style="color: #b15c00;">3</span><span style="color: #6172b0;">)</span>               | &quot; <span style="color: #2e7de9;">Prints 8</span>
</span><span class="athl-line" data-athl-line="456">
</span><span class="athl-line" data-athl-line="457"><span style="color: #848cb5;">&quot; Dictionary functions, poor man&#39;s OOP methods (|Dictionary-function|)</span>
</span><span class="athl-line" data-athl-line="458"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;">Mylen</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">)</span> dict
</span><span class="athl-line" data-athl-line="459">    <span style="color: #7847bd;">return</span> <span style="color: #2e7de9;">len</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">self</span><span style="color: #006a83;">.</span><span style="color: #3760bf;">data</span><span style="color: #6172b0;">)</span>     | <span style="color: #848cb5;">&quot; Implicit variable self</span>
</span><span class="athl-line" data-athl-line="460"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="461"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">mydict</span> <span style="color: #006a83;">=</span> <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;data&#39;</span><span style="color: #006a83;">:</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">0</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #6172b0;">]</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;len&#39;</span><span style="color: #006a83;">:</span> <span style="color: #2e7de9;">function</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&quot;Mylen&quot;</span><span style="color: #6172b0;">)</span><span style="color: #6172b0;">}</span>
</span><span class="athl-line" data-athl-line="462"><span style="color: #7847bd;">echo</span> <span style="color: #3760bf;">mydict</span><span style="color: #006a83;">.</span><span style="color: #3760bf;">len</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="463">
</span><span class="athl-line" data-athl-line="464"><span style="color: #848cb5;">&quot; Alternatively, more concise</span>
</span><span class="athl-line" data-athl-line="465"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">mydict</span> <span style="color: #006a83;">=</span> <span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;data&#39;</span><span style="color: #006a83;">:</span> <span style="color: #6172b0;">[</span><span style="color: #b15c00;">0</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">2</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">}</span>
</span><span class="athl-line" data-athl-line="466"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;"><span style="color: #3760bf;">mydict</span><span style="color: #006a83;">.</span><span style="color: #3760bf;">len</span></span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="467">    <span style="color: #7847bd;">return</span> <span style="color: #2e7de9;">len</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">self</span><span style="color: #006a83;">.</span><span style="color: #3760bf;">data</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="468"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="469">
</span><span class="athl-line" data-athl-line="470"><span style="color: #848cb5;">&quot; Calling functions (|:call|)</span>
</span><span class="athl-line" data-athl-line="471"><span style="color: #848cb5;">&quot; #################</span>
</span><span class="athl-line" data-athl-line="472">
</span><span class="athl-line" data-athl-line="473"><span style="color: #848cb5;">&quot; Call a function for its return value, and possibly for its side effects</span>
</span><span class="athl-line" data-athl-line="474"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">animals</span> <span style="color: #006a83;">=</span> <span style="color: #2e7de9;">keys</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;cow&#39;</span><span style="color: #006a83;">:</span> <span style="color: #587539;">&#39;moo&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;dog&#39;</span><span style="color: #006a83;">:</span> <span style="color: #587539;">&#39;woof&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;cat&#39;</span><span style="color: #006a83;">:</span> <span style="color: #587539;">&#39;meow&#39;</span><span style="color: #6172b0;">}</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="475">
</span><span class="athl-line" data-athl-line="476"><span style="color: #848cb5;">&quot; Call a function for its side effects only, ignore potential return value</span>
</span><span class="athl-line" data-athl-line="477"><span style="color: #7847bd;">call</span> <span style="color: #2e7de9;">sign_undefine</span><span style="color: #6172b0;">(</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="478">
</span><span class="athl-line" data-athl-line="479"><span style="color: #848cb5;">&quot; The call() function calls a function reference and passes parameters as a</span>
</span><span class="athl-line" data-athl-line="480"><span style="color: #848cb5;">&quot; list, and returns the function&#39;s result.</span>
</span><span class="athl-line" data-athl-line="481"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">call</span><span style="color: #6172b0;">(</span><span style="color: #2e7de9;">function</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;get&#39;</span><span style="color: #6172b0;">)</span><span style="color: #006a83;">,</span> <span style="color: #6172b0;">[</span><span style="color: #6172b0;">{</span><span style="color: #587539;">&#39;a&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">1</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;b&#39;</span><span style="color: #006a83;">:</span> <span style="color: #b15c00;">2</span><span style="color: #6172b0;">}</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;c&#39;</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">3</span><span style="color: #6172b0;">]</span><span style="color: #6172b0;">)</span>   | &quot; <span style="color: #2e7de9;">Prints 3</span>
</span><span class="athl-line" data-athl-line="482">
</span><span class="athl-line" data-athl-line="483"><span style="color: #848cb5;">&quot; Recall that Vim script is embedded within the ex-commands, that is why we</span>
</span><span class="athl-line" data-athl-line="484"><span style="color: #848cb5;">&quot; cannot just call a function directly, we have to use the `:call` ex-command.</span>
</span><span class="athl-line" data-athl-line="485">
</span><span class="athl-line" data-athl-line="486"><span style="color: #848cb5;">&quot; Function namespaces (|write-library-script|, |autoload|)</span>
</span><span class="athl-line" data-athl-line="487"><span style="color: #848cb5;">&quot; ###################</span>
</span><span class="athl-line" data-athl-line="488">
</span><span class="athl-line" data-athl-line="489"><span style="color: #848cb5;">&quot; Must be defined in autoload/foo/bar.vim</span>
</span><span class="athl-line" data-athl-line="490"><span style="color: #848cb5;">&quot; Namspaced function names do not have to start with a capital letter</span>
</span><span class="athl-line" data-athl-line="491"><span style="color: #9854f1;">function</span><span style="color: #006a83;">!</span> <span style="color: #2e7de9;">foo#bar#log</span><span style="color: #6172b0;">(</span><span style="color: #8c6c3e;">value</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="492">    <span style="color: #7847bd;">echomsg</span> <span style="color: #3760bf;">value</span>
</span><span class="athl-line" data-athl-line="493"><span style="color: #9854f1;">endfunction</span>
</span><span class="athl-line" data-athl-line="494">
</span><span class="athl-line" data-athl-line="495"><span style="color: #7847bd;">call</span> <span style="color: #2e7de9;">foo#bar#log</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="496">
</span><span class="athl-line" data-athl-line="497">
</span><span class="athl-line" data-athl-line="498"><span style="color: #848cb5;">&quot; #############################</span>
</span><span class="athl-line" data-athl-line="499"><span style="color: #848cb5;">&quot;  Frequently used ex-commands</span>
</span><span class="athl-line" data-athl-line="500"><span style="color: #848cb5;">&quot; #############################</span>
</span><span class="athl-line" data-athl-line="501">
</span><span class="athl-line" data-athl-line="502">
</span><span class="athl-line" data-athl-line="503"><span style="color: #848cb5;">&quot; Sourcing runtime files (|&#39;runtimepath&#39;|)</span>
</span><span class="athl-line" data-athl-line="504"><span style="color: #848cb5;">&quot; ######################</span>
</span><span class="athl-line" data-athl-line="505">
</span><span class="athl-line" data-athl-line="506"><span style="color: #848cb5;">&quot; Source first match among runtime paths</span>
</span><span class="athl-line" data-athl-line="507"><span style="color: #7847bd;">runtime</span> <span style="color: #188092;">plugin/my-plugin.vim</span>
</span><span class="athl-line" data-athl-line="508">
</span><span class="athl-line" data-athl-line="509">
</span><span class="athl-line" data-athl-line="510"><span style="color: #848cb5;">&quot; Defining new ex-commands (|40.2|, |:command|)</span>
</span><span class="athl-line" data-athl-line="511"><span style="color: #848cb5;">&quot; ########################</span>
</span><span class="athl-line" data-athl-line="512">
</span><span class="athl-line" data-athl-line="513"><span style="color: #848cb5;">&quot; First argument here is the name of the command, rest is the command body</span>
</span><span class="athl-line" data-athl-line="514"><span style="color: #7847bd;">command</span><span style="color: #006a83;">!</span> <span style="color: #007197;">SwapAdjacentLines</span><span style="color: #587539;"> normal! ddp</span>
</span><span class="athl-line" data-athl-line="515">
</span><span class="athl-line" data-athl-line="516"><span style="color: #848cb5;">&quot; The exclamation mark works the same as with `:function`. User-defined</span>
</span><span class="athl-line" data-athl-line="517"><span style="color: #848cb5;">&quot; commands must start with a capital letter. The `:command` command can take a</span>
</span><span class="athl-line" data-athl-line="518"><span style="color: #848cb5;">&quot; number of attributes (some of which have their own parameters with `=`), such</span>
</span><span class="athl-line" data-athl-line="519"><span style="color: #848cb5;">&quot; as `-nargs`, all of them start with a dash to set them apart from the command</span>
</span><span class="athl-line" data-athl-line="520"><span style="color: #848cb5;">&quot; name.</span>
</span><span class="athl-line" data-athl-line="521">
</span><span class="athl-line" data-athl-line="522"><span style="color: #7847bd;">command</span><span style="color: #006a83;">!</span> <span style="color: #387068;">-nargs</span><span style="color: #006a83;">=</span><span style="color: #b15c00;">1</span> <span style="color: #007197;">Error</span><span style="color: #587539;"> echoerr &lt;args&gt;</span>
</span><span class="athl-line" data-athl-line="523">
</span><span class="athl-line" data-athl-line="524">
</span><span class="athl-line" data-athl-line="525"><span style="color: #848cb5;">&quot; Defining auto-commands (|40.3|, |autocmd|, |autocommand-events|)</span>
</span><span class="athl-line" data-athl-line="526"><span style="color: #848cb5;">&quot; ######################</span>
</span><span class="athl-line" data-athl-line="527">
</span><span class="athl-line" data-athl-line="528"><span style="color: #848cb5;">&quot; The arguments are &quot;events&quot;, &quot;patterns&quot;, rest is &quot;commands&quot;</span>
</span><span class="athl-line" data-athl-line="529"><span style="color: #7847bd;">autocmd</span> <span style="color: #b15c00;">BufWritePost</span> <span style="color: #006a83;"><span style="color: #188092;">$</span>MYVIMRC</span> <span style="color: #7847bd;">source</span> <span style="color: #188092;">$MYVIMRC</span>
</span><span class="athl-line" data-athl-line="530">
</span><span class="athl-line" data-athl-line="531"><span style="color: #848cb5;">&quot; Events and patterns are separated by commas with no space between. See</span>
</span><span class="athl-line" data-athl-line="532"><span style="color: #848cb5;">&quot; |autocmd-events| for standard events, |User| for custom events. Everything</span>
</span><span class="athl-line" data-athl-line="533"><span style="color: #848cb5;">&quot; else are the ex-commands which will be executed.</span>
</span><span class="athl-line" data-athl-line="534">
</span><span class="athl-line" data-athl-line="535"><span style="color: #848cb5;">&quot; Auto groups</span>
</span><span class="athl-line" data-athl-line="536"><span style="color: #848cb5;">&quot; ===========</span>
</span><span class="athl-line" data-athl-line="537"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="538"><span style="color: #848cb5;">&quot; When a file is sourced multiple times the auto-commands are defined anew,</span>
</span><span class="athl-line" data-athl-line="539"><span style="color: #848cb5;">&quot; without deleting the old ones, causing auto-commands to pile up over time.</span>
</span><span class="athl-line" data-athl-line="540"><span style="color: #848cb5;">&quot; Use auto-groups and the following ritual to guard against this.</span>
</span><span class="athl-line" data-athl-line="541">
</span><span class="athl-line" data-athl-line="542"><span style="color: #7847bd;">augroup</span> <span style="color: #007197;">auto</span>-source   | &quot; The name <span style="color: #2e7de9;">of the group is arbitrary</span>
</span><span class="athl-line" data-athl-line="543">    <span style="color: #7847bd;">autocmd</span><span style="color: #006a83;">!</span>          | <span style="color: #848cb5;">&quot; Deletes all auto-commands in the current group</span>
</span><span class="athl-line" data-athl-line="544">    <span style="color: #7847bd;">autocmd</span> <span style="color: #b15c00;">BufWritePost</span> <span style="color: #006a83;"><span style="color: #188092;">$</span>MYVIMRC</span> <span style="color: #7847bd;">source</span> <span style="color: #188092;">$MYVIMRC</span>
</span><span class="athl-line" data-athl-line="545"><span style="color: #7847bd;">augroup</span> <span style="color: #007197;">END</span>           | &quot; Switch back to <span style="color: #2e7de9;">default auto-group</span>
</span><span class="athl-line" data-athl-line="546">
</span><span class="athl-line" data-athl-line="547"><span style="color: #848cb5;">&quot; It is also possible to assign a group directly. This is useful if the</span>
</span><span class="athl-line" data-athl-line="548"><span style="color: #848cb5;">&quot; definition of the group is in one script and the definition of the</span>
</span><span class="athl-line" data-athl-line="549"><span style="color: #848cb5;">&quot; auto-command is in another script.</span>
</span><span class="athl-line" data-athl-line="550">
</span><span class="athl-line" data-athl-line="551"><span style="color: #848cb5;">&quot; In one file</span>
</span><span class="athl-line" data-athl-line="552"><span style="color: #7847bd;">augroup</span> <span style="color: #007197;">auto</span>-source
</span><span class="athl-line" data-athl-line="553">    <span style="color: #7847bd;">autocmd</span><span style="color: #006a83;">!</span>
</span><span class="athl-line" data-athl-line="554"><span style="color: #7847bd;">augroup</span> <span style="color: #007197;">END</span>
</span><span class="athl-line" data-athl-line="555">
</span><span class="athl-line" data-athl-line="556"><span style="color: #848cb5;">&quot; In another file</span>
</span><span class="athl-line" data-athl-line="557"><span style="color: #7847bd;">autocmd</span> <span style="color: #188092;">auto-source</span> <span style="color: #007197;">BufWritePost</span> $MYVIMRC source $MYVIMRC
</span><span class="athl-line" data-athl-line="558">
</span><span class="athl-line" data-athl-line="559"><span style="color: #848cb5;">&quot; Executing (run-time macros of sorts)</span>
</span><span class="athl-line" data-athl-line="560"><span style="color: #848cb5;">&quot; ####################################</span>
</span><span class="athl-line" data-athl-line="561">
</span><span class="athl-line" data-athl-line="562"><span style="color: #848cb5;">&quot; Sometimes we need to construct an ex-command where part of the command is not</span>
</span><span class="athl-line" data-athl-line="563"><span style="color: #848cb5;">&quot; known until runtime.</span>
</span><span class="athl-line" data-athl-line="564">
</span><span class="athl-line" data-athl-line="565"><span style="color: #7847bd;">let</span> <span style="color: #3760bf;">line</span> <span style="color: #006a83;">=</span> <span style="color: #b15c00;">3</span>                | <span style="color: #848cb5;">&quot; Line number determined at runtime</span>
</span><span class="athl-line" data-athl-line="566"><span style="color: #7847bd;">execute</span> <span style="color: #3760bf;">line</span> <span style="color: #006a83;">..</span> <span style="color: #587539;">&#39;delete&#39;</span>    | <span style="color: #848cb5;">&quot; Delete a line</span>
</span><span class="athl-line" data-athl-line="567">
</span><span class="athl-line" data-athl-line="568"><span style="color: #848cb5;">&quot; Executing normal-mode commands</span>
</span><span class="athl-line" data-athl-line="569"><span style="color: #848cb5;">&quot; ##############################</span>
</span><span class="athl-line" data-athl-line="570"><span style="color: #848cb5;">&quot;</span>
</span><span class="athl-line" data-athl-line="571"><span style="color: #848cb5;">&quot; Use `:normal` to play back a sequence of normal mode commands from the</span>
</span><span class="athl-line" data-athl-line="572"><span style="color: #848cb5;">&quot; command-line. Add an exclamation mark to ignore user mappings.</span>
</span><span class="athl-line" data-athl-line="573">
</span><span class="athl-line" data-athl-line="574"><span style="color: #7847bd;">normal</span><span style="color: #006a83;">!</span><span style="color: #b15c00;"> ggddGp             | &quot; Transplant first line to end of buffer</span>
</span><span class="athl-line" data-athl-line="575">
</span><span class="athl-line" data-athl-line="576"><span style="color: #848cb5;">&quot; Window commands can be used with :normal, or with :wincmd if :normal would</span>
</span><span class="athl-line" data-athl-line="577"><span style="color: #848cb5;">&quot; not work</span>
</span><span class="athl-line" data-athl-line="578"><span style="color: #7847bd;">wincmd</span> L                   | <span style="color: #848cb5;">&quot; Move current window all the way to the right</span>
</span><span class="athl-line" data-athl-line="579">
</span><span class="athl-line" data-athl-line="580">
</span><span class="athl-line" data-athl-line="581"><span style="color: #848cb5;">&quot; ###########################</span>
</span><span class="athl-line" data-athl-line="582"><span style="color: #848cb5;">&quot;  Frequently used functions</span>
</span><span class="athl-line" data-athl-line="583"><span style="color: #848cb5;">&quot; ###########################</span>
</span><span class="athl-line" data-athl-line="584">
</span><span class="athl-line" data-athl-line="585"><span style="color: #848cb5;">&quot; Feature check</span>
</span><span class="athl-line" data-athl-line="586"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">has</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;nvim&#39;</span><span style="color: #6172b0;">)</span>                  | &quot; <span style="color: #2e7de9;">Running Neovim</span>
</span><span class="athl-line" data-athl-line="587"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">has</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;python3&#39;</span><span style="color: #6172b0;">)</span>               | &quot; <span style="color: #2e7de9;">Support for Python 3 plugins</span>
</span><span class="athl-line" data-athl-line="588"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">has</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;unix&#39;</span><span style="color: #6172b0;">)</span>                  | &quot; <span style="color: #2e7de9;">Running on a Unix system</span>
</span><span class="athl-line" data-athl-line="589"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">has</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;win32&#39;</span><span style="color: #6172b0;">)</span>                 | &quot; <span style="color: #2e7de9;">Running on a Windows system</span>
</span><span class="athl-line" data-athl-line="590">
</span><span class="athl-line" data-athl-line="591">
</span><span class="athl-line" data-athl-line="592"><span style="color: #848cb5;">&quot; Test if something exists</span>
</span><span class="athl-line" data-athl-line="593"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;&amp;mouse&#39;</span><span style="color: #6172b0;">)</span>             | &quot; <span style="color: #2e7de9;">Option (exists only)</span>
</span><span class="athl-line" data-athl-line="594"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;+mouse&#39;</span><span style="color: #6172b0;">)</span>             | &quot; <span style="color: #2e7de9;">Option (exists and works)</span>
</span><span class="athl-line" data-athl-line="595"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;$HOSTNAME&#39;</span><span style="color: #6172b0;">)</span>          | &quot; <span style="color: #2e7de9;">Environment variable</span>
</span><span class="athl-line" data-athl-line="596"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;*strftime&#39;</span><span style="color: #6172b0;">)</span>          | &quot; <span style="color: #2e7de9;">Built-in function</span>
</span><span class="athl-line" data-athl-line="597"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;**s:MyFunc&#39;</span><span style="color: #6172b0;">)</span>         | &quot; <span style="color: #2e7de9;">User-defined function</span>
</span><span class="athl-line" data-athl-line="598"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;bufcount&#39;</span><span style="color: #6172b0;">)</span>           | &quot; <span style="color: #2e7de9;">Variable (scope optional)</span>
</span><span class="athl-line" data-athl-line="599"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;my_dict[&quot;foo&quot;]&#39;</span><span style="color: #6172b0;">)</span>     | &quot; <span style="color: #2e7de9;">Variable (dictionary entry)</span>
</span><span class="athl-line" data-athl-line="600"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;my_dict[&quot;foo&quot;]&#39;</span><span style="color: #6172b0;">)</span>     | &quot; <span style="color: #2e7de9;">Variable (dictionary entry)</span>
</span><span class="athl-line" data-athl-line="601"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;:Make&#39;</span><span style="color: #6172b0;">)</span>              | &quot; <span style="color: #2e7de9;">Command</span>
</span><span class="athl-line" data-athl-line="602"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&quot;#CursorHold&quot;</span><span style="color: #6172b0;">)</span>        | &quot; <span style="color: #2e7de9;">Auto-command defined for event</span>
</span><span class="athl-line" data-athl-line="603"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&quot;#BufReadPre#*.gz&quot;</span><span style="color: #6172b0;">)</span>   | &quot; <span style="color: #2e7de9;">Event and pattern</span>
</span><span class="athl-line" data-athl-line="604"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&quot;#filetypeindent&quot;</span><span style="color: #6172b0;">)</span>    | &quot; <span style="color: #2e7de9;">Auto-command group</span>
</span><span class="athl-line" data-athl-line="605"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&quot;##ColorScheme&quot;</span><span style="color: #6172b0;">)</span>      | &quot; Auto-<span style="color: #2e7de9;">command supported for event</span>
</span><span class="athl-line" data-athl-line="606">
</span><span class="athl-line" data-athl-line="607"><span style="color: #848cb5;">&quot; Various dynamic values (see |expand()|)</span>
</span><span class="athl-line" data-athl-line="608"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">expand</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;%&#39;</span><span style="color: #6172b0;">)</span>                  | &quot; <span style="color: #2e7de9;">Current file name</span>
</span><span class="athl-line" data-athl-line="609"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">expand</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;&lt;cword&gt;&#39;</span><span style="color: #6172b0;">)</span>            | &quot; <span style="color: #2e7de9;">Current word under cursor</span>
</span><span class="athl-line" data-athl-line="610"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">expand</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;%:p&#39;</span><span style="color: #6172b0;">)</span>                | &quot; <span style="color: #2e7de9;">Modifier are possible</span>
</span><span class="athl-line" data-athl-line="611">
</span><span class="athl-line" data-athl-line="612"><span style="color: #848cb5;">&quot; Type tests</span>
</span><span class="athl-line" data-athl-line="613"><span style="color: #848cb5;">&quot; There are unique constants defined for the following types. Older versions</span>
</span><span class="athl-line" data-athl-line="614"><span style="color: #848cb5;">&quot; of Vim lack the type variables, see the reference &quot; documentation for a</span>
</span><span class="athl-line" data-athl-line="615"><span style="color: #848cb5;">&quot; workaround</span>
</span><span class="athl-line" data-athl-line="616"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">my_var</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">t_number</span>      | &quot; <span style="color: #2e7de9;">Number</span>
</span><span class="athl-line" data-athl-line="617"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">my_var</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">t_string</span>      | &quot; <span style="color: #2e7de9;">String</span>
</span><span class="athl-line" data-athl-line="618"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">my_var</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">t_func</span>        | &quot; <span style="color: #2e7de9;">Funcref</span>
</span><span class="athl-line" data-athl-line="619"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">my_var</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">t_list</span>        | &quot; <span style="color: #2e7de9;">List</span>
</span><span class="athl-line" data-athl-line="620"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">my_var</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">t_dict</span>        | &quot; <span style="color: #2e7de9;">Dictionary</span>
</span><span class="athl-line" data-athl-line="621"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">my_var</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">t_float</span>       | &quot; <span style="color: #2e7de9;">Float</span>
</span><span class="athl-line" data-athl-line="622"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">type</span><span style="color: #6172b0;">(</span><span style="color: #3760bf;">my_var</span><span style="color: #6172b0;">)</span> <span style="color: #006a83;">==</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">t_bool</span>        | &quot; <span style="color: #2e7de9;">Explicit Boolean</span>
</span><span class="athl-line" data-athl-line="623"><span style="color: #848cb5;">&quot; For the null object should compare it against itself</span>
</span><span class="athl-line" data-athl-line="624"><span style="color: #7847bd;">echo</span>  <span style="color: #3760bf;">my_var</span> <span style="color: #006a83;">is</span> <span style="color: #007197;">v:</span><span style="color: #3760bf;">null</span>
</span><span class="athl-line" data-athl-line="625">
</span><span class="athl-line" data-athl-line="626"><span style="color: #848cb5;">&quot; Format strings</span>
</span><span class="athl-line" data-athl-line="627"><span style="color: #7847bd;">echo</span>  <span style="color: #2e7de9;">printf</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;%d in hexadecimal is %X&#39;</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">123</span><span style="color: #006a83;">,</span> <span style="color: #b15c00;">123</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="628">
</span><span class="athl-line" data-athl-line="629">
</span><span class="athl-line" data-athl-line="630"><span style="color: #848cb5;">&quot; #####################</span>
</span><span class="athl-line" data-athl-line="631"><span style="color: #848cb5;">&quot;  Tricks of the trade</span>
</span><span class="athl-line" data-athl-line="632"><span style="color: #848cb5;">&quot; #####################</span>
</span><span class="athl-line" data-athl-line="633">
</span><span class="athl-line" data-athl-line="634"><span style="color: #848cb5;">&quot; Source guard</span>
</span><span class="athl-line" data-athl-line="635"><span style="color: #848cb5;">&quot; ############</span>
</span><span class="athl-line" data-athl-line="636">
</span><span class="athl-line" data-athl-line="637"><span style="color: #848cb5;">&quot; Prevent a file from being sourced multiple times; users can set the variable</span>
</span><span class="athl-line" data-athl-line="638"><span style="color: #848cb5;">&quot; in their configuration to prevent the plugin from loading at all.</span>
</span><span class="athl-line" data-athl-line="639"><span style="color: #9854f1;">if</span> <span style="color: #2e7de9;">exists</span><span style="color: #6172b0;">(</span><span style="color: #587539;">&#39;g:loaded_my_plugin&#39;</span><span style="color: #6172b0;">)</span>
</span><span class="athl-line" data-athl-line="640">    <span style="color: #7847bd;">finish</span>
</span><span class="athl-line" data-athl-line="641"><span style="color: #9854f1;">endif</span>
</span><span class="athl-line" data-athl-line="642"><span style="color: #7847bd;">let</span> <span style="color: #007197;">g:</span><span style="color: #3760bf;">loaded_my_plugin</span> <span style="color: #006a83;">=</span> v:<span style="color: #b15c00;">true</span>
</span><span class="athl-line" data-athl-line="643">
</span><span class="athl-line" data-athl-line="644"><span style="color: #848cb5;">&quot; Default values</span>
</span><span class="athl-line" data-athl-line="645"><span style="color: #848cb5;">&quot; ##############</span>
</span><span class="athl-line" data-athl-line="646">
</span><span class="athl-line" data-athl-line="647"><span style="color: #848cb5;">&quot; Get a default value: if the user defines a variable use it, otherwise use a</span>
</span><span class="athl-line" data-athl-line="648"><span style="color: #848cb5;">&quot; hard-coded default. Uses the fact that a scope is also a dictionary.</span>
</span><span class="athl-line" data-athl-line="649"><span style="color: #7847bd;">let</span> <span style="color: #007197;">s:</span><span style="color: #3760bf;">greeting</span> <span style="color: #006a83;">=</span> <span style="color: #2e7de9;">get</span><span style="color: #6172b0;">(</span>g:<span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;my_plugin_greeting&#39;</span><span style="color: #006a83;">,</span> <span style="color: #587539;">&#39;Hello&#39;</span><span style="color: #6172b0;">)</span>
</span></code></pre>
</body>
</html>