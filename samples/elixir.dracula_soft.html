<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>elixir - dracula_soft - Autumnus</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'JetBrains Mono', monospace;
            line-height: 1.5;
        }
        pre {
            font-size: 15px;
            margin: 20px;
            padding: 50px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
<pre class="athl" style="color: #f6f6f5; background-color: #292a35;"><code class="language-elixir" translate="no" tabindex="0"><span class="athl-line" data-athl-line="1"><span style="color: #70747f;"># Single line comments start with a number symbol.</span>
</span><span class="athl-line" data-athl-line="2">
</span><span class="athl-line" data-athl-line="3"><span style="color: #70747f;"># There&#39;s no multi-line comment,</span>
</span><span class="athl-line" data-athl-line="4"><span style="color: #70747f;"># but you can stack multiple comments.</span>
</span><span class="athl-line" data-athl-line="5">
</span><span class="athl-line" data-athl-line="6"><span style="color: #70747f;"># To use the Elixir shell use the `iex` command.</span>
</span><span class="athl-line" data-athl-line="7"><span style="color: #70747f;"># Compile your modules with the `elixirc` command.</span>
</span><span class="athl-line" data-athl-line="8">
</span><span class="athl-line" data-athl-line="9"><span style="color: #70747f;"># Both should be in your path if you installed Elixir correctly.</span>
</span><span class="athl-line" data-athl-line="10">
</span><span class="athl-line" data-athl-line="11"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="12"><span style="color: #70747f;">## -- Basic types</span>
</span><span class="athl-line" data-athl-line="13"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="14">
</span><span class="athl-line" data-athl-line="15"><span style="color: #70747f;"># There are numbers</span>
</span><span class="athl-line" data-athl-line="16"><span style="color: #baa0e8;">3</span>    <span style="color: #70747f;"># integer</span>
</span><span class="athl-line" data-athl-line="17"><span style="color: #baa0e8;">0x1F</span> <span style="color: #70747f;"># integer</span>
</span><span class="athl-line" data-athl-line="18"><span style="color: #baa0e8;">3.0</span>  <span style="color: #70747f;"># float</span>
</span><span class="athl-line" data-athl-line="19">
</span><span class="athl-line" data-athl-line="20"><span style="color: #70747f;"># Atoms are constants whose values are their own name. They start with `:`.</span>
</span><span class="athl-line" data-athl-line="21"><span style="color: #baa0e8;">:hello</span> <span style="color: #70747f;"># atom</span>
</span><span class="athl-line" data-athl-line="22">
</span><span class="athl-line" data-athl-line="23"><span style="color: #70747f;"># Tuples that are stored contiguously in memory.</span>
</span><span class="athl-line" data-athl-line="24"><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">}</span> <span style="color: #70747f;"># tuple</span>
</span><span class="athl-line" data-athl-line="25">
</span><span class="athl-line" data-athl-line="26"><span style="color: #70747f;"># We can access a tuple element with the `elem` function:</span>
</span><span class="athl-line" data-athl-line="27"><span style="color: #87e58e;">elem</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">}</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">0</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 1</span>
</span><span class="athl-line" data-athl-line="28">
</span><span class="athl-line" data-athl-line="29"><span style="color: #70747f;"># Lists that are implemented as linked lists.</span>
</span><span class="athl-line" data-athl-line="30"><span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">]</span> <span style="color: #70747f;"># list</span>
</span><span class="athl-line" data-athl-line="31">
</span><span class="athl-line" data-athl-line="32"><span style="color: #70747f;"># We can access the head and tail of a list as follows:</span>
</span><span class="athl-line" data-athl-line="33"><span style="color: #f6f6f5;">[</span><span style="color: #f6f6f5;">head</span> <span style="color: #e48cc1;">|</span> <span style="color: #f6f6f5;">tail</span><span style="color: #f6f6f5;">]</span> <span style="color: #e48cc1;">=</span> <span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">]</span>
</span><span class="athl-line" data-athl-line="34"><span style="color: #f6f6f5;">head</span> <span style="color: #70747f;">#=&gt; 1</span>
</span><span class="athl-line" data-athl-line="35"><span style="color: #f6f6f5;">tail</span> <span style="color: #70747f;">#=&gt; [2,3]</span>
</span><span class="athl-line" data-athl-line="36">
</span><span class="athl-line" data-athl-line="37"><span style="color: #70747f;"># In Elixir, just like in Erlang, the `=` denotes pattern matching and</span>
</span><span class="athl-line" data-athl-line="38"><span style="color: #70747f;"># not an assignment.</span>
</span><span class="athl-line" data-athl-line="39"><span style="color: #70747f;">#</span>
</span><span class="athl-line" data-athl-line="40"><span style="color: #70747f;"># This means that the left-hand side (pattern) is matched against a</span>
</span><span class="athl-line" data-athl-line="41"><span style="color: #70747f;"># right-hand side.</span>
</span><span class="athl-line" data-athl-line="42"><span style="color: #70747f;">#</span>
</span><span class="athl-line" data-athl-line="43"><span style="color: #70747f;"># This is how the above example of accessing the head and tail of a list works.</span>
</span><span class="athl-line" data-athl-line="44">
</span><span class="athl-line" data-athl-line="45"><span style="color: #70747f;"># A pattern match will error when the sides don&#39;t match, in this example</span>
</span><span class="athl-line" data-athl-line="46"><span style="color: #70747f;"># the tuples have different sizes.</span>
</span><span class="athl-line" data-athl-line="47"><span style="color: #70747f;"># {a, b, c} = {1, 2} #=&gt; ** (MatchError) no match of right hand side value: {1,2}</span>
</span><span class="athl-line" data-athl-line="48">
</span><span class="athl-line" data-athl-line="49"><span style="color: #70747f;"># There are also binaries</span>
</span><span class="athl-line" data-athl-line="50"><span style="color: #f6f6f5;">&lt;&lt;</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">&gt;&gt;</span> <span style="color: #70747f;"># binary</span>
</span><span class="athl-line" data-athl-line="51">
</span><span class="athl-line" data-athl-line="52"><span style="color: #70747f;"># Strings and char lists</span>
</span><span class="athl-line" data-athl-line="53"><span style="color: #e8eda2;">&quot;hello&quot;</span> <span style="color: #70747f;"># string</span>
</span><span class="athl-line" data-athl-line="54"><span style="color: #e8eda2;">&#39;hello&#39;</span> <span style="color: #70747f;"># char list</span>
</span><span class="athl-line" data-athl-line="55">
</span><span class="athl-line" data-athl-line="56"><span style="color: #70747f;"># Multi-line strings</span>
</span><span class="athl-line" data-athl-line="57"><span style="color: #e8eda2;">&quot;&quot;&quot;</span>
</span><span class="athl-line" data-athl-line="58"><span style="color: #e8eda2;">I&#39;m a multi-line</span>
</span><span class="athl-line" data-athl-line="59"><span style="color: #e8eda2;">string.</span>
</span><span class="athl-line" data-athl-line="60"><span style="color: #e8eda2;">&quot;&quot;&quot;</span>
</span><span class="athl-line" data-athl-line="61"><span style="color: #70747f;">#=&gt; &quot;I&#39;m a multi-line\nstring.\n&quot;</span>
</span><span class="athl-line" data-athl-line="62">
</span><span class="athl-line" data-athl-line="63"><span style="color: #70747f;"># Strings are all encoded in UTF-8:</span>
</span><span class="athl-line" data-athl-line="64"><span style="color: #e8eda2;">&quot;héllò&quot;</span> <span style="color: #70747f;">#=&gt; &quot;héllò&quot;</span>
</span><span class="athl-line" data-athl-line="65">
</span><span class="athl-line" data-athl-line="66"><span style="color: #70747f;"># Strings are really just binaries, and char lists are just lists.</span>
</span><span class="athl-line" data-athl-line="67"><span style="color: #f6f6f5;">&lt;&lt;</span><span style="color: #baa0e8;">?a</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">?b</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">?c</span><span style="color: #f6f6f5;">&gt;&gt;</span> <span style="color: #70747f;">#=&gt; &quot;abc&quot;</span>
</span><span class="athl-line" data-athl-line="68"><span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">?a</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">?b</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">?c</span><span style="color: #f6f6f5;">]</span>   <span style="color: #70747f;">#=&gt; &#39;abc&#39;</span>
</span><span class="athl-line" data-athl-line="69">
</span><span class="athl-line" data-athl-line="70"><span style="color: #70747f;"># `?a` in Elixir returns the ASCII integer for the letter `a`</span>
</span><span class="athl-line" data-athl-line="71"><span style="color: #baa0e8;">?a</span> <span style="color: #70747f;">#=&gt; 97</span>
</span><span class="athl-line" data-athl-line="72">
</span><span class="athl-line" data-athl-line="73"><span style="color: #70747f;"># To concatenate lists use `++`, for binaries use `&lt;&gt;`</span>
</span><span class="athl-line" data-athl-line="74"><span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">]</span> <span style="color: #e48cc1;">++</span> <span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">4</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">5</span><span style="color: #f6f6f5;">]</span>     <span style="color: #70747f;">#=&gt; [1,2,3,4,5]</span>
</span><span class="athl-line" data-athl-line="75"><span style="color: #e8eda2;">&#39;hello &#39;</span> <span style="color: #e48cc1;">++</span> <span style="color: #e8eda2;">&#39;world&#39;</span>  <span style="color: #70747f;">#=&gt; &#39;hello world&#39;</span>
</span><span class="athl-line" data-athl-line="76">
</span><span class="athl-line" data-athl-line="77"><span style="color: #f6f6f5;">&lt;&lt;</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">&gt;&gt;</span> <span style="color: #e48cc1;">&lt;&gt;</span> <span style="color: #f6f6f5;">&lt;&lt;</span><span style="color: #baa0e8;">4</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">5</span><span style="color: #f6f6f5;">&gt;&gt;</span> <span style="color: #70747f;">#=&gt; &lt;&lt;1,2,3,4,5&gt;&gt;</span>
</span><span class="athl-line" data-athl-line="78"><span style="color: #e8eda2;">&quot;hello &quot;</span> <span style="color: #e48cc1;">&lt;&gt;</span> <span style="color: #e8eda2;">&quot;world&quot;</span>  <span style="color: #70747f;">#=&gt; &quot;hello world&quot;</span>
</span><span class="athl-line" data-athl-line="79">
</span><span class="athl-line" data-athl-line="80"><span style="color: #70747f;"># Ranges are represented as `start..end` (both inclusive)</span>
</span><span class="athl-line" data-athl-line="81"><span style="color: #baa0e8;">1</span><span style="color: #e48cc1;">..</span><span style="color: #baa0e8;">10</span> <span style="color: #70747f;">#=&gt; 1..10</span>
</span><span class="athl-line" data-athl-line="82"><span style="color: #f6f6f5;">lower</span><span style="color: #e48cc1;">..</span><span style="color: #f6f6f5;">upper</span> <span style="color: #e48cc1;">=</span> <span style="color: #baa0e8;">1</span><span style="color: #e48cc1;">..</span><span style="color: #baa0e8;">10</span> <span style="color: #70747f;"># Can use pattern matching on ranges as well</span>
</span><span class="athl-line" data-athl-line="83"><span style="color: #f6f6f5;">[</span><span style="color: #f6f6f5;">lower</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">upper</span><span style="color: #f6f6f5;">]</span> <span style="color: #70747f;">#=&gt; [1, 10]</span>
</span><span class="athl-line" data-athl-line="84">
</span><span class="athl-line" data-athl-line="85"><span style="color: #70747f;"># Maps are key-value pairs</span>
</span><span class="athl-line" data-athl-line="86"><span style="color: #f6f6f5;">genders</span> <span style="color: #e48cc1;">=</span> <span >%</span><span style="color: #f6f6f5;">{</span><span style="color: #e8eda2;">&quot;david&quot;</span> <span style="color: #e48cc1;">=&gt;</span> <span style="color: #e8eda2;">&quot;male&quot;</span><span style="color: #f6f6f5;">,</span> <span style="color: #e8eda2;">&quot;gillian&quot;</span> <span style="color: #e48cc1;">=&gt;</span> <span style="color: #e8eda2;">&quot;female&quot;</span><span style="color: #f6f6f5;">}</span>
</span><span class="athl-line" data-athl-line="87"><span style="color: #f6f6f5;">genders</span><span style="color: #f6f6f5;">[</span><span style="color: #e8eda2;">&quot;david&quot;</span><span style="color: #f6f6f5;">]</span> <span style="color: #70747f;">#=&gt; &quot;male&quot;</span>
</span><span class="athl-line" data-athl-line="88">
</span><span class="athl-line" data-athl-line="89"><span style="color: #70747f;"># Maps with atom keys can be used like this</span>
</span><span class="athl-line" data-athl-line="90"><span style="color: #f6f6f5;">genders</span> <span style="color: #e48cc1;">=</span> <span >%</span><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">david: </span><span style="color: #e8eda2;">&quot;male&quot;</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">gillian: </span><span style="color: #e8eda2;">&quot;female&quot;</span><span style="color: #f6f6f5;">}</span>
</span><span class="athl-line" data-athl-line="91"><span style="color: #f6f6f5;">genders</span><span style="color: #e48cc1;">.</span><span style="color: #baa0e8;">gillian</span> <span style="color: #70747f;">#=&gt; &quot;female&quot;</span>
</span><span class="athl-line" data-athl-line="92">
</span><span class="athl-line" data-athl-line="93"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="94"><span style="color: #70747f;">## -- Operators</span>
</span><span class="athl-line" data-athl-line="95"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="96">
</span><span class="athl-line" data-athl-line="97"><span style="color: #70747f;"># Some math</span>
</span><span class="athl-line" data-athl-line="98"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">+</span> <span style="color: #baa0e8;">1</span>  <span style="color: #70747f;">#=&gt; 2</span>
</span><span class="athl-line" data-athl-line="99"><span style="color: #baa0e8;">10</span> <span style="color: #e48cc1;">-</span> <span style="color: #baa0e8;">5</span> <span style="color: #70747f;">#=&gt; 5</span>
</span><span class="athl-line" data-athl-line="100"><span style="color: #baa0e8;">5</span> <span style="color: #e48cc1;">*</span> <span style="color: #baa0e8;">2</span>  <span style="color: #70747f;">#=&gt; 10</span>
</span><span class="athl-line" data-athl-line="101"><span style="color: #baa0e8;">10</span> <span style="color: #e48cc1;">/</span> <span style="color: #baa0e8;">2</span> <span style="color: #70747f;">#=&gt; 5.0</span>
</span><span class="athl-line" data-athl-line="102">
</span><span class="athl-line" data-athl-line="103"><span style="color: #70747f;"># In Elixir the operator `/` always returns a float.</span>
</span><span class="athl-line" data-athl-line="104">
</span><span class="athl-line" data-athl-line="105"><span style="color: #70747f;"># To do integer division use `div`</span>
</span><span class="athl-line" data-athl-line="106"><span style="color: #87e58e;">div</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">10</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 5</span>
</span><span class="athl-line" data-athl-line="107">
</span><span class="athl-line" data-athl-line="108"><span style="color: #70747f;"># To get the division remainder use `rem`</span>
</span><span class="athl-line" data-athl-line="109"><span style="color: #87e58e;">rem</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">10</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 1</span>
</span><span class="athl-line" data-athl-line="110">
</span><span class="athl-line" data-athl-line="111"><span style="color: #70747f;"># There are also boolean operators: `or`, `and` and `not`.</span>
</span><span class="athl-line" data-athl-line="112"><span style="color: #70747f;"># These operators expect a boolean as their first argument.</span>
</span><span class="athl-line" data-athl-line="113"><span style="color: #baa0e8;">true</span> <span style="color: #e48cc1;">and</span> <span style="color: #baa0e8;">true</span> <span style="color: #70747f;">#=&gt; true</span>
</span><span class="athl-line" data-athl-line="114"><span style="color: #baa0e8;">false</span> <span style="color: #e48cc1;">or</span> <span style="color: #baa0e8;">true</span> <span style="color: #70747f;">#=&gt; true</span>
</span><span class="athl-line" data-athl-line="115"><span style="color: #70747f;"># 1 and true</span>
</span><span class="athl-line" data-athl-line="116"><span style="color: #70747f;">#=&gt; ** (BadBooleanError) expected a boolean on left-side of &quot;and&quot;, got: 1</span>
</span><span class="athl-line" data-athl-line="117">
</span><span class="athl-line" data-athl-line="118"><span style="color: #70747f;"># Elixir also provides `||`, `&amp;&amp;` and `!` which accept arguments of any type.</span>
</span><span class="athl-line" data-athl-line="119"><span style="color: #70747f;"># All values except `false` and `nil` will evaluate to true.</span>
</span><span class="athl-line" data-athl-line="120"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">||</span> <span style="color: #baa0e8;">true</span>  <span style="color: #70747f;">#=&gt; 1</span>
</span><span class="athl-line" data-athl-line="121"><span style="color: #baa0e8;">false</span> <span style="color: #e48cc1;">&amp;&amp;</span> <span style="color: #baa0e8;">1</span> <span style="color: #70747f;">#=&gt; false</span>
</span><span class="athl-line" data-athl-line="122"><span style="color: #baa0e8;">nil</span> <span style="color: #e48cc1;">&amp;&amp;</span> <span style="color: #baa0e8;">20</span>  <span style="color: #70747f;">#=&gt; nil</span>
</span><span class="athl-line" data-athl-line="123"><span style="color: #e48cc1;">!</span><span style="color: #baa0e8;">true</span> <span style="color: #70747f;">#=&gt; false</span>
</span><span class="athl-line" data-athl-line="124">
</span><span class="athl-line" data-athl-line="125"><span style="color: #70747f;"># For comparisons we have: `==`, `!=`, `===`, `!==`, `&lt;=`, `&gt;=`, `&lt;` and `&gt;`</span>
</span><span class="athl-line" data-athl-line="126"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">1</span> <span style="color: #70747f;">#=&gt; true</span>
</span><span class="athl-line" data-athl-line="127"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">!=</span> <span style="color: #baa0e8;">1</span> <span style="color: #70747f;">#=&gt; false</span>
</span><span class="athl-line" data-athl-line="128"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">&lt;</span> <span style="color: #baa0e8;">2</span>  <span style="color: #70747f;">#=&gt; true</span>
</span><span class="athl-line" data-athl-line="129">
</span><span class="athl-line" data-athl-line="130"><span style="color: #70747f;"># `===` and `!==` are more strict when comparing integers and floats:</span>
</span><span class="athl-line" data-athl-line="131"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">1.0</span>  <span style="color: #70747f;">#=&gt; true</span>
</span><span class="athl-line" data-athl-line="132"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">===</span> <span style="color: #baa0e8;">1.0</span> <span style="color: #70747f;">#=&gt; false</span>
</span><span class="athl-line" data-athl-line="133">
</span><span class="athl-line" data-athl-line="134"><span style="color: #70747f;"># Elixir operators are strict in their arguments, with the exception</span>
</span><span class="athl-line" data-athl-line="135"><span style="color: #70747f;"># of comparison operators that work across different data types:</span>
</span><span class="athl-line" data-athl-line="136"><span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">&lt;</span> <span style="color: #baa0e8;">:hello</span> <span style="color: #70747f;">#=&gt; true</span>
</span><span class="athl-line" data-athl-line="137">
</span><span class="athl-line" data-athl-line="138"><span style="color: #70747f;"># This enables building collections of mixed types:</span>
</span><span class="athl-line" data-athl-line="139"><span style="color: #f6f6f5;">[</span><span style="color: #e8eda2;">&quot;string&quot;</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">123</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">:atom</span><span style="color: #f6f6f5;">]</span>
</span><span class="athl-line" data-athl-line="140">
</span><span class="athl-line" data-athl-line="141"><span style="color: #70747f;"># While there is an overall order of all data types,</span>
</span><span class="athl-line" data-athl-line="142"><span style="color: #70747f;"># to quote Joe Armstrong on this: &quot;The actual order is not important,</span>
</span><span class="athl-line" data-athl-line="143"><span style="color: #70747f;"># but that a total ordering is well defined is important.&quot;</span>
</span><span class="athl-line" data-athl-line="144">
</span><span class="athl-line" data-athl-line="145"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="146"><span style="color: #70747f;">## -- Control Flow</span>
</span><span class="athl-line" data-athl-line="147"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="148">
</span><span class="athl-line" data-athl-line="149"><span style="color: #70747f;"># `if` expression</span>
</span><span class="athl-line" data-athl-line="150"><span style="color: #e48cc1;">if</span> <span style="color: #baa0e8;">false</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="151">  <span style="color: #e8eda2;">&quot;This will never be seen&quot;</span>
</span><span class="athl-line" data-athl-line="152"><span style="color: #e48cc1;">else</span>
</span><span class="athl-line" data-athl-line="153">  <span style="color: #e8eda2;">&quot;This will&quot;</span>
</span><span class="athl-line" data-athl-line="154"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="155">
</span><span class="athl-line" data-athl-line="156"><span style="color: #70747f;"># There&#39;s also `unless`</span>
</span><span class="athl-line" data-athl-line="157"><span style="color: #e48cc1;">unless</span> <span style="color: #baa0e8;">true</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="158">  <span style="color: #e8eda2;">&quot;This will never be seen&quot;</span>
</span><span class="athl-line" data-athl-line="159"><span style="color: #e48cc1;">else</span>
</span><span class="athl-line" data-athl-line="160">  <span style="color: #e8eda2;">&quot;This will&quot;</span>
</span><span class="athl-line" data-athl-line="161"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="162">
</span><span class="athl-line" data-athl-line="163"><span style="color: #70747f;"># Remember pattern matching? Many control-flow structures in Elixir rely on it.</span>
</span><span class="athl-line" data-athl-line="164">
</span><span class="athl-line" data-athl-line="165"><span style="color: #70747f;"># `case` allows us to compare a value against many patterns:</span>
</span><span class="athl-line" data-athl-line="166"><span style="color: #e48cc1;">case</span> <span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:one</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">:two</span><span style="color: #f6f6f5;">}</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="167">  <span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:four</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">:five</span><span style="color: #f6f6f5;">}</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="168">    <span style="color: #e8eda2;">&quot;This won&#39;t match&quot;</span>
</span><span class="athl-line" data-athl-line="169">  <span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:one</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">x</span><span style="color: #f6f6f5;">}</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="170">    <span style="color: #e8eda2;">&quot;This will match and bind `x` to `:two` in this clause&quot;</span>
</span><span class="athl-line" data-athl-line="171">  <span style="color: #70747f;">_</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="172">    <span style="color: #e8eda2;">&quot;This will match any value&quot;</span>
</span><span class="athl-line" data-athl-line="173"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="174">
</span><span class="athl-line" data-athl-line="175"><span style="color: #70747f;"># It&#39;s common to bind the value to `_` if we don&#39;t need it.</span>
</span><span class="athl-line" data-athl-line="176"><span style="color: #70747f;"># For example, if only the head of a list matters to us:</span>
</span><span class="athl-line" data-athl-line="177"><span style="color: #f6f6f5;">[</span><span style="color: #f6f6f5;">head</span> <span style="color: #e48cc1;">|</span> <span style="color: #70747f;">_</span><span style="color: #f6f6f5;">]</span> <span style="color: #e48cc1;">=</span> <span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">]</span>
</span><span class="athl-line" data-athl-line="178"><span style="color: #f6f6f5;">head</span> <span style="color: #70747f;">#=&gt; 1</span>
</span><span class="athl-line" data-athl-line="179">
</span><span class="athl-line" data-athl-line="180"><span style="color: #70747f;"># For better readability we can do the following:</span>
</span><span class="athl-line" data-athl-line="181"><span style="color: #f6f6f5;">[</span><span style="color: #f6f6f5;">head</span> <span style="color: #e48cc1;">|</span> <span style="color: #70747f;">_tail</span><span style="color: #f6f6f5;">]</span> <span style="color: #e48cc1;">=</span> <span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">:a</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">:b</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">:c</span><span style="color: #f6f6f5;">]</span>
</span><span class="athl-line" data-athl-line="182"><span style="color: #f6f6f5;">head</span> <span style="color: #70747f;">#=&gt; :a</span>
</span><span class="athl-line" data-athl-line="183">
</span><span class="athl-line" data-athl-line="184"><span style="color: #70747f;"># `cond` lets us check for many conditions at the same time.</span>
</span><span class="athl-line" data-athl-line="185"><span style="color: #70747f;"># Use `cond` instead of nesting many `if` expressions.</span>
</span><span class="athl-line" data-athl-line="186"><span style="color: #e48cc1;">cond</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="187">  <span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">+</span> <span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">3</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="188">    <span style="color: #e8eda2;">&quot;I will never be seen&quot;</span>
</span><span class="athl-line" data-athl-line="189">  <span style="color: #baa0e8;">2</span> <span style="color: #e48cc1;">*</span> <span style="color: #baa0e8;">5</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">12</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="190">    <span style="color: #e8eda2;">&quot;Me neither&quot;</span>
</span><span class="athl-line" data-athl-line="191">  <span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">+</span> <span style="color: #baa0e8;">2</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">3</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="192">    <span style="color: #e8eda2;">&quot;But I will&quot;</span>
</span><span class="athl-line" data-athl-line="193"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="194">
</span><span class="athl-line" data-athl-line="195"><span style="color: #70747f;"># It is common to set the last condition equal to `true`, which will always match.</span>
</span><span class="athl-line" data-athl-line="196"><span style="color: #e48cc1;">cond</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="197">  <span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">+</span> <span style="color: #baa0e8;">1</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">3</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="198">    <span style="color: #e8eda2;">&quot;I will never be seen&quot;</span>
</span><span class="athl-line" data-athl-line="199">  <span style="color: #baa0e8;">2</span> <span style="color: #e48cc1;">*</span> <span style="color: #baa0e8;">5</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">12</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="200">    <span style="color: #e8eda2;">&quot;Me neither&quot;</span>
</span><span class="athl-line" data-athl-line="201">  <span style="color: #baa0e8;">true</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="202">    <span style="color: #e8eda2;">&quot;But I will (this is essentially an else)&quot;</span>
</span><span class="athl-line" data-athl-line="203"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="204">
</span><span class="athl-line" data-athl-line="205"><span style="color: #70747f;"># `try/catch` is used to catch values that are thrown, it also supports an</span>
</span><span class="athl-line" data-athl-line="206"><span style="color: #70747f;"># `after` clause that is invoked whether or not a value is caught.</span>
</span><span class="athl-line" data-athl-line="207"><span style="color: #e48cc1;">try</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="208">  <span style="color: #e48cc1;">throw</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">:hello</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="209"><span style="color: #e48cc1;">catch</span>
</span><span class="athl-line" data-athl-line="210">  <span style="color: #f6f6f5;">message</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #e8eda2;">&quot;Got <span ><span style="color: #87e58e;">#{</span><span style="color: #f6f6f5;">message</span><span style="color: #87e58e;">}</span></span>.&quot;</span>
</span><span class="athl-line" data-athl-line="211"><span style="color: #e48cc1;">after</span>
</span><span class="athl-line" data-athl-line="212">  <span style="color: #fdc38e;">IO</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">puts</span><span style="color: #f6f6f5;">(</span><span style="color: #e8eda2;">&quot;I&#39;m the after clause.&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="213"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="214"><span style="color: #70747f;">#=&gt; I&#39;m the after clause</span>
</span><span class="athl-line" data-athl-line="215"><span style="color: #70747f;"># &quot;Got :hello&quot;</span>
</span><span class="athl-line" data-athl-line="216">
</span><span class="athl-line" data-athl-line="217"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="218"><span style="color: #70747f;">## -- Modules and Functions</span>
</span><span class="athl-line" data-athl-line="219"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="220">
</span><span class="athl-line" data-athl-line="221"><span style="color: #70747f;"># Anonymous functions (notice the dot)</span>
</span><span class="athl-line" data-athl-line="222"><span style="color: #f6f6f5;">square</span> <span style="color: #e48cc1;">=</span> <span style="color: #e48cc1;">fn</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">x</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="223"><span style="color: #f6f6f5;">square</span><span style="color: #e48cc1;">.</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">5</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 25</span>
</span><span class="athl-line" data-athl-line="224">
</span><span class="athl-line" data-athl-line="225"><span style="color: #70747f;"># They also accept many clauses and guards.</span>
</span><span class="athl-line" data-athl-line="226"><span style="color: #70747f;"># Guards let you fine tune pattern matching,</span>
</span><span class="athl-line" data-athl-line="227"><span style="color: #70747f;"># they are indicated by the `when` keyword:</span>
</span><span class="athl-line" data-athl-line="228"><span style="color: #f6f6f5;">f</span> <span style="color: #e48cc1;">=</span> <span style="color: #e48cc1;">fn</span>
</span><span class="athl-line" data-athl-line="229">  <span style="color: #f6f6f5;">x</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">y</span> <span style="color: #e48cc1;">when</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">&gt;</span> <span style="color: #baa0e8;">0</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">+</span> <span style="color: #f6f6f5;">y</span>
</span><span class="athl-line" data-athl-line="230">  <span style="color: #f6f6f5;">x</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">y</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">y</span>
</span><span class="athl-line" data-athl-line="231"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="232">
</span><span class="athl-line" data-athl-line="233"><span style="color: #f6f6f5;">f</span><span style="color: #e48cc1;">.</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">)</span>  <span style="color: #70747f;">#=&gt; 4</span>
</span><span class="athl-line" data-athl-line="234"><span style="color: #f6f6f5;">f</span><span style="color: #e48cc1;">.</span><span style="color: #f6f6f5;">(</span><span style="color: #e48cc1;">-</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; -3</span>
</span><span class="athl-line" data-athl-line="235">
</span><span class="athl-line" data-athl-line="236"><span style="color: #70747f;"># Elixir also provides many built-in functions.</span>
</span><span class="athl-line" data-athl-line="237"><span style="color: #70747f;"># These are available in the current scope.</span>
</span><span class="athl-line" data-athl-line="238"><span style="color: #87e58e;">is_number</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">10</span><span style="color: #f6f6f5;">)</span>    <span style="color: #70747f;">#=&gt; true</span>
</span><span class="athl-line" data-athl-line="239"><span style="color: #87e58e;">is_list</span><span style="color: #f6f6f5;">(</span><span style="color: #e8eda2;">&quot;hello&quot;</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; false</span>
</span><span class="athl-line" data-athl-line="240"><span style="color: #87e58e;">elem</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">}</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">0</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 1</span>
</span><span class="athl-line" data-athl-line="241">
</span><span class="athl-line" data-athl-line="242"><span style="color: #70747f;"># You can group several functions into a module. Inside a module use `def`</span>
</span><span class="athl-line" data-athl-line="243"><span style="color: #70747f;"># to define your functions.</span>
</span><span class="athl-line" data-athl-line="244"><span style="color: #e48cc1;">defmodule</span> <span style="color: #fdc38e;">Math</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="245">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">sum</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">a</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">b</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="246">    <span style="color: #f6f6f5;">a</span> <span style="color: #e48cc1;">+</span> <span style="color: #f6f6f5;">b</span>
</span><span class="athl-line" data-athl-line="247">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="248">
</span><span class="athl-line" data-athl-line="249">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">square</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">x</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="250">    <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">x</span>
</span><span class="athl-line" data-athl-line="251">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="252"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="253">
</span><span class="athl-line" data-athl-line="254"><span style="color: #fdc38e;">Math</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">sum</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">)</span>  <span style="color: #70747f;">#=&gt; 3</span>
</span><span class="athl-line" data-athl-line="255"><span style="color: #fdc38e;">Math</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">square</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 9</span>
</span><span class="athl-line" data-athl-line="256">
</span><span class="athl-line" data-athl-line="257"><span style="color: #70747f;"># To compile our simple Math module save it as `math.ex` and use `elixirc`</span>
</span><span class="athl-line" data-athl-line="258"><span style="color: #70747f;"># in your terminal: elixirc math.ex</span>
</span><span class="athl-line" data-athl-line="259">
</span><span class="athl-line" data-athl-line="260"><span style="color: #70747f;"># Inside a module we can define functions with `def` and private functions with `defp`.</span>
</span><span class="athl-line" data-athl-line="261"><span style="color: #70747f;"># A function defined with `def` is available to be invoked from other modules,</span>
</span><span class="athl-line" data-athl-line="262"><span style="color: #70747f;"># a private function can only be invoked locally.</span>
</span><span class="athl-line" data-athl-line="263"><span style="color: #e48cc1;">defmodule</span> <span style="color: #fdc38e;">PrivateMath</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="264">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">sum</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">a</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">b</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="265">    <span style="color: #87e58e;">do_sum</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">a</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">b</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="266">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="267">
</span><span class="athl-line" data-athl-line="268">  <span style="color: #e48cc1;">defp</span> <span style="color: #87e58e;">do_sum</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">a</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">b</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="269">    <span style="color: #f6f6f5;">a</span> <span style="color: #e48cc1;">+</span> <span style="color: #f6f6f5;">b</span>
</span><span class="athl-line" data-athl-line="270">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="271"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="272">
</span><span class="athl-line" data-athl-line="273"><span style="color: #fdc38e;">PrivateMath</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">sum</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">)</span>    <span style="color: #70747f;">#=&gt; 3</span>
</span><span class="athl-line" data-athl-line="274"><span style="color: #70747f;"># PrivateMath.do_sum(1, 2) #=&gt; ** (UndefinedFunctionError)</span>
</span><span class="athl-line" data-athl-line="275">
</span><span class="athl-line" data-athl-line="276"><span style="color: #70747f;"># Function declarations also support guards and multiple clauses.</span>
</span><span class="athl-line" data-athl-line="277"><span style="color: #70747f;"># When a function with multiple clauses is called, the first function</span>
</span><span class="athl-line" data-athl-line="278"><span style="color: #70747f;"># that satisfies the clause will be invoked.</span>
</span><span class="athl-line" data-athl-line="279"><span style="color: #70747f;"># Example: invoking area({:circle, 3}) will call the second area</span>
</span><span class="athl-line" data-athl-line="280"><span style="color: #70747f;"># function defined below, not the first:</span>
</span><span class="athl-line" data-athl-line="281"><span style="color: #e48cc1;">defmodule</span> <span style="color: #fdc38e;">Geometry</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="282">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">area</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:rectangle</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">w</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">h</span><span style="color: #f6f6f5;">}</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="283">    <span style="color: #f6f6f5;">w</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">h</span>
</span><span class="athl-line" data-athl-line="284">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="285">
</span><span class="athl-line" data-athl-line="286">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">area</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:circle</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">r</span><span style="color: #f6f6f5;">}</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">when</span> <span style="color: #87e58e;">is_number</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">r</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="287">    <span style="color: #baa0e8;">3.14</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">r</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">r</span>
</span><span class="athl-line" data-athl-line="288">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="289"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="290">
</span><span class="athl-line" data-athl-line="291"><span style="color: #fdc38e;">Geometry</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">area</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:rectangle</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">}</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 6</span>
</span><span class="athl-line" data-athl-line="292"><span style="color: #fdc38e;">Geometry</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">area</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:circle</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">}</span><span style="color: #f6f6f5;">)</span>       <span style="color: #70747f;">#=&gt; 28.25999999999999801048</span>
</span><span class="athl-line" data-athl-line="293"><span style="color: #70747f;"># Geometry.area({:circle, &quot;not_a_number&quot;})</span>
</span><span class="athl-line" data-athl-line="294"><span style="color: #70747f;">#=&gt; ** (FunctionClauseError) no function clause matching in Geometry.area/1</span>
</span><span class="athl-line" data-athl-line="295">
</span><span class="athl-line" data-athl-line="296"><span style="color: #70747f;"># Due to immutability, recursion is a big part of Elixir</span>
</span><span class="athl-line" data-athl-line="297"><span style="color: #e48cc1;">defmodule</span> <span style="color: #fdc38e;">Recursion</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="298">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">sum_list</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">[</span><span style="color: #f6f6f5;">head</span> <span style="color: #e48cc1;">|</span> <span style="color: #f6f6f5;">tail</span><span style="color: #f6f6f5;">]</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">acc</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="299">    <span style="color: #87e58e;">sum_list</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">tail</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">acc</span> <span style="color: #e48cc1;">+</span> <span style="color: #f6f6f5;">head</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="300">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="301">
</span><span class="athl-line" data-athl-line="302">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">sum_list</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">[</span><span style="color: #f6f6f5;">]</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">acc</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="303">    <span style="color: #f6f6f5;">acc</span>
</span><span class="athl-line" data-athl-line="304">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="305"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="306">
</span><span class="athl-line" data-athl-line="307"><span style="color: #fdc38e;">Recursion</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">sum_list</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">[</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">]</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">0</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 6</span>
</span><span class="athl-line" data-athl-line="308">
</span><span class="athl-line" data-athl-line="309"><span style="color: #70747f;"># Elixir modules support attributes, there are built-in attributes and you</span>
</span><span class="athl-line" data-athl-line="310"><span style="color: #70747f;"># may also add custom ones.</span>
</span><span class="athl-line" data-athl-line="311"><span style="color: #e48cc1;">defmodule</span> <span style="color: #fdc38e;">MyMod</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="312">  <span style="color: #70747f;">@</span><span style="color: #70747f;">moduledoc</span> <span style="color: #70747f;">&quot;&quot;&quot;</span>
</span><span class="athl-line" data-athl-line="313"><span style="color: #70747f;">  This is a built-in attribute on an example module.</span>
</span><span class="athl-line" data-athl-line="314"><span style="color: #70747f;">  &quot;&quot;&quot;</span>
</span><span class="athl-line" data-athl-line="315">
</span><span class="athl-line" data-athl-line="316">  <span style="color: #a7dfef;">@</span><span style="color: #a7dfef;">my_data</span> <span style="color: #baa0e8;">100</span> <span style="color: #70747f;"># This is a custom attribute.</span>
</span><span class="athl-line" data-athl-line="317">  <span style="color: #fdc38e;">IO</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">inspect</span><span style="color: #f6f6f5;">(</span><span style="color: #a7dfef;">@</span><span style="color: #a7dfef;">my_data</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; 100</span>
</span><span class="athl-line" data-athl-line="318"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="319">
</span><span class="athl-line" data-athl-line="320"><span style="color: #70747f;"># The pipe operator |&gt; allows you to pass the output of an expression</span>
</span><span class="athl-line" data-athl-line="321"><span style="color: #70747f;"># as the first parameter into a function. </span>
</span><span class="athl-line" data-athl-line="322">
</span><span class="athl-line" data-athl-line="323"><span style="color: #fdc38e;">Range</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">new</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">1</span><span style="color: #f6f6f5;">,</span><span style="color: #baa0e8;">10</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="324"><span style="color: #e48cc1;">|&gt;</span> <span style="color: #fdc38e;">Enum</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">map</span><span style="color: #f6f6f5;">(</span><span style="color: #e48cc1;">fn</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">end</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="325"><span style="color: #e48cc1;">|&gt;</span> <span style="color: #fdc38e;">Enum</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">filter</span><span style="color: #f6f6f5;">(</span><span style="color: #e48cc1;">fn</span> <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #87e58e;">rem</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">x</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">==</span> <span style="color: #baa0e8;">0</span> <span style="color: #e48cc1;">end</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="326"><span style="color: #70747f;">#=&gt; [4, 16, 36, 64, 100]</span>
</span><span class="athl-line" data-athl-line="327">
</span><span class="athl-line" data-athl-line="328"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="329"><span style="color: #70747f;">## -- Structs and Exceptions</span>
</span><span class="athl-line" data-athl-line="330"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="331">
</span><span class="athl-line" data-athl-line="332"><span style="color: #70747f;"># Structs are extensions on top of maps that bring default values,</span>
</span><span class="athl-line" data-athl-line="333"><span style="color: #70747f;"># compile-time guarantees and polymorphism into Elixir.</span>
</span><span class="athl-line" data-athl-line="334"><span style="color: #e48cc1;">defmodule</span> <span style="color: #fdc38e;">Person</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="335">  <span style="color: #e48cc1;">defstruct</span> <span style="color: #baa0e8;">name: </span><span style="color: #baa0e8;">nil</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">age: </span><span style="color: #baa0e8;">0</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">height: </span><span style="color: #baa0e8;">0</span>
</span><span class="athl-line" data-athl-line="336"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="337">
</span><span class="athl-line" data-athl-line="338"><span style="color: #f6f6f5;">joe_info</span> <span style="color: #e48cc1;">=</span> <span >%</span><span style="color: #fdc38e;">Person</span><span style="color: #f6f6f5;">{</span> <span style="color: #baa0e8;">name: </span><span style="color: #e8eda2;">&quot;Joe&quot;</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">age: </span><span style="color: #baa0e8;">30</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">height: </span><span style="color: #baa0e8;">180</span> <span style="color: #f6f6f5;">}</span>
</span><span class="athl-line" data-athl-line="339"><span style="color: #70747f;">#=&gt; %Person{age: 30, height: 180, name: &quot;Joe&quot;}</span>
</span><span class="athl-line" data-athl-line="340">
</span><span class="athl-line" data-athl-line="341"><span style="color: #70747f;"># Access the value of name</span>
</span><span class="athl-line" data-athl-line="342"><span style="color: #f6f6f5;">joe_info</span><span style="color: #e48cc1;">.</span><span style="color: #baa0e8;">name</span> <span style="color: #70747f;">#=&gt; &quot;Joe&quot;</span>
</span><span class="athl-line" data-athl-line="343">
</span><span class="athl-line" data-athl-line="344"><span style="color: #70747f;"># Update the value of age</span>
</span><span class="athl-line" data-athl-line="345"><span style="color: #f6f6f5;">older_joe_info</span> <span style="color: #e48cc1;">=</span> <span >%</span><span style="color: #f6f6f5;">{</span> <span style="color: #f6f6f5;">joe_info</span> <span style="color: #e48cc1;">|</span> <span style="color: #baa0e8;">age: </span><span style="color: #baa0e8;">31</span> <span style="color: #f6f6f5;">}</span>
</span><span class="athl-line" data-athl-line="346"><span style="color: #70747f;">#=&gt; %Person{age: 31, height: 180, name: &quot;Joe&quot;}</span>
</span><span class="athl-line" data-athl-line="347">
</span><span class="athl-line" data-athl-line="348"><span style="color: #70747f;"># The `try` block with the `rescue` keyword is used to handle exceptions</span>
</span><span class="athl-line" data-athl-line="349"><span style="color: #e48cc1;">try</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="350">  <span style="color: #e48cc1;">raise</span> <span style="color: #e8eda2;">&quot;some error&quot;</span>
</span><span class="athl-line" data-athl-line="351"><span style="color: #e48cc1;">rescue</span>
</span><span class="athl-line" data-athl-line="352">  <span style="color: #fdc38e;">RuntimeError</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #e8eda2;">&quot;rescued a runtime error&quot;</span>
</span><span class="athl-line" data-athl-line="353">  <span style="color: #70747f;">_error</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #e8eda2;">&quot;this will rescue any error&quot;</span>
</span><span class="athl-line" data-athl-line="354"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="355"><span style="color: #70747f;">#=&gt; &quot;rescued a runtime error&quot;</span>
</span><span class="athl-line" data-athl-line="356">
</span><span class="athl-line" data-athl-line="357"><span style="color: #70747f;"># All exceptions have a message</span>
</span><span class="athl-line" data-athl-line="358"><span style="color: #e48cc1;">try</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="359">  <span style="color: #e48cc1;">raise</span> <span style="color: #e8eda2;">&quot;some error&quot;</span>
</span><span class="athl-line" data-athl-line="360"><span style="color: #e48cc1;">rescue</span>
</span><span class="athl-line" data-athl-line="361">  <span style="color: #f6f6f5;">x</span> <span style="color: #e48cc1;">in</span> <span style="color: #f6f6f5;">[</span><span style="color: #fdc38e;">RuntimeError</span><span style="color: #f6f6f5;">]</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="362">    <span style="color: #f6f6f5;">x</span><span style="color: #e48cc1;">.</span><span style="color: #baa0e8;">message</span>
</span><span class="athl-line" data-athl-line="363"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="364"><span style="color: #70747f;">#=&gt; &quot;some error&quot;</span>
</span><span class="athl-line" data-athl-line="365">
</span><span class="athl-line" data-athl-line="366"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="367"><span style="color: #70747f;">## -- Concurrency</span>
</span><span class="athl-line" data-athl-line="368"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="369">
</span><span class="athl-line" data-athl-line="370"><span style="color: #70747f;"># Elixir relies on the actor model for concurrency. All we need to write</span>
</span><span class="athl-line" data-athl-line="371"><span style="color: #70747f;"># concurrent programs in Elixir are three primitives: spawning processes,</span>
</span><span class="athl-line" data-athl-line="372"><span style="color: #70747f;"># sending messages and receiving messages.</span>
</span><span class="athl-line" data-athl-line="373">
</span><span class="athl-line" data-athl-line="374"><span style="color: #70747f;"># To start a new process we use the `spawn` function, which takes a function</span>
</span><span class="athl-line" data-athl-line="375"><span style="color: #70747f;"># as argument.</span>
</span><span class="athl-line" data-athl-line="376"><span style="color: #f6f6f5;">f</span> <span style="color: #e48cc1;">=</span> <span style="color: #e48cc1;">fn</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #baa0e8;">2</span> <span style="color: #e48cc1;">*</span> <span style="color: #baa0e8;">2</span> <span style="color: #e48cc1;">end</span> <span style="color: #70747f;">#=&gt; #Function&lt;erl_eval.20.80484245&gt;</span>
</span><span class="athl-line" data-athl-line="377"><span style="color: #87e58e;">spawn</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">f</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; #PID&lt;0.40.0&gt;</span>
</span><span class="athl-line" data-athl-line="378">
</span><span class="athl-line" data-athl-line="379"><span style="color: #70747f;"># `spawn` returns a pid (process identifier), you can use this pid to send</span>
</span><span class="athl-line" data-athl-line="380"><span style="color: #70747f;"># messages to the process. To do message passing we use the `send` operator.</span>
</span><span class="athl-line" data-athl-line="381"><span style="color: #70747f;"># For all of this to be useful we need to be able to receive messages. This is</span>
</span><span class="athl-line" data-athl-line="382"><span style="color: #70747f;"># achieved with the `receive` mechanism:</span>
</span><span class="athl-line" data-athl-line="383">
</span><span class="athl-line" data-athl-line="384"><span style="color: #70747f;"># The `receive do` block is used to listen for messages and process</span>
</span><span class="athl-line" data-athl-line="385"><span style="color: #70747f;"># them when they are received. A `receive do` block will only</span>
</span><span class="athl-line" data-athl-line="386"><span style="color: #70747f;"># process one received message. In order to process multiple</span>
</span><span class="athl-line" data-athl-line="387"><span style="color: #70747f;"># messages, a function with a `receive do` block must recursively</span>
</span><span class="athl-line" data-athl-line="388"><span style="color: #70747f;"># call itself to get into the `receive do` block again.</span>
</span><span class="athl-line" data-athl-line="389">
</span><span class="athl-line" data-athl-line="390"><span style="color: #e48cc1;">defmodule</span> <span style="color: #fdc38e;">Geometry</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="391">  <span style="color: #e48cc1;">def</span> <span style="color: #87e58e;">area_loop</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="392">    <span style="color: #e48cc1;">receive</span> <span style="color: #e48cc1;">do</span>
</span><span class="athl-line" data-athl-line="393">      <span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:rectangle</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">w</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">h</span><span style="color: #f6f6f5;">}</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="394">        <span style="color: #fdc38e;">IO</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">puts</span><span style="color: #f6f6f5;">(</span><span style="color: #e8eda2;">&quot;Area = <span ><span style="color: #87e58e;">#{</span><span style="color: #f6f6f5;">w</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">h</span><span style="color: #87e58e;">}</span></span>&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="395">        <span style="color: #87e58e;">area_loop</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="396">      <span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:circle</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">r</span><span style="color: #f6f6f5;">}</span> <span style="color: #e48cc1;">-&gt;</span>
</span><span class="athl-line" data-athl-line="397">        <span style="color: #fdc38e;">IO</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">puts</span><span style="color: #f6f6f5;">(</span><span style="color: #e8eda2;">&quot;Area = <span ><span style="color: #87e58e;">#{</span><span style="color: #baa0e8;">3.14</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">r</span> <span style="color: #e48cc1;">*</span> <span style="color: #f6f6f5;">r</span><span style="color: #87e58e;">}</span></span>&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="398">        <span style="color: #87e58e;">area_loop</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="399">    <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="400">  <span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="401"><span style="color: #e48cc1;">end</span>
</span><span class="athl-line" data-athl-line="402">
</span><span class="athl-line" data-athl-line="403"><span style="color: #70747f;"># Compile the module and create a process that evaluates `area_loop` in the shell</span>
</span><span class="athl-line" data-athl-line="404"><span style="color: #f6f6f5;">pid</span> <span style="color: #e48cc1;">=</span> <span style="color: #87e58e;">spawn</span><span style="color: #f6f6f5;">(</span><span style="color: #e48cc1;">fn</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #fdc38e;">Geometry</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">area_loop</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span> <span style="color: #e48cc1;">end</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; #PID&lt;0.40.0&gt;</span>
</span><span class="athl-line" data-athl-line="405"><span style="color: #70747f;"># Alternatively</span>
</span><span class="athl-line" data-athl-line="406"><span style="color: #f6f6f5;">pid</span> <span style="color: #e48cc1;">=</span> <span style="color: #87e58e;">spawn</span><span style="color: #f6f6f5;">(</span><span style="color: #fdc38e;">Geometry</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">:area_loop</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">[</span><span style="color: #f6f6f5;">]</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="407">
</span><span class="athl-line" data-athl-line="408"><span style="color: #70747f;"># Send a message to `pid` that will match a pattern in the receive statement</span>
</span><span class="athl-line" data-athl-line="409"><span style="color: #87e58e;">send</span> <span style="color: #f6f6f5;">pid</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:rectangle</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">3</span><span style="color: #f6f6f5;">}</span>
</span><span class="athl-line" data-athl-line="410"><span style="color: #70747f;">#=&gt; Area = 6</span>
</span><span class="athl-line" data-athl-line="411"><span style="color: #70747f;">#   {:rectangle,2,3}</span>
</span><span class="athl-line" data-athl-line="412">
</span><span class="athl-line" data-athl-line="413"><span style="color: #87e58e;">send</span> <span style="color: #f6f6f5;">pid</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:circle</span><span style="color: #f6f6f5;">,</span> <span style="color: #baa0e8;">2</span><span style="color: #f6f6f5;">}</span>
</span><span class="athl-line" data-athl-line="414"><span style="color: #70747f;">#=&gt; Area = 12.56000000000000049738</span>
</span><span class="athl-line" data-athl-line="415"><span style="color: #70747f;">#   {:circle,2}</span>
</span><span class="athl-line" data-athl-line="416">
</span><span class="athl-line" data-athl-line="417"><span style="color: #70747f;"># The shell is also a process, you can use `self` to get the current pid</span>
</span><span class="athl-line" data-athl-line="418"><span style="color: #87e58e;">self</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; #PID&lt;0.27.0&gt;</span>
</span><span class="athl-line" data-athl-line="419">
</span><span class="athl-line" data-athl-line="420"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="421"><span style="color: #70747f;">## -- Agents</span>
</span><span class="athl-line" data-athl-line="422"><span style="color: #70747f;">## ---------------------------</span>
</span><span class="athl-line" data-athl-line="423">
</span><span class="athl-line" data-athl-line="424"><span style="color: #70747f;"># An agent is a process that keeps track of some changing value</span>
</span><span class="athl-line" data-athl-line="425">
</span><span class="athl-line" data-athl-line="426"><span style="color: #70747f;"># Create an agent with `Agent.start_link`, passing in a function</span>
</span><span class="athl-line" data-athl-line="427"><span style="color: #70747f;"># The initial state of the agent will be whatever that function returns</span>
</span><span class="athl-line" data-athl-line="428"><span style="color: #f6f6f5;">{</span><span style="color: #baa0e8;">:ok</span><span style="color: #f6f6f5;">,</span> <span style="color: #f6f6f5;">my_agent</span><span style="color: #f6f6f5;">}</span> <span style="color: #e48cc1;">=</span> <span style="color: #fdc38e;">Agent</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">start_link</span><span style="color: #f6f6f5;">(</span><span style="color: #e48cc1;">fn</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #f6f6f5;">[</span><span style="color: #e8eda2;">&quot;red&quot;</span><span style="color: #f6f6f5;">,</span> <span style="color: #e8eda2;">&quot;green&quot;</span><span style="color: #f6f6f5;">]</span> <span style="color: #e48cc1;">end</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="429">
</span><span class="athl-line" data-athl-line="430"><span style="color: #70747f;"># `Agent.get` takes an agent name and a `fn` that gets passed the current state</span>
</span><span class="athl-line" data-athl-line="431"><span style="color: #70747f;"># Whatever that `fn` returns is what you&#39;ll get back</span>
</span><span class="athl-line" data-athl-line="432"><span style="color: #fdc38e;">Agent</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">get</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">my_agent</span><span style="color: #f6f6f5;">,</span> <span style="color: #e48cc1;">fn</span> <span style="color: #f6f6f5;">colors</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #f6f6f5;">colors</span> <span style="color: #e48cc1;">end</span><span style="color: #f6f6f5;">)</span> <span style="color: #70747f;">#=&gt; [&quot;red&quot;, &quot;green&quot;]</span>
</span><span class="athl-line" data-athl-line="433">
</span><span class="athl-line" data-athl-line="434"><span style="color: #70747f;"># Update the agent&#39;s state the same way</span>
</span><span class="athl-line" data-athl-line="435"><span style="color: #fdc38e;">Agent</span><span style="color: #e48cc1;">.</span><span style="color: #87e58e;">update</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">my_agent</span><span style="color: #f6f6f5;">,</span> <span style="color: #e48cc1;">fn</span> <span style="color: #f6f6f5;">colors</span> <span style="color: #e48cc1;">-&gt;</span> <span style="color: #f6f6f5;">[</span><span style="color: #e8eda2;">&quot;blue&quot;</span> <span style="color: #e48cc1;">|</span> <span style="color: #f6f6f5;">colors</span><span style="color: #f6f6f5;">]</span> <span style="color: #e48cc1;">end</span><span style="color: #f6f6f5;">)</span>
</span></code></pre>
</body>
</html>