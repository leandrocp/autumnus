<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>r - catppuccin_mocha - Autumnus</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'JetBrains Mono', monospace;
            line-height: 1.5;
        }
        pre {
            font-size: 15px;
            margin: 20px;
            padding: 50px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
<pre class="athl" style="color: #cdd6f4; background-color: #1e1e2e;"><code class="language-r" translate="no" tabindex="0"><span class="athl-line" data-athl-line="1"><span style="color: #9399b2;"># Comments start with hash signs, also known as number symbols (#).</span>
</span><span class="athl-line" data-athl-line="2">
</span><span class="athl-line" data-athl-line="3"><span style="color: #9399b2;"># You can&#39;t make multi-line comments,</span>
</span><span class="athl-line" data-athl-line="4"><span style="color: #9399b2;"># but you can stack multiple comments like so.</span>
</span><span class="athl-line" data-athl-line="5">
</span><span class="athl-line" data-athl-line="6"><span style="color: #9399b2;"># in Windows you can use CTRL-ENTER to execute a line.</span>
</span><span class="athl-line" data-athl-line="7"><span style="color: #9399b2;"># on Mac it is COMMAND-ENTER</span>
</span><span class="athl-line" data-athl-line="8">
</span><span class="athl-line" data-athl-line="9">
</span><span class="athl-line" data-athl-line="10">
</span><span class="athl-line" data-athl-line="11"><span style="color: #9399b2;">#############################################################################</span>
</span><span class="athl-line" data-athl-line="12"><span style="color: #9399b2;"># Stuff you can do without understanding anything about programming</span>
</span><span class="athl-line" data-athl-line="13"><span style="color: #9399b2;">#############################################################################</span>
</span><span class="athl-line" data-athl-line="14">
</span><span class="athl-line" data-athl-line="15"><span style="color: #9399b2;"># In this section, we show off some of the cool stuff you can do in</span>
</span><span class="athl-line" data-athl-line="16"><span style="color: #9399b2;"># R without understanding anything about programming. Do not worry</span>
</span><span class="athl-line" data-athl-line="17"><span style="color: #9399b2;"># about understanding everything the code does. Just enjoy!</span>
</span><span class="athl-line" data-athl-line="18">
</span><span class="athl-line" data-athl-line="19"><span style="color: #89b4fa;">data</span><span style="color: #9399b2;">(</span><span style="color: #9399b2;">)</span>          <span style="color: #9399b2;"># browse pre-loaded data sets</span>
</span><span class="athl-line" data-athl-line="20"><span style="color: #89b4fa;">data</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># get this one: &quot;Lengths of Major North American Rivers&quot;</span>
</span><span class="athl-line" data-athl-line="21"><span style="color: #89b4fa;">ls</span><span style="color: #9399b2;">(</span><span style="color: #9399b2;">)</span>            <span style="color: #9399b2;"># notice that &quot;rivers&quot; now appears in the workspace</span>
</span><span class="athl-line" data-athl-line="22"><span style="color: #89b4fa;">head</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># peek at the data set</span>
</span><span class="athl-line" data-athl-line="23"><span style="color: #9399b2;"># 735 320 325 392 524 450</span>
</span><span class="athl-line" data-athl-line="24">
</span><span class="athl-line" data-athl-line="25"><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># how many rivers were measured?</span>
</span><span class="athl-line" data-athl-line="26"><span style="color: #9399b2;"># 141</span>
</span><span class="athl-line" data-athl-line="27"><span style="color: #89b4fa;">summary</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># what are some summary statistics?</span>
</span><span class="athl-line" data-athl-line="28"><span style="color: #9399b2;">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
</span><span class="athl-line" data-athl-line="29"><span style="color: #9399b2;">#  135.0   310.0   425.0   591.2   680.0  3710.0</span>
</span><span class="athl-line" data-athl-line="30">
</span><span class="athl-line" data-athl-line="31"><span style="color: #9399b2;"># make a stem-and-leaf plot (a histogram-like data visualization)</span>
</span><span class="athl-line" data-athl-line="32"><span style="color: #89b4fa;">stem</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="33">
</span><span class="athl-line" data-athl-line="34"><span style="color: #9399b2;">#  The decimal point is 2 digit(s) to the right of the |</span>
</span><span class="athl-line" data-athl-line="35"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="36"><span style="color: #9399b2;">#   0 | 4</span>
</span><span class="athl-line" data-athl-line="37"><span style="color: #9399b2;">#   2 | 011223334555566667778888899900001111223333344455555666688888999</span>
</span><span class="athl-line" data-athl-line="38"><span style="color: #9399b2;">#   4 | 111222333445566779001233344567</span>
</span><span class="athl-line" data-athl-line="39"><span style="color: #9399b2;">#   6 | 000112233578012234468</span>
</span><span class="athl-line" data-athl-line="40"><span style="color: #9399b2;">#   8 | 045790018</span>
</span><span class="athl-line" data-athl-line="41"><span style="color: #9399b2;">#  10 | 04507</span>
</span><span class="athl-line" data-athl-line="42"><span style="color: #9399b2;">#  12 | 1471</span>
</span><span class="athl-line" data-athl-line="43"><span style="color: #9399b2;">#  14 | 56</span>
</span><span class="athl-line" data-athl-line="44"><span style="color: #9399b2;">#  16 | 7</span>
</span><span class="athl-line" data-athl-line="45"><span style="color: #9399b2;">#  18 | 9</span>
</span><span class="athl-line" data-athl-line="46"><span style="color: #9399b2;">#  20 |</span>
</span><span class="athl-line" data-athl-line="47"><span style="color: #9399b2;">#  22 | 25</span>
</span><span class="athl-line" data-athl-line="48"><span style="color: #9399b2;">#  24 | 3</span>
</span><span class="athl-line" data-athl-line="49"><span style="color: #9399b2;">#  26 |</span>
</span><span class="athl-line" data-athl-line="50"><span style="color: #9399b2;">#  28 |</span>
</span><span class="athl-line" data-athl-line="51"><span style="color: #9399b2;">#  30 |</span>
</span><span class="athl-line" data-athl-line="52"><span style="color: #9399b2;">#  32 |</span>
</span><span class="athl-line" data-athl-line="53"><span style="color: #9399b2;">#  34 |</span>
</span><span class="athl-line" data-athl-line="54"><span style="color: #9399b2;">#  36 | 1</span>
</span><span class="athl-line" data-athl-line="55">
</span><span class="athl-line" data-athl-line="56"><span style="color: #89b4fa;">stem</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">log</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># Notice that the data are neither normal nor log-normal!</span>
</span><span class="athl-line" data-athl-line="57"><span style="color: #9399b2;"># Take that, Bell curve fundamentalists.</span>
</span><span class="athl-line" data-athl-line="58">
</span><span class="athl-line" data-athl-line="59"><span style="color: #9399b2;">#  The decimal point is 1 digit(s) to the left of the |</span>
</span><span class="athl-line" data-athl-line="60"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="61"><span style="color: #9399b2;">#  48 | 1</span>
</span><span class="athl-line" data-athl-line="62"><span style="color: #9399b2;">#  50 |</span>
</span><span class="athl-line" data-athl-line="63"><span style="color: #9399b2;">#  52 | 15578</span>
</span><span class="athl-line" data-athl-line="64"><span style="color: #9399b2;">#  54 | 44571222466689</span>
</span><span class="athl-line" data-athl-line="65"><span style="color: #9399b2;">#  56 | 023334677000124455789</span>
</span><span class="athl-line" data-athl-line="66"><span style="color: #9399b2;">#  58 | 00122366666999933445777</span>
</span><span class="athl-line" data-athl-line="67"><span style="color: #9399b2;">#  60 | 122445567800133459</span>
</span><span class="athl-line" data-athl-line="68"><span style="color: #9399b2;">#  62 | 112666799035</span>
</span><span class="athl-line" data-athl-line="69"><span style="color: #9399b2;">#  64 | 00011334581257889</span>
</span><span class="athl-line" data-athl-line="70"><span style="color: #9399b2;">#  66 | 003683579</span>
</span><span class="athl-line" data-athl-line="71"><span style="color: #9399b2;">#  68 | 0019156</span>
</span><span class="athl-line" data-athl-line="72"><span style="color: #9399b2;">#  70 | 079357</span>
</span><span class="athl-line" data-athl-line="73"><span style="color: #9399b2;">#  72 | 89</span>
</span><span class="athl-line" data-athl-line="74"><span style="color: #9399b2;">#  74 | 84</span>
</span><span class="athl-line" data-athl-line="75"><span style="color: #9399b2;">#  76 | 56</span>
</span><span class="athl-line" data-athl-line="76"><span style="color: #9399b2;">#  78 | 4</span>
</span><span class="athl-line" data-athl-line="77"><span style="color: #9399b2;">#  80 |</span>
</span><span class="athl-line" data-athl-line="78"><span style="color: #9399b2;">#  82 | 2</span>
</span><span class="athl-line" data-athl-line="79">
</span><span class="athl-line" data-athl-line="80"><span style="color: #9399b2;"># make a histogram:</span>
</span><span class="athl-line" data-athl-line="81"><span style="color: #89b4fa;">hist</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">col</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;#333333&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">border</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;white&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">breaks</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">25</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="82"><span style="color: #89b4fa;">hist</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">log</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">rivers</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">col</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;#333333&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">border</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;white&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">breaks</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">25</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="83"><span style="color: #9399b2;"># play around with these parameters, you&#39;ll do more plotting later</span>
</span><span class="athl-line" data-athl-line="84">
</span><span class="athl-line" data-athl-line="85"><span style="color: #9399b2;"># Here&#39;s another neat data set that comes pre-loaded. R has tons of these.</span>
</span><span class="athl-line" data-athl-line="86"><span style="color: #89b4fa;">data</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">discoveries</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="87"><span style="color: #89b4fa;">plot</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">discoveries</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">col</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;#333333&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">lwd</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">xlab</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;Year&quot;</span><span style="color: #9399b2;">,</span>
</span><span class="athl-line" data-athl-line="88">     <span style="color: #eba0ac;">main</span><span style="color: #89dceb;">=</span><span style="color: #a6e3a1;">&quot;Number of important discoveries per year&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="89"><span style="color: #89b4fa;">plot</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">discoveries</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">col</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;#333333&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">lwd</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">type</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;h&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">xlab</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;Year&quot;</span><span style="color: #9399b2;">,</span>
</span><span class="athl-line" data-athl-line="90">     <span style="color: #eba0ac;">main</span><span style="color: #89dceb;">=</span><span style="color: #a6e3a1;">&quot;Number of important discoveries per year&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="91">
</span><span class="athl-line" data-athl-line="92"><span style="color: #9399b2;"># Rather than leaving the default ordering (by year),</span>
</span><span class="athl-line" data-athl-line="93"><span style="color: #9399b2;"># we could also sort to see what&#39;s typical:</span>
</span><span class="athl-line" data-athl-line="94"><span style="color: #89b4fa;">sort</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">discoveries</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="95"><span style="color: #9399b2;">#  [1]  0  0  0  0  0  0  0  0  0  1  1  1  1  1  1  1  1  1  1  1  1  2  2  2  2</span>
</span><span class="athl-line" data-athl-line="96"><span style="color: #9399b2;"># [26]  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  3  3  3</span>
</span><span class="athl-line" data-athl-line="97"><span style="color: #9399b2;"># [51]  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  4  4  4  4  4  4  4  4</span>
</span><span class="athl-line" data-athl-line="98"><span style="color: #9399b2;"># [76]  4  4  4  4  5  5  5  5  5  5  5  6  6  6  6  6  6  7  7  7  7  8  9 10 12</span>
</span><span class="athl-line" data-athl-line="99">
</span><span class="athl-line" data-athl-line="100"><span style="color: #89b4fa;">stem</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">discoveries</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">scale</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="101"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="102"><span style="color: #9399b2;">#  The decimal point is at the |</span>
</span><span class="athl-line" data-athl-line="103"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="104"><span style="color: #9399b2;">#   0 | 000000000</span>
</span><span class="athl-line" data-athl-line="105"><span style="color: #9399b2;">#   1 | 000000000000</span>
</span><span class="athl-line" data-athl-line="106"><span style="color: #9399b2;">#   2 | 00000000000000000000000000</span>
</span><span class="athl-line" data-athl-line="107"><span style="color: #9399b2;">#   3 | 00000000000000000000</span>
</span><span class="athl-line" data-athl-line="108"><span style="color: #9399b2;">#   4 | 000000000000</span>
</span><span class="athl-line" data-athl-line="109"><span style="color: #9399b2;">#   5 | 0000000</span>
</span><span class="athl-line" data-athl-line="110"><span style="color: #9399b2;">#   6 | 000000</span>
</span><span class="athl-line" data-athl-line="111"><span style="color: #9399b2;">#   7 | 0000</span>
</span><span class="athl-line" data-athl-line="112"><span style="color: #9399b2;">#   8 | 0</span>
</span><span class="athl-line" data-athl-line="113"><span style="color: #9399b2;">#   9 | 0</span>
</span><span class="athl-line" data-athl-line="114"><span style="color: #9399b2;">#  10 | 0</span>
</span><span class="athl-line" data-athl-line="115"><span style="color: #9399b2;">#  11 |</span>
</span><span class="athl-line" data-athl-line="116"><span style="color: #9399b2;">#  12 | 0</span>
</span><span class="athl-line" data-athl-line="117">
</span><span class="athl-line" data-athl-line="118"><span style="color: #89b4fa;">max</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">discoveries</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="119"><span style="color: #9399b2;"># 12</span>
</span><span class="athl-line" data-athl-line="120"><span style="color: #89b4fa;">summary</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">discoveries</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="121"><span style="color: #9399b2;">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
</span><span class="athl-line" data-athl-line="122"><span style="color: #9399b2;">#    0.0     2.0     3.0     3.1     4.0    12.0</span>
</span><span class="athl-line" data-athl-line="123">
</span><span class="athl-line" data-athl-line="124"><span style="color: #9399b2;"># Roll a die a few times</span>
</span><span class="athl-line" data-athl-line="125"><span style="color: #89b4fa;">round</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">runif</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">7</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">min</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">.5</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">max</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">6.5</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="126"><span style="color: #9399b2;"># 1 4 6 1 4 6 4</span>
</span><span class="athl-line" data-athl-line="127"><span style="color: #9399b2;"># Your numbers will differ from mine unless we set the same random.seed(31337)</span>
</span><span class="athl-line" data-athl-line="128">
</span><span class="athl-line" data-athl-line="129"><span style="color: #9399b2;"># Draw from a standard Gaussian 9 times</span>
</span><span class="athl-line" data-athl-line="130"><span style="color: #89b4fa;">rnorm</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">9</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="131"><span style="color: #9399b2;"># [1]  0.07528471  1.03499859  1.34809556 -0.82356087  0.61638975 -1.88757271</span>
</span><span class="athl-line" data-athl-line="132"><span style="color: #9399b2;"># [7] -0.59975593  0.57629164  1.08455362</span>
</span><span class="athl-line" data-athl-line="133">
</span><span class="athl-line" data-athl-line="134">
</span><span class="athl-line" data-athl-line="135">
</span><span class="athl-line" data-athl-line="136"><span style="color: #9399b2;">##################################################</span>
</span><span class="athl-line" data-athl-line="137"><span style="color: #9399b2;"># Data types and basic arithmetic</span>
</span><span class="athl-line" data-athl-line="138"><span style="color: #9399b2;">##################################################</span>
</span><span class="athl-line" data-athl-line="139">
</span><span class="athl-line" data-athl-line="140"><span style="color: #9399b2;"># Now for the programming-oriented part of the tutorial.</span>
</span><span class="athl-line" data-athl-line="141"><span style="color: #9399b2;"># In this section you will meet the important data types of R:</span>
</span><span class="athl-line" data-athl-line="142"><span style="color: #9399b2;"># integers, numerics, characters, logicals, and factors.</span>
</span><span class="athl-line" data-athl-line="143"><span style="color: #9399b2;"># There are others, but these are the bare minimum you need to</span>
</span><span class="athl-line" data-athl-line="144"><span style="color: #9399b2;"># get started.</span>
</span><span class="athl-line" data-athl-line="145">
</span><span class="athl-line" data-athl-line="146"><span style="color: #9399b2;"># INTEGERS</span>
</span><span class="athl-line" data-athl-line="147"><span style="color: #9399b2;"># Long-storage integers are written with L</span>
</span><span class="athl-line" data-athl-line="148"><span style="color: #fab387;">5L</span>          <span style="color: #9399b2;"># 5</span>
</span><span class="athl-line" data-athl-line="149"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">5L</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># &quot;integer&quot;</span>
</span><span class="athl-line" data-athl-line="150"><span style="color: #9399b2;"># (Try ?class for more information on the class() function.)</span>
</span><span class="athl-line" data-athl-line="151"><span style="color: #9399b2;"># In R, every single value, like 5L, is considered a vector of length 1</span>
</span><span class="athl-line" data-athl-line="152"><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">5L</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># 1</span>
</span><span class="athl-line" data-athl-line="153"><span style="color: #9399b2;"># You can have an integer vector with length &gt; 1 too:</span>
</span><span class="athl-line" data-athl-line="154"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">4L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">8L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3L</span><span style="color: #9399b2;">)</span>          <span style="color: #9399b2;"># 4 5 8 3</span>
</span><span class="athl-line" data-athl-line="155"><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">4L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">8L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3L</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># 4</span>
</span><span class="athl-line" data-athl-line="156"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">4L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">8L</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3L</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># &quot;integer&quot;</span>
</span><span class="athl-line" data-athl-line="157">
</span><span class="athl-line" data-athl-line="158"><span style="color: #9399b2;"># NUMERICS</span>
</span><span class="athl-line" data-athl-line="159"><span style="color: #9399b2;"># A &quot;numeric&quot; is a double-precision floating-point number</span>
</span><span class="athl-line" data-athl-line="160"><span style="color: #fab387;">5</span>           <span style="color: #9399b2;"># 5</span>
</span><span class="athl-line" data-athl-line="161"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">5</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># &quot;numeric&quot;</span>
</span><span class="athl-line" data-athl-line="162"><span style="color: #9399b2;"># Again, everything in R is a vector;</span>
</span><span class="athl-line" data-athl-line="163"><span style="color: #9399b2;"># you can make a numeric vector with more than one element</span>
</span><span class="athl-line" data-athl-line="164"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># 3 3 3 2 2 1</span>
</span><span class="athl-line" data-athl-line="165"><span style="color: #9399b2;"># You can use scientific notation too</span>
</span><span class="athl-line" data-athl-line="166"><span style="color: #fab387;">5e4</span>         <span style="color: #9399b2;"># 50000</span>
</span><span class="athl-line" data-athl-line="167"><span style="color: #fab387;">6.02e23</span>     <span style="color: #9399b2;"># Avogadro&#39;s number</span>
</span><span class="athl-line" data-athl-line="168"><span style="color: #fab387;">1.6e-35</span>     <span style="color: #9399b2;"># Planck length</span>
</span><span class="athl-line" data-athl-line="169"><span style="color: #9399b2;"># You can also have infinitely large or small numbers</span>
</span><span class="athl-line" data-athl-line="170"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">Inf</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># &quot;numeric&quot;</span>
</span><span class="athl-line" data-athl-line="171"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #89dceb;">-</span><span style="color: #fab387;">Inf</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># &quot;numeric&quot;</span>
</span><span class="athl-line" data-athl-line="172"><span style="color: #9399b2;"># You might use &quot;Inf&quot;, for example, in integrate(dnorm, 3, Inf);</span>
</span><span class="athl-line" data-athl-line="173"><span style="color: #9399b2;"># this obviates Z-score tables.</span>
</span><span class="athl-line" data-athl-line="174">
</span><span class="athl-line" data-athl-line="175"><span style="color: #9399b2;"># BASIC ARITHMETIC</span>
</span><span class="athl-line" data-athl-line="176"><span style="color: #9399b2;"># You can do arithmetic with numbers</span>
</span><span class="athl-line" data-athl-line="177"><span style="color: #9399b2;"># Doing arithmetic on a mix of integers and numerics gives you another numeric</span>
</span><span class="athl-line" data-athl-line="178"><span style="color: #fab387;">10L</span> <span style="color: #89dceb;">+</span> <span style="color: #fab387;">66L</span>   <span style="color: #9399b2;"># 76    # integer plus integer gives integer</span>
</span><span class="athl-line" data-athl-line="179"><span style="color: #fab387;">53.2</span> <span style="color: #89dceb;">-</span> <span style="color: #fab387;">4</span>    <span style="color: #9399b2;"># 49.2  # numeric minus numeric gives numeric</span>
</span><span class="athl-line" data-athl-line="180"><span style="color: #fab387;">2.0</span> <span style="color: #89dceb;">*</span> <span style="color: #fab387;">2L</span>    <span style="color: #9399b2;"># 4     # numeric times integer gives numeric</span>
</span><span class="athl-line" data-athl-line="181"><span style="color: #fab387;">3L</span> <span style="color: #89dceb;">/</span> <span style="color: #fab387;">4</span>      <span style="color: #9399b2;"># 0.75  # integer over numeric gives numeric</span>
</span><span class="athl-line" data-athl-line="182"><span style="color: #fab387;">3</span> <span style="color: #89dceb;">%%</span> <span style="color: #fab387;">2</span>      <span style="color: #9399b2;"># 1     # the remainder of two numerics is another numeric</span>
</span><span class="athl-line" data-athl-line="183"><span style="color: #9399b2;"># Illegal arithmetic yields you a &quot;not-a-number&quot;:</span>
</span><span class="athl-line" data-athl-line="184"><span style="color: #fab387;">0</span> <span style="color: #89dceb;">/</span> <span style="color: #fab387;">0</span>       <span style="color: #9399b2;"># NaN</span>
</span><span class="athl-line" data-athl-line="185"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">NaN</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># &quot;numeric&quot;</span>
</span><span class="athl-line" data-athl-line="186"><span style="color: #9399b2;"># You can do arithmetic on two vectors with length greater than 1,</span>
</span><span class="athl-line" data-athl-line="187"><span style="color: #9399b2;"># so long as the larger vector&#39;s length is an integer multiple of the smaller</span>
</span><span class="athl-line" data-athl-line="188"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">+</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">)</span>     <span style="color: #9399b2;"># 2 4 6</span>
</span><span class="athl-line" data-athl-line="189"><span style="color: #9399b2;"># Since a single number is a vector of length one, scalars are applied </span>
</span><span class="athl-line" data-athl-line="190"><span style="color: #9399b2;"># elementwise to vectors</span>
</span><span class="athl-line" data-athl-line="191"><span style="color: #9399b2;">(</span><span style="color: #fab387;">4</span> <span style="color: #89dceb;">*</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">-</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">/</span> <span style="color: #fab387;">2</span>    <span style="color: #9399b2;"># 1 3 5</span>
</span><span class="athl-line" data-athl-line="192"><span style="color: #9399b2;"># Except for scalars, use caution when performing arithmetic on vectors with </span>
</span><span class="athl-line" data-athl-line="193"><span style="color: #9399b2;"># different lengths. Although it can be done, </span>
</span><span class="athl-line" data-athl-line="194"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">*</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span>               <span style="color: #9399b2;"># 1 4 3 2 2 6</span>
</span><span class="athl-line" data-athl-line="195"><span style="color: #9399b2;"># Matching lengths is better practice and easier to read most times</span>
</span><span class="athl-line" data-athl-line="196"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">*</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># 1 4 3 2 2 6</span>
</span><span class="athl-line" data-athl-line="197">
</span><span class="athl-line" data-athl-line="198"><span style="color: #9399b2;"># CHARACTERS</span>
</span><span class="athl-line" data-athl-line="199"><span style="color: #9399b2;"># There&#39;s no difference between strings and characters in R</span>
</span><span class="athl-line" data-athl-line="200"><span style="color: #a6e3a1;">&quot;Horatio&quot;</span>           <span style="color: #9399b2;"># &quot;Horatio&quot;</span>
</span><span class="athl-line" data-athl-line="201"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Horatio&quot;</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># &quot;character&quot;</span>
</span><span class="athl-line" data-athl-line="202"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;H&quot;</span><span style="color: #9399b2;">)</span>          <span style="color: #9399b2;"># &quot;character&quot;</span>
</span><span class="athl-line" data-athl-line="203"><span style="color: #9399b2;"># Those were both character vectors of length 1</span>
</span><span class="athl-line" data-athl-line="204"><span style="color: #9399b2;"># Here is a longer one:</span>
</span><span class="athl-line" data-athl-line="205"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;alef&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;bet&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;gimmel&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;dalet&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;he&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="206"><span style="color: #9399b2;"># =&gt; &quot;alef&quot;   &quot;bet&quot;    &quot;gimmel&quot; &quot;dalet&quot;  &quot;he&quot;</span>
</span><span class="athl-line" data-athl-line="207"><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Call&quot;</span><span style="color: #9399b2;">,</span><span style="color: #a6e3a1;">&quot;me&quot;</span><span style="color: #9399b2;">,</span><span style="color: #a6e3a1;">&quot;Ishmael&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># 3</span>
</span><span class="athl-line" data-athl-line="208"><span style="color: #9399b2;"># You can do regex operations on character vectors:</span>
</span><span class="athl-line" data-athl-line="209"><span style="color: #89b4fa;">substr</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Fortuna multis dat nimis, nulli satis.&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">9</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">15</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># &quot;multis &quot;</span>
</span><span class="athl-line" data-athl-line="210"><span style="color: #89b4fa;">gsub</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&#39;u&#39;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&#39;ø&#39;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Fortuna multis dat nimis, nulli satis.&quot;</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># &quot;Fortøna møltis dat nimis, nølli satis.&quot;</span>
</span><span class="athl-line" data-athl-line="211"><span style="color: #9399b2;"># R has several built-in character vectors:</span>
</span><span class="athl-line" data-athl-line="212"><span style="color: #cdd6f4;">letters</span>
</span><span class="athl-line" data-athl-line="213"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="214"><span style="color: #9399b2;">#  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;</span>
</span><span class="athl-line" data-athl-line="215"><span style="color: #9399b2;"># [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</span>
</span><span class="athl-line" data-athl-line="216"><span style="color: #cdd6f4;">month.abb</span> <span style="color: #9399b2;"># &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot; &quot;Dec&quot;</span>
</span><span class="athl-line" data-athl-line="217">
</span><span class="athl-line" data-athl-line="218"><span style="color: #9399b2;"># LOGICALS</span>
</span><span class="athl-line" data-athl-line="219"><span style="color: #9399b2;"># In R, a &quot;logical&quot; is a boolean</span>
</span><span class="athl-line" data-athl-line="220">                
</span><span class="athl-line" data-athl-line="221"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">)</span>     <span style="color: #9399b2;"># &quot;logical&quot;</span>
</span><span class="athl-line" data-athl-line="222"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">FALSE</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># &quot;logical&quot;</span>
</span><span class="athl-line" data-athl-line="223"><span style="color: #9399b2;"># Their behavior is normal</span>
</span><span class="athl-line" data-athl-line="224"><span style="color: #fab387;">TRUE</span> <span style="color: #89dceb;">==</span> <span style="color: #fab387;">TRUE</span>    <span style="color: #9399b2;"># TRUE</span>
</span><span class="athl-line" data-athl-line="225"><span style="color: #fab387;">TRUE</span> <span style="color: #89dceb;">==</span> <span style="color: #fab387;">FALSE</span>   <span style="color: #9399b2;"># FALSE</span>
</span><span class="athl-line" data-athl-line="226"><span style="color: #fab387;">FALSE</span> <span style="color: #89dceb;">!=</span> <span style="color: #fab387;">FALSE</span>  <span style="color: #9399b2;"># FALSE</span>
</span><span class="athl-line" data-athl-line="227"><span style="color: #fab387;">FALSE</span> <span style="color: #89dceb;">!=</span> <span style="color: #fab387;">TRUE</span>   <span style="color: #9399b2;"># TRUE</span>
</span><span class="athl-line" data-athl-line="228"><span style="color: #9399b2;"># Missing data (NA) is logical, too</span>
</span><span class="athl-line" data-athl-line="229"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">NA</span><span style="color: #9399b2;">)</span>       <span style="color: #9399b2;"># &quot;logical&quot;</span>
</span><span class="athl-line" data-athl-line="230"><span style="color: #9399b2;"># Use | and &amp; for logic operations.</span>
</span><span class="athl-line" data-athl-line="231"><span style="color: #9399b2;"># OR</span>
</span><span class="athl-line" data-athl-line="232"><span style="color: #fab387;">TRUE</span> <span style="color: #89dceb;">|</span> <span style="color: #fab387;">FALSE</span>    <span style="color: #9399b2;"># TRUE</span>
</span><span class="athl-line" data-athl-line="233"><span style="color: #9399b2;"># AND</span>
</span><span class="athl-line" data-athl-line="234"><span style="color: #fab387;">TRUE</span> <span style="color: #89dceb;">&amp;</span> <span style="color: #fab387;">FALSE</span>    <span style="color: #9399b2;"># FALSE</span>
</span><span class="athl-line" data-athl-line="235"><span style="color: #9399b2;"># Applying | and &amp; to vectors returns elementwise logic operations</span>
</span><span class="athl-line" data-athl-line="236"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">FALSE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">FALSE</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">|</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">FALSE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">FALSE</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># TRUE TRUE FALSE</span>
</span><span class="athl-line" data-athl-line="237"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">FALSE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">&amp;</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">FALSE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">)</span>     <span style="color: #9399b2;"># FALSE FALSE TRUE</span>
</span><span class="athl-line" data-athl-line="238"><span style="color: #9399b2;"># You can test if x is TRUE</span>
</span><span class="athl-line" data-athl-line="239"><span style="color: #89b4fa;">isTRUE</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># TRUE</span>
</span><span class="athl-line" data-athl-line="240"><span style="color: #9399b2;"># Here we get a logical vector with many elements:</span>
</span><span class="athl-line" data-athl-line="241"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Z&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;o&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;r&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;r&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;o&quot;</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">==</span> <span style="color: #a6e3a1;">&quot;Zorro&quot;</span>   <span style="color: #9399b2;"># FALSE FALSE FALSE FALSE FALSE</span>
</span><span class="athl-line" data-athl-line="242"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Z&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;o&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;r&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;r&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;o&quot;</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">==</span> <span style="color: #a6e3a1;">&quot;Z&quot;</span>       <span style="color: #9399b2;"># TRUE FALSE FALSE FALSE FALSE</span>
</span><span class="athl-line" data-athl-line="243">
</span><span class="athl-line" data-athl-line="244"><span style="color: #9399b2;"># FACTORS</span>
</span><span class="athl-line" data-athl-line="245"><span style="color: #9399b2;"># The factor class is for categorical data</span>
</span><span class="athl-line" data-athl-line="246"><span style="color: #9399b2;"># Factors can be ordered (like grade levels) or unordered (like colors)</span>
</span><span class="athl-line" data-athl-line="247"><span style="color: #89b4fa;">factor</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;blue&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;blue&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;green&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">NA</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;blue&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="248"><span style="color: #9399b2;">#  blue blue green   &lt;NA&gt;   blue</span>
</span><span class="athl-line" data-athl-line="249"><span style="color: #9399b2;"># Levels: blue green</span>
</span><span class="athl-line" data-athl-line="250"><span style="color: #9399b2;"># The &quot;levels&quot; are the values the categorical data can take</span>
</span><span class="athl-line" data-athl-line="251"><span style="color: #9399b2;"># Note that missing data does not enter the levels</span>
</span><span class="athl-line" data-athl-line="252"><span style="color: #89b4fa;">levels</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">factor</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;green&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;green&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;blue&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">NA</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;blue&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># &quot;blue&quot; &quot;green&quot;</span>
</span><span class="athl-line" data-athl-line="253"><span style="color: #9399b2;"># If a factor vector has length 1, its levels will have length 1, too</span>
</span><span class="athl-line" data-athl-line="254"><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">factor</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;green&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>         <span style="color: #9399b2;"># 1</span>
</span><span class="athl-line" data-athl-line="255"><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">levels</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">factor</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;green&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># 1</span>
</span><span class="athl-line" data-athl-line="256"><span style="color: #9399b2;"># Factors are commonly seen in data frames, a data structure we will cover later</span>
</span><span class="athl-line" data-athl-line="257"><span style="color: #89b4fa;">data</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">infert</span><span style="color: #9399b2;">)</span>             <span style="color: #9399b2;"># &quot;Infertility after Spontaneous and Induced Abortion&quot;</span>
</span><span class="athl-line" data-athl-line="258"><span style="color: #89b4fa;">levels</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">infert</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">education</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># &quot;0-5yrs&quot;  &quot;6-11yrs&quot; &quot;12+ yrs&quot;</span>
</span><span class="athl-line" data-athl-line="259">
</span><span class="athl-line" data-athl-line="260"><span style="color: #9399b2;"># NULL</span>
</span><span class="athl-line" data-athl-line="261"><span style="color: #9399b2;"># &quot;NULL&quot; is a weird one; use it to &quot;blank out&quot; a vector</span>
</span><span class="athl-line" data-athl-line="262"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">NULL</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># NULL</span>
</span><span class="athl-line" data-athl-line="263"><span style="color: #cdd6f4;">parakeet</span> <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;beak&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;feathers&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;wings&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;eyes&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="264"><span style="color: #cdd6f4;">parakeet</span> <span style="color: #9399b2;"># &quot;beak&quot;     &quot;feathers&quot; &quot;wings&quot;    &quot;eyes&quot;</span>
</span><span class="athl-line" data-athl-line="265"><span style="color: #cdd6f4;">parakeet</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #fab387;">NULL</span>
</span><span class="athl-line" data-athl-line="266"><span style="color: #cdd6f4;">parakeet</span> <span style="color: #9399b2;"># NULL</span>
</span><span class="athl-line" data-athl-line="267">
</span><span class="athl-line" data-athl-line="268"><span style="color: #9399b2;"># TYPE COERCION</span>
</span><span class="athl-line" data-athl-line="269"><span style="color: #9399b2;"># Type-coercion is when you force a value to take on a different type</span>
</span><span class="athl-line" data-athl-line="270"><span style="color: #89b4fa;">as.character</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">6</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">8</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># &quot;6&quot; &quot;8&quot;</span>
</span><span class="athl-line" data-athl-line="271"><span style="color: #89b4fa;">as.logical</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span><span style="color: #fab387;">0</span><span style="color: #9399b2;">,</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># TRUE FALSE  TRUE  TRUE</span>
</span><span class="athl-line" data-athl-line="272"><span style="color: #9399b2;"># If you put elements of different types into a vector, weird coercions happen:</span>
</span><span class="athl-line" data-athl-line="273"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span>          <span style="color: #9399b2;"># 1 4</span>
</span><span class="athl-line" data-athl-line="274"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;dog&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">TRUE</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># &quot;dog&quot;  &quot;TRUE&quot; &quot;4&quot;</span>
</span><span class="athl-line" data-athl-line="275"><span style="color: #89b4fa;">as.numeric</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Bilbo&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="276"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="277"><span style="color: #9399b2;"># [1] NA</span>
</span><span class="athl-line" data-athl-line="278"><span style="color: #9399b2;"># Warning message:</span>
</span><span class="athl-line" data-athl-line="279"><span style="color: #9399b2;"># NAs introduced by coercion</span>
</span><span class="athl-line" data-athl-line="280">
</span><span class="athl-line" data-athl-line="281"><span style="color: #9399b2;"># Also note: those were just the basic data types</span>
</span><span class="athl-line" data-athl-line="282"><span style="color: #9399b2;"># There are many more data types, such as for dates, time series, etc.</span>
</span><span class="athl-line" data-athl-line="283">
</span><span class="athl-line" data-athl-line="284">
</span><span class="athl-line" data-athl-line="285">
</span><span class="athl-line" data-athl-line="286"><span style="color: #9399b2;">##################################################</span>
</span><span class="athl-line" data-athl-line="287"><span style="color: #9399b2;"># Variables, loops, if/else</span>
</span><span class="athl-line" data-athl-line="288"><span style="color: #9399b2;">##################################################</span>
</span><span class="athl-line" data-athl-line="289">
</span><span class="athl-line" data-athl-line="290"><span style="color: #9399b2;"># A variable is like a box you store a value in for later use.</span>
</span><span class="athl-line" data-athl-line="291"><span style="color: #9399b2;"># We call this &quot;assigning&quot; the value to the variable.</span>
</span><span class="athl-line" data-athl-line="292"><span style="color: #9399b2;"># Having variables lets us write loops, functions, and if/else statements</span>
</span><span class="athl-line" data-athl-line="293">
</span><span class="athl-line" data-athl-line="294"><span style="color: #9399b2;"># VARIABLES</span>
</span><span class="athl-line" data-athl-line="295"><span style="color: #9399b2;"># Lots of way to assign stuff:</span>
</span><span class="athl-line" data-athl-line="296"><span style="color: #cdd6f4;">x</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">5</span>       <span style="color: #9399b2;"># this is possible</span>
</span><span class="athl-line" data-athl-line="297"><span style="color: #cdd6f4;">y</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #a6e3a1;">&quot;1&quot;</span>    <span style="color: #9399b2;"># this is preferred traditionally</span>
</span><span class="athl-line" data-athl-line="298"><span style="color: #fab387;">TRUE</span> <span style="color: #89dceb;">-&gt;</span> <span style="color: #cdd6f4;">z</span>   <span style="color: #9399b2;"># this works but is weird</span>
</span><span class="athl-line" data-athl-line="299"><span style="color: #9399b2;"># Refer to the Internet for the behaviors and preferences about them.</span>
</span><span class="athl-line" data-athl-line="300">
</span><span class="athl-line" data-athl-line="301"><span style="color: #9399b2;"># LOOPS</span>
</span><span class="athl-line" data-athl-line="302"><span style="color: #9399b2;"># We&#39;ve got for loops</span>
</span><span class="athl-line" data-athl-line="303"><span style="color: #cba6f7;">for</span> <span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">i</span> <span style="color: #cba6f7;">in</span> <span style="color: #fab387;">1</span><span style="color: #89dceb;">:</span><span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;">{</span>
</span><span class="athl-line" data-athl-line="304">	<span style="color: #89b4fa;">print</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">i</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="305"><span style="color: #9399b2;">}</span>
</span><span class="athl-line" data-athl-line="306"><span style="color: #9399b2;"># We&#39;ve got while loops</span>
</span><span class="athl-line" data-athl-line="307"><span style="color: #cdd6f4;">a</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #fab387;">10</span>
</span><span class="athl-line" data-athl-line="308"><span style="color: #cba6f7;">while</span> <span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">a</span> <span style="color: #89dceb;">&gt;</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;">{</span>
</span><span class="athl-line" data-athl-line="309">	<span style="color: #89b4fa;">cat</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">a</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;...&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">sep</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="310">	<span style="color: #cdd6f4;">a</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #cdd6f4;">a</span> <span style="color: #89dceb;">-</span> <span style="color: #fab387;">1</span>
</span><span class="athl-line" data-athl-line="311"><span style="color: #9399b2;">}</span>
</span><span class="athl-line" data-athl-line="312"><span style="color: #9399b2;"># Keep in mind that for and while loops run slowly in R</span>
</span><span class="athl-line" data-athl-line="313"><span style="color: #9399b2;"># Operations on entire vectors (i.e. a whole row, a whole column)</span>
</span><span class="athl-line" data-athl-line="314"><span style="color: #9399b2;"># or apply()-type functions (we&#39;ll discuss later) are preferred</span>
</span><span class="athl-line" data-athl-line="315">
</span><span class="athl-line" data-athl-line="316"><span style="color: #9399b2;"># IF/ELSE</span>
</span><span class="athl-line" data-athl-line="317"><span style="color: #9399b2;"># Again, pretty standard</span>
</span><span class="athl-line" data-athl-line="318"><span style="color: #cba6f7;">if</span> <span style="color: #9399b2;">(</span><span style="color: #fab387;">4</span> <span style="color: #89dceb;">&gt;</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;">{</span>
</span><span class="athl-line" data-athl-line="319">	<span style="color: #89b4fa;">print</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;4 is greater than 3&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="320"><span style="color: #9399b2;">}</span> <span style="color: #cba6f7;">else</span> <span style="color: #9399b2;">{</span>
</span><span class="athl-line" data-athl-line="321">	<span style="color: #89b4fa;">print</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;4 is not greater than 3&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="322"><span style="color: #9399b2;">}</span>
</span><span class="athl-line" data-athl-line="323"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="324"><span style="color: #9399b2;"># [1] &quot;4 is greater than 3&quot;</span>
</span><span class="athl-line" data-athl-line="325">
</span><span class="athl-line" data-athl-line="326"><span style="color: #9399b2;"># FUNCTIONS</span>
</span><span class="athl-line" data-athl-line="327"><span style="color: #9399b2;"># Defined like so:</span>
</span><span class="athl-line" data-athl-line="328"><span style="color: #89b4fa;">jiggle</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #cba6f7;">function</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">x</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;">{</span>
</span><span class="athl-line" data-athl-line="329">	<span style="color: #cdd6f4;">x</span> <span style="color: #89dceb;">=</span> <span style="color: #cdd6f4;">x</span> <span style="color: #89dceb;">+</span> <span style="color: #89b4fa;">rnorm</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">sd</span><span style="color: #89dceb;">=</span><span style="color: #fab387;">.1</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># add in a bit of (controlled) noise</span>
</span><span class="athl-line" data-athl-line="330">	<span style="color: #cba6f7;">return</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">x</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="331"><span style="color: #9399b2;">}</span>
</span><span class="athl-line" data-athl-line="332"><span style="color: #9399b2;"># Called like any other R function:</span>
</span><span class="athl-line" data-athl-line="333"><span style="color: #89b4fa;">jiggle</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">5</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># 5±ε. After set.seed(2716057), jiggle(5)==5.005043</span>
</span><span class="athl-line" data-athl-line="334">
</span><span class="athl-line" data-athl-line="335">
</span><span class="athl-line" data-athl-line="336">
</span><span class="athl-line" data-athl-line="337"><span style="color: #9399b2;">###########################################################################</span>
</span><span class="athl-line" data-athl-line="338"><span style="color: #9399b2;"># Data structures: Vectors, matrices, data frames, and arrays</span>
</span><span class="athl-line" data-athl-line="339"><span style="color: #9399b2;">###########################################################################</span>
</span><span class="athl-line" data-athl-line="340">
</span><span class="athl-line" data-athl-line="341"><span style="color: #9399b2;"># ONE-DIMENSIONAL</span>
</span><span class="athl-line" data-athl-line="342">
</span><span class="athl-line" data-athl-line="343"><span style="color: #9399b2;"># Let&#39;s start from the very beginning, and with something you already know: vectors.</span>
</span><span class="athl-line" data-athl-line="344"><span style="color: #cdd6f4;">vec</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">8</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">9</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">10</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">11</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="345"><span style="color: #cdd6f4;">vec</span>     <span style="color: #9399b2;">#  8  9 10 11</span>
</span><span class="athl-line" data-athl-line="346"><span style="color: #9399b2;"># We ask for specific elements by subsetting with square brackets</span>
</span><span class="athl-line" data-athl-line="347"><span style="color: #9399b2;"># (Note that R starts counting from 1)</span>
</span><span class="athl-line" data-athl-line="348"><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">]</span>          <span style="color: #9399b2;"># 8</span>
</span><span class="athl-line" data-athl-line="349"><span style="color: #cdd6f4;">letters</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">18</span><span style="color: #9399b2;">]</span>     <span style="color: #9399b2;"># &quot;r&quot;</span>
</span><span class="athl-line" data-athl-line="350"><span style="color: #cdd6f4;">LETTERS</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">13</span><span style="color: #9399b2;">]</span>     <span style="color: #9399b2;"># &quot;M&quot;</span>
</span><span class="athl-line" data-athl-line="351"><span style="color: #cdd6f4;">month.name</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">9</span><span style="color: #9399b2;">]</span>   <span style="color: #9399b2;"># &quot;September&quot;</span>
</span><span class="athl-line" data-athl-line="352"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">6</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">8</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">7</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">0</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">9</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">3</span><span style="color: #9399b2;">]</span> <span style="color: #9399b2;"># 7</span>
</span><span class="athl-line" data-athl-line="353"><span style="color: #9399b2;"># We can also search for the indices of specific components,</span>
</span><span class="athl-line" data-athl-line="354"><span style="color: #89b4fa;">which</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span> <span style="color: #89dceb;">%%</span> <span style="color: #fab387;">2</span> <span style="color: #89dceb;">==</span> <span style="color: #fab387;">0</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># 1 3</span>
</span><span class="athl-line" data-athl-line="355"><span style="color: #9399b2;"># grab just the first or last few entries in the vector,</span>
</span><span class="athl-line" data-athl-line="356"><span style="color: #89b4fa;">head</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># 8</span>
</span><span class="athl-line" data-athl-line="357"><span style="color: #89b4fa;">tail</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># 10 11</span>
</span><span class="athl-line" data-athl-line="358"><span style="color: #9399b2;"># or figure out if a certain value is in the vector</span>
</span><span class="athl-line" data-athl-line="359"><span style="color: #89b4fa;">any</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span> <span style="color: #89dceb;">==</span> <span style="color: #fab387;">10</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># TRUE</span>
</span><span class="athl-line" data-athl-line="360"><span style="color: #9399b2;"># If an index &quot;goes over&quot; you&#39;ll get NA:</span>
</span><span class="athl-line" data-athl-line="361"><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">6</span><span style="color: #9399b2;">]</span>      <span style="color: #9399b2;"># NA</span>
</span><span class="athl-line" data-athl-line="362"><span style="color: #9399b2;"># You can find the length of your vector with length()</span>
</span><span class="athl-line" data-athl-line="363"><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># 4</span>
</span><span class="athl-line" data-athl-line="364"><span style="color: #9399b2;"># You can perform operations on entire vectors or subsets of vectors</span>
</span><span class="athl-line" data-athl-line="365"><span style="color: #cdd6f4;">vec</span> <span style="color: #89dceb;">*</span> <span style="color: #fab387;">4</span>             <span style="color: #9399b2;"># 32 36 40 44</span>
</span><span class="athl-line" data-athl-line="366"><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">2</span><span style="color: #89dceb;">:</span><span style="color: #fab387;">3</span><span style="color: #9399b2;">]</span> <span style="color: #89dceb;">*</span> <span style="color: #fab387;">5</span>        <span style="color: #9399b2;"># 45 50</span>
</span><span class="athl-line" data-athl-line="367"><span style="color: #89b4fa;">any</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">2</span><span style="color: #89dceb;">:</span><span style="color: #fab387;">3</span><span style="color: #9399b2;">]</span> <span style="color: #89dceb;">==</span> <span style="color: #fab387;">8</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># FALSE</span>
</span><span class="athl-line" data-athl-line="368"><span style="color: #9399b2;"># and R has many built-in functions to summarize vectors</span>
</span><span class="athl-line" data-athl-line="369"><span style="color: #89b4fa;">mean</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># 9.5</span>
</span><span class="athl-line" data-athl-line="370"><span style="color: #89b4fa;">var</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># 1.666667</span>
</span><span class="athl-line" data-athl-line="371"><span style="color: #89b4fa;">sd</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">)</span>     <span style="color: #9399b2;"># 1.290994</span>
</span><span class="athl-line" data-athl-line="372"><span style="color: #eba0ac;">max</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># 11</span>
</span><span class="athl-line" data-athl-line="373"><span style="color: #eba0ac;">min</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># 8</span>
</span><span class="athl-line" data-athl-line="374"><span style="color: #89b4fa;">sum</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">vec</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># 38</span>
</span><span class="athl-line" data-athl-line="375"><span style="color: #9399b2;"># Some more nice built-ins:</span>
</span><span class="athl-line" data-athl-line="376"><span style="color: #fab387;">5</span><span style="color: #89dceb;">:</span><span style="color: #fab387;">15</span>        <span style="color: #9399b2;"># 5  6  7  8  9 10 11 12 13 14 15</span>
</span><span class="athl-line" data-athl-line="377"><span style="color: #89b4fa;">seq</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">from</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">0</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">to</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">31337</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">by</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">1337</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="378"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="379"><span style="color: #9399b2;">#  [1]     0  1337  2674  4011  5348  6685  8022  9359 10696 12033 13370 14707</span>
</span><span class="athl-line" data-athl-line="380"><span style="color: #9399b2;"># [13] 16044 17381 18718 20055 21392 22729 24066 25403 26740 28077 29414 30751</span>
</span><span class="athl-line" data-athl-line="381">
</span><span class="athl-line" data-athl-line="382"><span style="color: #9399b2;"># TWO-DIMENSIONAL (ALL ONE CLASS)</span>
</span><span class="athl-line" data-athl-line="383">
</span><span class="athl-line" data-athl-line="384"><span style="color: #9399b2;"># You can make a matrix out of entries all of the same type like so:</span>
</span><span class="athl-line" data-athl-line="385"><span style="color: #cdd6f4;">mat</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">matrix</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">nrow</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">ncol</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">6</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="386"><span style="color: #cdd6f4;">mat</span>
</span><span class="athl-line" data-athl-line="387"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="388"><span style="color: #9399b2;">#      [,1] [,2]</span>
</span><span class="athl-line" data-athl-line="389"><span style="color: #9399b2;"># [1,]    1    4</span>
</span><span class="athl-line" data-athl-line="390"><span style="color: #9399b2;"># [2,]    2    5</span>
</span><span class="athl-line" data-athl-line="391"><span style="color: #9399b2;"># [3,]    3    6</span>
</span><span class="athl-line" data-athl-line="392"><span style="color: #9399b2;"># Unlike a vector, the class of a matrix is &quot;matrix&quot;, no matter what&#39;s in it</span>
</span><span class="athl-line" data-athl-line="393"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">mat</span><span style="color: #9399b2;">)</span>      <span style="color: #9399b2;"># &quot;matrix&quot; &quot;array&quot;</span>
</span><span class="athl-line" data-athl-line="394"><span style="color: #9399b2;"># Ask for the first row</span>
</span><span class="athl-line" data-athl-line="395"><span style="color: #cdd6f4;">mat</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #9399b2;">]</span>        <span style="color: #9399b2;"># 1 4</span>
</span><span class="athl-line" data-athl-line="396"><span style="color: #9399b2;"># Perform operation on the first column</span>
</span><span class="athl-line" data-athl-line="397"><span style="color: #fab387;">3</span> <span style="color: #89dceb;">*</span> <span style="color: #cdd6f4;">mat</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">]</span>    <span style="color: #9399b2;"># 3 6 9</span>
</span><span class="athl-line" data-athl-line="398"><span style="color: #9399b2;"># Ask for a specific cell</span>
</span><span class="athl-line" data-athl-line="399"><span style="color: #cdd6f4;">mat</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">]</span>       <span style="color: #9399b2;"># 6</span>
</span><span class="athl-line" data-athl-line="400">
</span><span class="athl-line" data-athl-line="401"><span style="color: #9399b2;"># Transpose the whole matrix</span>
</span><span class="athl-line" data-athl-line="402"><span style="color: #89b4fa;">t</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">mat</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="403"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="404"><span style="color: #9399b2;">#      [,1] [,2] [,3]</span>
</span><span class="athl-line" data-athl-line="405"><span style="color: #9399b2;"># [1,]    1    2    3</span>
</span><span class="athl-line" data-athl-line="406"><span style="color: #9399b2;"># [2,]    4    5    6</span>
</span><span class="athl-line" data-athl-line="407">
</span><span class="athl-line" data-athl-line="408"><span style="color: #9399b2;"># Matrix multiplication</span>
</span><span class="athl-line" data-athl-line="409"><span style="color: #cdd6f4;">mat</span> <span style="color: #89dceb;">%*%</span> <span style="color: #89b4fa;">t</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">mat</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="410"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="411"><span style="color: #9399b2;">#      [,1] [,2] [,3]</span>
</span><span class="athl-line" data-athl-line="412"><span style="color: #9399b2;"># [1,]   17   22   27</span>
</span><span class="athl-line" data-athl-line="413"><span style="color: #9399b2;"># [2,]   22   29   36</span>
</span><span class="athl-line" data-athl-line="414"><span style="color: #9399b2;"># [3,]   27   36   45</span>
</span><span class="athl-line" data-athl-line="415">
</span><span class="athl-line" data-athl-line="416"><span style="color: #9399b2;"># cbind() sticks vectors together column-wise to make a matrix</span>
</span><span class="athl-line" data-athl-line="417"><span style="color: #cdd6f4;">mat2</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">cbind</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #89dceb;">:</span><span style="color: #fab387;">4</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;dog&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;cat&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;bird&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;dog&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="418"><span style="color: #cdd6f4;">mat2</span>
</span><span class="athl-line" data-athl-line="419"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="420"><span style="color: #9399b2;">#      [,1] [,2]</span>
</span><span class="athl-line" data-athl-line="421"><span style="color: #9399b2;"># [1,] &quot;1&quot;  &quot;dog&quot;</span>
</span><span class="athl-line" data-athl-line="422"><span style="color: #9399b2;"># [2,] &quot;2&quot;  &quot;cat&quot;</span>
</span><span class="athl-line" data-athl-line="423"><span style="color: #9399b2;"># [3,] &quot;3&quot;  &quot;bird&quot;</span>
</span><span class="athl-line" data-athl-line="424"><span style="color: #9399b2;"># [4,] &quot;4&quot;  &quot;dog&quot;</span>
</span><span class="athl-line" data-athl-line="425"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">mat2</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># matrix</span>
</span><span class="athl-line" data-athl-line="426"><span style="color: #9399b2;"># Again, note what happened!</span>
</span><span class="athl-line" data-athl-line="427"><span style="color: #9399b2;"># Because matrices must contain entries all of the same class,</span>
</span><span class="athl-line" data-athl-line="428"><span style="color: #9399b2;"># everything got converted to the character class</span>
</span><span class="athl-line" data-athl-line="429"><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">mat2</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">]</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">mat2</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">]</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="430">
</span><span class="athl-line" data-athl-line="431"><span style="color: #9399b2;"># rbind() sticks vectors together row-wise to make a matrix</span>
</span><span class="athl-line" data-athl-line="432"><span style="color: #cdd6f4;">mat3</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">rbind</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">6</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">7</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">0</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="433"><span style="color: #cdd6f4;">mat3</span>
</span><span class="athl-line" data-athl-line="434"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="435"><span style="color: #9399b2;">#      [,1] [,2] [,3] [,4]</span>
</span><span class="athl-line" data-athl-line="436"><span style="color: #9399b2;"># [1,]    1    2    4    5</span>
</span><span class="athl-line" data-athl-line="437"><span style="color: #9399b2;"># [2,]    6    7    0    4</span>
</span><span class="athl-line" data-athl-line="438"><span style="color: #9399b2;"># Ah, everything of the same class. No coercions. Much better.</span>
</span><span class="athl-line" data-athl-line="439">
</span><span class="athl-line" data-athl-line="440"><span style="color: #9399b2;"># TWO-DIMENSIONAL (DIFFERENT CLASSES)</span>
</span><span class="athl-line" data-athl-line="441">
</span><span class="athl-line" data-athl-line="442"><span style="color: #9399b2;"># For columns of different types, use a data frame</span>
</span><span class="athl-line" data-athl-line="443"><span style="color: #9399b2;"># This data structure is so useful for statistical programming,</span>
</span><span class="athl-line" data-athl-line="444"><span style="color: #9399b2;"># a version of it was added to Python in the package &quot;pandas&quot;.</span>
</span><span class="athl-line" data-athl-line="445">
</span><span class="athl-line" data-athl-line="446"><span style="color: #cdd6f4;">students</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">data.frame</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Cedric&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Fred&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;George&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Cho&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Draco&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Ginny&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span>
</span><span class="athl-line" data-athl-line="447">                       <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span>       <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span>      <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span>        <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span>     <span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span>       <span style="color: #fab387;">0</span><span style="color: #9399b2;">,</span>      <span style="color: #89dceb;">-</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span>
</span><span class="athl-line" data-athl-line="448">                       <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span>     <span style="color: #a6e3a1;">&quot;H&quot;</span><span style="color: #9399b2;">,</span>    <span style="color: #a6e3a1;">&quot;G&quot;</span><span style="color: #9399b2;">,</span>      <span style="color: #a6e3a1;">&quot;G&quot;</span><span style="color: #9399b2;">,</span>   <span style="color: #a6e3a1;">&quot;R&quot;</span><span style="color: #9399b2;">,</span>     <span style="color: #a6e3a1;">&quot;S&quot;</span><span style="color: #9399b2;">,</span>     <span style="color: #a6e3a1;">&quot;G&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="449"><span style="color: #89b4fa;">names</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">)</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;name&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;year&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;house&quot;</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># name the columns</span>
</span><span class="athl-line" data-athl-line="450"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># &quot;data.frame&quot;</span>
</span><span class="athl-line" data-athl-line="451"><span style="color: #cdd6f4;">students</span>
</span><span class="athl-line" data-athl-line="452"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="453"><span style="color: #9399b2;">#     name year house</span>
</span><span class="athl-line" data-athl-line="454"><span style="color: #9399b2;"># 1 Cedric    3     H</span>
</span><span class="athl-line" data-athl-line="455"><span style="color: #9399b2;"># 2   Fred    2     G</span>
</span><span class="athl-line" data-athl-line="456"><span style="color: #9399b2;"># 3 George    2     G</span>
</span><span class="athl-line" data-athl-line="457"><span style="color: #9399b2;"># 4    Cho    1     R</span>
</span><span class="athl-line" data-athl-line="458"><span style="color: #9399b2;"># 5  Draco    0     S</span>
</span><span class="athl-line" data-athl-line="459"><span style="color: #9399b2;"># 6  Ginny   -1     G</span>
</span><span class="athl-line" data-athl-line="460"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">year</span><span style="color: #9399b2;">)</span>    <span style="color: #9399b2;"># &quot;numeric&quot;</span>
</span><span class="athl-line" data-athl-line="461"><span style="color: #89b4fa;">class</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span><span style="color: #fab387;">3</span><span style="color: #9399b2;">]</span><span style="color: #9399b2;">)</span>     <span style="color: #9399b2;"># &quot;factor&quot;</span>
</span><span class="athl-line" data-athl-line="462"><span style="color: #9399b2;"># find the dimensions</span>
</span><span class="athl-line" data-athl-line="463"><span style="color: #eba0ac;">nrow</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># 6</span>
</span><span class="athl-line" data-athl-line="464"><span style="color: #eba0ac;">ncol</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">)</span>  <span style="color: #9399b2;"># 3</span>
</span><span class="athl-line" data-athl-line="465"><span style="color: #89b4fa;">dim</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">)</span>   <span style="color: #9399b2;"># 6 3</span>
</span><span class="athl-line" data-athl-line="466"><span style="color: #9399b2;"># The data.frame() function used to convert character vectors to factor</span>
</span><span class="athl-line" data-athl-line="467"><span style="color: #9399b2;"># vectors by default; This has changed in R 4.0.0. If your R version is</span>
</span><span class="athl-line" data-athl-line="468"><span style="color: #9399b2;"># older, turn this off by setting stringsAsFactors = FALSE when you</span>
</span><span class="athl-line" data-athl-line="469"><span style="color: #9399b2;"># create the data.frame</span>
</span><span class="athl-line" data-athl-line="470"><span style="color: #89dceb;">?</span><span style="color: #cdd6f4;">data.frame</span>
</span><span class="athl-line" data-athl-line="471">
</span><span class="athl-line" data-athl-line="472"><span style="color: #9399b2;"># There are many twisty ways to subset data frames, all subtly unalike</span>
</span><span class="athl-line" data-athl-line="473"><span style="color: #cdd6f4;">students</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">year</span>       <span style="color: #9399b2;"># 3  2  2  1  0 -1</span>
</span><span class="athl-line" data-athl-line="474"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">]</span>       <span style="color: #9399b2;"># 3  2  2  1  0 -1</span>
</span><span class="athl-line" data-athl-line="475"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;year&quot;</span><span style="color: #9399b2;">]</span>  <span style="color: #9399b2;"># 3  2  2  1  0 -1</span>
</span><span class="athl-line" data-athl-line="476">
</span><span class="athl-line" data-athl-line="477"><span style="color: #9399b2;"># An augmented version of the data.frame structure is the data.table</span>
</span><span class="athl-line" data-athl-line="478"><span style="color: #9399b2;"># If you&#39;re working with huge or panel data, or need to merge a few data</span>
</span><span class="athl-line" data-athl-line="479"><span style="color: #9399b2;"># sets, data.table can be a good choice. Here&#39;s a whirlwind tour:</span>
</span><span class="athl-line" data-athl-line="480"><span style="color: #89b4fa;">install.packages</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;data.table&quot;</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># download the package from CRAN</span>
</span><span class="athl-line" data-athl-line="481"><span style="color: #89b4fa;">require</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">data.table</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># load it</span>
</span><span class="athl-line" data-athl-line="482"><span style="color: #cdd6f4;">students</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">as.data.table</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="483"><span style="color: #cdd6f4;">students</span> <span style="color: #9399b2;"># note the slightly different print-out</span>
</span><span class="athl-line" data-athl-line="484"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="485"><span style="color: #9399b2;">#      name year house</span>
</span><span class="athl-line" data-athl-line="486"><span style="color: #9399b2;"># 1: Cedric    3     H</span>
</span><span class="athl-line" data-athl-line="487"><span style="color: #9399b2;"># 2:   Fred    2     G</span>
</span><span class="athl-line" data-athl-line="488"><span style="color: #9399b2;"># 3: George    2     G</span>
</span><span class="athl-line" data-athl-line="489"><span style="color: #9399b2;"># 4:    Cho    1     R</span>
</span><span class="athl-line" data-athl-line="490"><span style="color: #9399b2;"># 5:  Draco    0     S</span>
</span><span class="athl-line" data-athl-line="491"><span style="color: #9399b2;"># 6:  Ginny   -1     G</span>
</span><span class="athl-line" data-athl-line="492"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #cdd6f4;">name</span> <span style="color: #89dceb;">==</span> <span style="color: #a6e3a1;">&quot;Ginny&quot;</span><span style="color: #9399b2;">]</span> <span style="color: #9399b2;"># get rows with name == &quot;Ginny&quot;</span>
</span><span class="athl-line" data-athl-line="493"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="494"><span style="color: #9399b2;">#     name year house</span>
</span><span class="athl-line" data-athl-line="495"><span style="color: #9399b2;"># 1: Ginny   -1     G</span>
</span><span class="athl-line" data-athl-line="496"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #cdd6f4;">year</span> <span style="color: #89dceb;">==</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">]</span> <span style="color: #9399b2;"># get rows with year == 2</span>
</span><span class="athl-line" data-athl-line="497"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="498"><span style="color: #9399b2;">#      name year house</span>
</span><span class="athl-line" data-athl-line="499"><span style="color: #9399b2;"># 1:   Fred    2     G</span>
</span><span class="athl-line" data-athl-line="500"><span style="color: #9399b2;"># 2: George    2     G</span>
</span><span class="athl-line" data-athl-line="501"><span style="color: #9399b2;"># data.table makes merging two data sets easy</span>
</span><span class="athl-line" data-athl-line="502"><span style="color: #9399b2;"># let&#39;s make another data.table to merge with students</span>
</span><span class="athl-line" data-athl-line="503"><span style="color: #cdd6f4;">founders</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">data.table</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">house</span>   <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;G&quot;</span>     <span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;H&quot;</span>    <span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;R&quot;</span>     <span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;S&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span>
</span><span class="athl-line" data-athl-line="504">                       <span style="color: #eba0ac;">founder</span> <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;Godric&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Helga&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Rowena&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;Salazar&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="505"><span style="color: #cdd6f4;">founders</span>
</span><span class="athl-line" data-athl-line="506"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="507"><span style="color: #9399b2;">#    house founder</span>
</span><span class="athl-line" data-athl-line="508"><span style="color: #9399b2;"># 1:     G  Godric</span>
</span><span class="athl-line" data-athl-line="509"><span style="color: #9399b2;"># 2:     H   Helga</span>
</span><span class="athl-line" data-athl-line="510"><span style="color: #9399b2;"># 3:     R  Rowena</span>
</span><span class="athl-line" data-athl-line="511"><span style="color: #9399b2;"># 4:     S Salazar</span>
</span><span class="athl-line" data-athl-line="512"><span style="color: #89b4fa;">setkey</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">house</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="513"><span style="color: #89b4fa;">setkey</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">founders</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">house</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="514"><span style="color: #cdd6f4;">students</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #cdd6f4;">founders</span><span style="color: #9399b2;">[</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">]</span> <span style="color: #9399b2;"># merge the two data sets by matching &quot;house&quot;</span>
</span><span class="athl-line" data-athl-line="515"><span style="color: #89b4fa;">setnames</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;house&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;houseFounderName&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;studentName&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;year&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="516"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">order</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;name&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;year&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;house&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;houseFounderName&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">with</span> <span style="color: #89dceb;">=</span> <span style="color: #cdd6f4;">F</span><span style="color: #9399b2;">]</span>
</span><span class="athl-line" data-athl-line="517"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="518"><span style="color: #9399b2;">#    studentName year house houseFounderName</span>
</span><span class="athl-line" data-athl-line="519"><span style="color: #9399b2;"># 1:        Fred    2     G           Godric</span>
</span><span class="athl-line" data-athl-line="520"><span style="color: #9399b2;"># 2:      George    2     G           Godric</span>
</span><span class="athl-line" data-athl-line="521"><span style="color: #9399b2;"># 3:       Ginny   -1     G           Godric</span>
</span><span class="athl-line" data-athl-line="522"><span style="color: #9399b2;"># 4:      Cedric    3     H            Helga</span>
</span><span class="athl-line" data-athl-line="523"><span style="color: #9399b2;"># 5:         Cho    1     R           Rowena</span>
</span><span class="athl-line" data-athl-line="524"><span style="color: #9399b2;"># 6:       Draco    0     S          Salazar</span>
</span><span class="athl-line" data-athl-line="525">
</span><span class="athl-line" data-athl-line="526"><span style="color: #9399b2;"># data.table makes summary tables easy</span>
</span><span class="athl-line" data-athl-line="527"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">sum</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">year</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">by</span> <span style="color: #89dceb;">=</span> <span style="color: #eba0ac;">house</span><span style="color: #9399b2;">]</span>
</span><span class="athl-line" data-athl-line="528"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="529"><span style="color: #9399b2;">#    house V1</span>
</span><span class="athl-line" data-athl-line="530"><span style="color: #9399b2;"># 1:     G  3</span>
</span><span class="athl-line" data-athl-line="531"><span style="color: #9399b2;"># 2:     H  3</span>
</span><span class="athl-line" data-athl-line="532"><span style="color: #9399b2;"># 3:     R  1</span>
</span><span class="athl-line" data-athl-line="533"><span style="color: #9399b2;"># 4:     S  0</span>
</span><span class="athl-line" data-athl-line="534">
</span><span class="athl-line" data-athl-line="535"><span style="color: #9399b2;"># To drop a column from a data.frame or data.table,</span>
</span><span class="athl-line" data-athl-line="536"><span style="color: #9399b2;"># assign it the NULL value</span>
</span><span class="athl-line" data-athl-line="537"><span style="color: #cdd6f4;">students</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">houseFounderName</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #fab387;">NULL</span>
</span><span class="athl-line" data-athl-line="538"><span style="color: #cdd6f4;">students</span>
</span><span class="athl-line" data-athl-line="539"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="540"><span style="color: #9399b2;">#    studentName year house</span>
</span><span class="athl-line" data-athl-line="541"><span style="color: #9399b2;"># 1:        Fred    2     G</span>
</span><span class="athl-line" data-athl-line="542"><span style="color: #9399b2;"># 2:      George    2     G</span>
</span><span class="athl-line" data-athl-line="543"><span style="color: #9399b2;"># 3:       Ginny   -1     G</span>
</span><span class="athl-line" data-athl-line="544"><span style="color: #9399b2;"># 4:      Cedric    3     H</span>
</span><span class="athl-line" data-athl-line="545"><span style="color: #9399b2;"># 5:         Cho    1     R</span>
</span><span class="athl-line" data-athl-line="546"><span style="color: #9399b2;"># 6:       Draco    0     S</span>
</span><span class="athl-line" data-athl-line="547">
</span><span class="athl-line" data-athl-line="548"><span style="color: #9399b2;"># Drop a row by subsetting</span>
</span><span class="athl-line" data-athl-line="549"><span style="color: #9399b2;"># Using data.table:</span>
</span><span class="athl-line" data-athl-line="550"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #cdd6f4;">studentName</span> <span style="color: #89dceb;">!=</span> <span style="color: #a6e3a1;">&quot;Draco&quot;</span><span style="color: #9399b2;">]</span>
</span><span class="athl-line" data-athl-line="551"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="552"><span style="color: #9399b2;">#    house studentName year</span>
</span><span class="athl-line" data-athl-line="553"><span style="color: #9399b2;"># 1:     G        Fred    2</span>
</span><span class="athl-line" data-athl-line="554"><span style="color: #9399b2;"># 2:     G      George    2</span>
</span><span class="athl-line" data-athl-line="555"><span style="color: #9399b2;"># 3:     G       Ginny   -1</span>
</span><span class="athl-line" data-athl-line="556"><span style="color: #9399b2;"># 4:     H      Cedric    3</span>
</span><span class="athl-line" data-athl-line="557"><span style="color: #9399b2;"># 5:     R         Cho    1</span>
</span><span class="athl-line" data-athl-line="558"><span style="color: #9399b2;"># Using data.frame:</span>
</span><span class="athl-line" data-athl-line="559"><span style="color: #cdd6f4;">students</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">as.data.frame</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="560"><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">[</span><span style="color: #cdd6f4;">students</span><span style="color: #89dceb;">$</span><span style="color: #eba0ac;">house</span> <span style="color: #89dceb;">!=</span> <span style="color: #a6e3a1;">&quot;G&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #9399b2;">]</span>
</span><span class="athl-line" data-athl-line="561"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="562"><span style="color: #9399b2;">#   house houseFounderName studentName year</span>
</span><span class="athl-line" data-athl-line="563"><span style="color: #9399b2;"># 4     H            Helga      Cedric    3</span>
</span><span class="athl-line" data-athl-line="564"><span style="color: #9399b2;"># 5     R           Rowena         Cho    1</span>
</span><span class="athl-line" data-athl-line="565"><span style="color: #9399b2;"># 6     S          Salazar       Draco    0</span>
</span><span class="athl-line" data-athl-line="566">
</span><span class="athl-line" data-athl-line="567"><span style="color: #9399b2;"># MULTI-DIMENSIONAL (ALL ELEMENTS OF ONE TYPE)</span>
</span><span class="athl-line" data-athl-line="568">
</span><span class="athl-line" data-athl-line="569"><span style="color: #9399b2;"># Arrays creates n-dimensional tables</span>
</span><span class="athl-line" data-athl-line="570"><span style="color: #9399b2;"># All elements must be of the same type</span>
</span><span class="athl-line" data-athl-line="571"><span style="color: #9399b2;"># You can make a two-dimensional table (sort of like a matrix)</span>
</span><span class="athl-line" data-athl-line="572"><span style="color: #89b4fa;">array</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">8</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">9</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">6</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">dim</span> <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="573"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="574"><span style="color: #9399b2;">#      [,1] [,2] [,3] [,4]</span>
</span><span class="athl-line" data-athl-line="575"><span style="color: #9399b2;"># [1,]    1    4    8    3</span>
</span><span class="athl-line" data-athl-line="576"><span style="color: #9399b2;"># [2,]    2    5    9    6</span>
</span><span class="athl-line" data-athl-line="577"><span style="color: #9399b2;"># You can use array to make three-dimensional matrices too</span>
</span><span class="athl-line" data-athl-line="578"><span style="color: #89b4fa;">array</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">300</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">8</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">9</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">0</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">5</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">60</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">0</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">66</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">7</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">847</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">dim</span> <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">3</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="579"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="580"><span style="color: #9399b2;"># , , 1</span>
</span><span class="athl-line" data-athl-line="581"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="582"><span style="color: #9399b2;">#      [,1] [,2]</span>
</span><span class="athl-line" data-athl-line="583"><span style="color: #9399b2;"># [1,]    2    8</span>
</span><span class="athl-line" data-athl-line="584"><span style="color: #9399b2;"># [2,]  300    9</span>
</span><span class="athl-line" data-athl-line="585"><span style="color: #9399b2;"># [3,]    4    0</span>
</span><span class="athl-line" data-athl-line="586"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="587"><span style="color: #9399b2;"># , , 2</span>
</span><span class="athl-line" data-athl-line="588"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="589"><span style="color: #9399b2;">#      [,1] [,2]</span>
</span><span class="athl-line" data-athl-line="590"><span style="color: #9399b2;"># [1,]    5   66</span>
</span><span class="athl-line" data-athl-line="591"><span style="color: #9399b2;"># [2,]   60    7</span>
</span><span class="athl-line" data-athl-line="592"><span style="color: #9399b2;"># [3,]    0  847</span>
</span><span class="athl-line" data-athl-line="593">
</span><span class="athl-line" data-athl-line="594"><span style="color: #9399b2;"># LISTS (MULTI-DIMENSIONAL, POSSIBLY RAGGED, OF DIFFERENT TYPES)</span>
</span><span class="athl-line" data-athl-line="595">
</span><span class="athl-line" data-athl-line="596"><span style="color: #9399b2;"># Finally, R has lists (of vectors)</span>
</span><span class="athl-line" data-athl-line="597"><span style="color: #cdd6f4;">list1</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">list</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">time</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">1</span><span style="color: #89dceb;">:</span><span style="color: #fab387;">40</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="598"><span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">price</span> <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">rnorm</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">40</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">.5</span><span style="color: #89dceb;">*</span><span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #eba0ac;">time</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># random</span>
</span><span class="athl-line" data-athl-line="599"><span style="color: #cdd6f4;">list1</span>
</span><span class="athl-line" data-athl-line="600"><span style="color: #9399b2;"># You can get items in the list like so</span>
</span><span class="athl-line" data-athl-line="601"><span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #eba0ac;">time</span> <span style="color: #9399b2;"># one way</span>
</span><span class="athl-line" data-athl-line="602"><span style="color: #cdd6f4;">list1</span><span style="color: #9399b2;">[[</span><span style="color: #a6e3a1;">&quot;time&quot;</span><span style="color: #9399b2;">]]</span> <span style="color: #9399b2;"># another way</span>
</span><span class="athl-line" data-athl-line="603"><span style="color: #cdd6f4;">list1</span><span style="color: #9399b2;">[[</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">]]</span> <span style="color: #9399b2;"># yet another way</span>
</span><span class="athl-line" data-athl-line="604"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="605"><span style="color: #9399b2;">#  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33</span>
</span><span class="athl-line" data-athl-line="606"><span style="color: #9399b2;"># [34] 34 35 36 37 38 39 40</span>
</span><span class="athl-line" data-athl-line="607"><span style="color: #9399b2;"># You can subset list items like any other vector</span>
</span><span class="athl-line" data-athl-line="608"><span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #89b4fa;">price</span><span style="color: #9399b2;">[</span><span style="color: #fab387;">4</span><span style="color: #9399b2;">]</span>
</span><span class="athl-line" data-athl-line="609">
</span><span class="athl-line" data-athl-line="610"><span style="color: #9399b2;"># Lists are not the most efficient data structure to work with in R;</span>
</span><span class="athl-line" data-athl-line="611"><span style="color: #9399b2;"># unless you have a very good reason, you should stick to data.frames</span>
</span><span class="athl-line" data-athl-line="612"><span style="color: #9399b2;"># Lists are often returned by functions that perform linear regressions</span>
</span><span class="athl-line" data-athl-line="613">
</span><span class="athl-line" data-athl-line="614"><span style="color: #9399b2;">##################################################</span>
</span><span class="athl-line" data-athl-line="615"><span style="color: #9399b2;"># The apply() family of functions</span>
</span><span class="athl-line" data-athl-line="616"><span style="color: #9399b2;">##################################################</span>
</span><span class="athl-line" data-athl-line="617">
</span><span class="athl-line" data-athl-line="618"><span style="color: #9399b2;"># Remember mat?</span>
</span><span class="athl-line" data-athl-line="619"><span style="color: #cdd6f4;">mat</span>
</span><span class="athl-line" data-athl-line="620"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="621"><span style="color: #9399b2;">#      [,1] [,2]</span>
</span><span class="athl-line" data-athl-line="622"><span style="color: #9399b2;"># [1,]    1    4</span>
</span><span class="athl-line" data-athl-line="623"><span style="color: #9399b2;"># [2,]    2    5</span>
</span><span class="athl-line" data-athl-line="624"><span style="color: #9399b2;"># [3,]    3    6</span>
</span><span class="athl-line" data-athl-line="625"><span style="color: #9399b2;"># Use apply(X, MARGIN, FUN) to apply function FUN to a matrix X</span>
</span><span class="athl-line" data-athl-line="626"><span style="color: #9399b2;"># over rows (MAR = 1) or columns (MAR = 2)</span>
</span><span class="athl-line" data-athl-line="627"><span style="color: #9399b2;"># That is, R does FUN to each row (or column) of X, much faster than a</span>
</span><span class="athl-line" data-athl-line="628"><span style="color: #9399b2;"># for or while loop would do</span>
</span><span class="athl-line" data-athl-line="629"><span style="color: #89b4fa;">apply</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">mat</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">MAR</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">jiggle</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="630"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="631"><span style="color: #9399b2;">#      [,1] [,2]</span>
</span><span class="athl-line" data-athl-line="632"><span style="color: #9399b2;"># [1,]    3   15</span>
</span><span class="athl-line" data-athl-line="633"><span style="color: #9399b2;"># [2,]    7   19</span>
</span><span class="athl-line" data-athl-line="634"><span style="color: #9399b2;"># [3,]   11   23</span>
</span><span class="athl-line" data-athl-line="635"><span style="color: #9399b2;"># Other functions: ?lapply, ?sapply</span>
</span><span class="athl-line" data-athl-line="636">
</span><span class="athl-line" data-athl-line="637"><span style="color: #9399b2;"># Don&#39;t feel too intimidated; everyone agrees they are rather confusing</span>
</span><span class="athl-line" data-athl-line="638">
</span><span class="athl-line" data-athl-line="639"><span style="color: #9399b2;"># The plyr package aims to replace (and improve upon!) the *apply() family.</span>
</span><span class="athl-line" data-athl-line="640"><span style="color: #89b4fa;">install.packages</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;plyr&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="641"><span style="color: #89b4fa;">require</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">plyr</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="642"><span style="color: #89dceb;">?</span><span style="color: #cdd6f4;">plyr</span>
</span><span class="athl-line" data-athl-line="643">
</span><span class="athl-line" data-athl-line="644">
</span><span class="athl-line" data-athl-line="645">
</span><span class="athl-line" data-athl-line="646"><span style="color: #9399b2;">#########################</span>
</span><span class="athl-line" data-athl-line="647"><span style="color: #9399b2;"># Loading data</span>
</span><span class="athl-line" data-athl-line="648"><span style="color: #9399b2;">#########################</span>
</span><span class="athl-line" data-athl-line="649">
</span><span class="athl-line" data-athl-line="650"><span style="color: #9399b2;"># &quot;pets.csv&quot; is a file on the internet</span>
</span><span class="athl-line" data-athl-line="651"><span style="color: #9399b2;"># (but it could just as easily be a file on your own computer)</span>
</span><span class="athl-line" data-athl-line="652"><span style="color: #89b4fa;">require</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">RCurl</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="653"><span style="color: #cdd6f4;">pets</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">read.csv</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">textConnection</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">getURL</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;https://learnxinyminutes.com/pets.csv&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="654"><span style="color: #cdd6f4;">pets</span>
</span><span class="athl-line" data-athl-line="655"><span style="color: #89b4fa;">head</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">pets</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># first two rows</span>
</span><span class="athl-line" data-athl-line="656"><span style="color: #89b4fa;">tail</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">pets</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># last row</span>
</span><span class="athl-line" data-athl-line="657">
</span><span class="athl-line" data-athl-line="658"><span style="color: #9399b2;"># To save a data frame or matrix as a .csv file</span>
</span><span class="athl-line" data-athl-line="659"><span style="color: #89b4fa;">write.csv</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">pets</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;pets2.csv&quot;</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># to make a new .csv file</span>
</span><span class="athl-line" data-athl-line="660"><span style="color: #9399b2;"># set working directory with setwd(), look it up with getwd()</span>
</span><span class="athl-line" data-athl-line="661">
</span><span class="athl-line" data-athl-line="662"><span style="color: #9399b2;"># Try ?read.csv and ?write.csv for more information</span>
</span><span class="athl-line" data-athl-line="663">
</span><span class="athl-line" data-athl-line="664">
</span><span class="athl-line" data-athl-line="665">
</span><span class="athl-line" data-athl-line="666"><span style="color: #9399b2;">#########################</span>
</span><span class="athl-line" data-athl-line="667"><span style="color: #9399b2;"># Statistical Analysis</span>
</span><span class="athl-line" data-athl-line="668"><span style="color: #9399b2;">#########################</span>
</span><span class="athl-line" data-athl-line="669">
</span><span class="athl-line" data-athl-line="670"><span style="color: #9399b2;"># Linear regression!</span>
</span><span class="athl-line" data-athl-line="671"><span style="color: #cdd6f4;">linearModel</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">lm</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">price</span> <span style="color: #89dceb;">~</span> <span style="color: #eba0ac;">time</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">data</span> <span style="color: #89dceb;">=</span> <span style="color: #cdd6f4;">list1</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="672"><span style="color: #cdd6f4;">linearModel</span> <span style="color: #9399b2;"># outputs result of regression</span>
</span><span class="athl-line" data-athl-line="673"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="674"><span style="color: #9399b2;"># Call:</span>
</span><span class="athl-line" data-athl-line="675"><span style="color: #9399b2;"># lm(formula = price ~ time, data = list1)</span>
</span><span class="athl-line" data-athl-line="676"><span style="color: #9399b2;"># </span>
</span><span class="athl-line" data-athl-line="677"><span style="color: #9399b2;"># Coefficients:</span>
</span><span class="athl-line" data-athl-line="678"><span style="color: #9399b2;"># (Intercept)         time  </span>
</span><span class="athl-line" data-athl-line="679"><span style="color: #9399b2;">#      0.1453       0.4943  </span>
</span><span class="athl-line" data-athl-line="680"><span style="color: #89b4fa;">summary</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">linearModel</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># more verbose output from the regression</span>
</span><span class="athl-line" data-athl-line="681"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="682"><span style="color: #9399b2;"># Call:</span>
</span><span class="athl-line" data-athl-line="683"><span style="color: #9399b2;"># lm(formula = price ~ time, data = list1)</span>
</span><span class="athl-line" data-athl-line="684"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="685"><span style="color: #9399b2;"># Residuals:</span>
</span><span class="athl-line" data-athl-line="686"><span style="color: #9399b2;">#     Min      1Q  Median      3Q     Max </span>
</span><span class="athl-line" data-athl-line="687"><span style="color: #9399b2;"># -8.3134 -3.0131 -0.3606  2.8016 10.3992 </span>
</span><span class="athl-line" data-athl-line="688"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="689"><span style="color: #9399b2;"># Coefficients:</span>
</span><span class="athl-line" data-athl-line="690"><span style="color: #9399b2;">#             Estimate Std. Error t value Pr(&gt;|t|)    </span>
</span><span class="athl-line" data-athl-line="691"><span style="color: #9399b2;"># (Intercept)  0.14527    1.50084   0.097    0.923    </span>
</span><span class="athl-line" data-athl-line="692"><span style="color: #9399b2;"># time         0.49435    0.06379   7.749 2.44e-09 ***</span>
</span><span class="athl-line" data-athl-line="693"><span style="color: #9399b2;"># ---</span>
</span><span class="athl-line" data-athl-line="694"><span style="color: #9399b2;"># Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
</span><span class="athl-line" data-athl-line="695"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="696"><span style="color: #9399b2;"># Residual standard error: 4.657 on 38 degrees of freedom</span>
</span><span class="athl-line" data-athl-line="697"><span style="color: #9399b2;"># Multiple R-squared:  0.6124,	Adjusted R-squared:  0.6022 </span>
</span><span class="athl-line" data-athl-line="698"><span style="color: #9399b2;"># F-statistic: 60.05 on 1 and 38 DF,  p-value: 2.44e-09</span>
</span><span class="athl-line" data-athl-line="699"><span style="color: #89b4fa;">coef</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">linearModel</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># extract estimated parameters</span>
</span><span class="athl-line" data-athl-line="700"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="701"><span style="color: #9399b2;"># (Intercept)        time </span>
</span><span class="athl-line" data-athl-line="702"><span style="color: #9399b2;">#   0.1452662   0.4943490 </span>
</span><span class="athl-line" data-athl-line="703"><span style="color: #89b4fa;">summary</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">linearModel</span><span style="color: #9399b2;">)</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">coefficients</span> <span style="color: #9399b2;"># another way to extract results</span>
</span><span class="athl-line" data-athl-line="704"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="705"><span style="color: #9399b2;">#              Estimate Std. Error    t value     Pr(&gt;|t|)</span>
</span><span class="athl-line" data-athl-line="706"><span style="color: #9399b2;"># (Intercept) 0.1452662 1.50084246 0.09678975 9.234021e-01</span>
</span><span class="athl-line" data-athl-line="707"><span style="color: #9399b2;"># time        0.4943490 0.06379348 7.74920901 2.440008e-09</span>
</span><span class="athl-line" data-athl-line="708"><span style="color: #89b4fa;">summary</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">linearModel</span><span style="color: #9399b2;">)</span><span style="color: #89dceb;">$</span><span style="color: #89b4fa;">coefficients</span><span style="color: #9399b2;">[</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">]</span> <span style="color: #9399b2;"># the p-values </span>
</span><span class="athl-line" data-athl-line="709"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="710"><span style="color: #9399b2;">#  (Intercept)         time </span>
</span><span class="athl-line" data-athl-line="711"><span style="color: #9399b2;"># 9.234021e-01 2.440008e-09 </span>
</span><span class="athl-line" data-athl-line="712">
</span><span class="athl-line" data-athl-line="713"><span style="color: #9399b2;"># GENERAL LINEAR MODELS</span>
</span><span class="athl-line" data-athl-line="714"><span style="color: #9399b2;"># Logistic regression</span>
</span><span class="athl-line" data-athl-line="715"><span style="color: #89b4fa;">set.seed</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="716"><span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">success</span> <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">rbinom</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">length</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #eba0ac;">time</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">.5</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># random binary</span>
</span><span class="athl-line" data-athl-line="717"><span style="color: #cdd6f4;">glModel</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">glm</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">success</span>  <span style="color: #89dceb;">~</span> <span style="color: #eba0ac;">time</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">data</span> <span style="color: #89dceb;">=</span> <span style="color: #cdd6f4;">list1</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">family</span><span style="color: #89dceb;">=</span><span style="color: #89b4fa;">binomial</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">link</span><span style="color: #89dceb;">=</span><span style="color: #a6e3a1;">&quot;logit&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="718"><span style="color: #cdd6f4;">glModel</span> <span style="color: #9399b2;"># outputs result of logistic regression</span>
</span><span class="athl-line" data-athl-line="719"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="720"><span style="color: #9399b2;"># Call:  glm(formula = success ~ time, </span>
</span><span class="athl-line" data-athl-line="721"><span style="color: #9399b2;">#	family = binomial(link = &quot;logit&quot;), data = list1)</span>
</span><span class="athl-line" data-athl-line="722"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="723"><span style="color: #9399b2;"># Coefficients:</span>
</span><span class="athl-line" data-athl-line="724"><span style="color: #9399b2;"># (Intercept)         time  </span>
</span><span class="athl-line" data-athl-line="725"><span style="color: #9399b2;">#     0.17018     -0.01321  </span>
</span><span class="athl-line" data-athl-line="726"><span style="color: #9399b2;"># </span>
</span><span class="athl-line" data-athl-line="727"><span style="color: #9399b2;"># Degrees of Freedom: 39 Total (i.e. Null);  38 Residual</span>
</span><span class="athl-line" data-athl-line="728"><span style="color: #9399b2;"># Null Deviance:	    55.35 </span>
</span><span class="athl-line" data-athl-line="729"><span style="color: #9399b2;"># Residual Deviance: 55.12 	 AIC: 59.12</span>
</span><span class="athl-line" data-athl-line="730"><span style="color: #89b4fa;">summary</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">glModel</span><span style="color: #9399b2;">)</span> <span style="color: #9399b2;"># more verbose output from the regression</span>
</span><span class="athl-line" data-athl-line="731"><span style="color: #9399b2;"># =&gt;</span>
</span><span class="athl-line" data-athl-line="732"><span style="color: #9399b2;"># Call:</span>
</span><span class="athl-line" data-athl-line="733"><span style="color: #9399b2;"># glm(</span>
</span><span class="athl-line" data-athl-line="734"><span style="color: #9399b2;">#	formula = success ~ time,</span>
</span><span class="athl-line" data-athl-line="735"><span style="color: #9399b2;">#	family = binomial(link = &quot;logit&quot;),</span>
</span><span class="athl-line" data-athl-line="736"><span style="color: #9399b2;">#	data = list1)</span>
</span><span class="athl-line" data-athl-line="737">
</span><span class="athl-line" data-athl-line="738"><span style="color: #9399b2;"># Deviance Residuals: </span>
</span><span class="athl-line" data-athl-line="739"><span style="color: #9399b2;">#    Min      1Q  Median      3Q     Max  </span>
</span><span class="athl-line" data-athl-line="740"><span style="color: #9399b2;"># -1.245  -1.118  -1.035   1.202   1.327  </span>
</span><span class="athl-line" data-athl-line="741"><span style="color: #9399b2;"># </span>
</span><span class="athl-line" data-athl-line="742"><span style="color: #9399b2;"># Coefficients:</span>
</span><span class="athl-line" data-athl-line="743"><span style="color: #9399b2;">#             Estimate Std. Error z value Pr(&gt;|z|)</span>
</span><span class="athl-line" data-athl-line="744"><span style="color: #9399b2;"># (Intercept)  0.17018    0.64621   0.263    0.792</span>
</span><span class="athl-line" data-athl-line="745"><span style="color: #9399b2;"># time        -0.01321    0.02757  -0.479    0.632</span>
</span><span class="athl-line" data-athl-line="746"><span style="color: #9399b2;"># </span>
</span><span class="athl-line" data-athl-line="747"><span style="color: #9399b2;"># (Dispersion parameter for binomial family taken to be 1)</span>
</span><span class="athl-line" data-athl-line="748"><span style="color: #9399b2;">#</span>
</span><span class="athl-line" data-athl-line="749"><span style="color: #9399b2;">#     Null deviance: 55.352  on 39  degrees of freedom</span>
</span><span class="athl-line" data-athl-line="750"><span style="color: #9399b2;"># Residual deviance: 55.121  on 38  degrees of freedom</span>
</span><span class="athl-line" data-athl-line="751"><span style="color: #9399b2;"># AIC: 59.121</span>
</span><span class="athl-line" data-athl-line="752"><span style="color: #9399b2;"># </span>
</span><span class="athl-line" data-athl-line="753"><span style="color: #9399b2;"># Number of Fisher Scoring iterations: 3</span>
</span><span class="athl-line" data-athl-line="754">
</span><span class="athl-line" data-athl-line="755">
</span><span class="athl-line" data-athl-line="756"><span style="color: #9399b2;">#########################</span>
</span><span class="athl-line" data-athl-line="757"><span style="color: #9399b2;"># Plots</span>
</span><span class="athl-line" data-athl-line="758"><span style="color: #9399b2;">#########################</span>
</span><span class="athl-line" data-athl-line="759">
</span><span class="athl-line" data-athl-line="760"><span style="color: #9399b2;"># BUILT-IN PLOTTING FUNCTIONS</span>
</span><span class="athl-line" data-athl-line="761"><span style="color: #9399b2;"># Scatterplots!</span>
</span><span class="athl-line" data-athl-line="762"><span style="color: #89b4fa;">plot</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #eba0ac;">time</span><span style="color: #9399b2;">,</span> <span style="color: #cdd6f4;">list1</span><span style="color: #89dceb;">$</span><span style="color: #b4befe;">price</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">main</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;fake data&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="763"><span style="color: #9399b2;"># Plot regression line on existing plot</span>
</span><span class="athl-line" data-athl-line="764"><span style="color: #89b4fa;">abline</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">linearModel</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">col</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;red&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="765"><span style="color: #9399b2;"># Get a variety of nice diagnostics</span>
</span><span class="athl-line" data-athl-line="766"><span style="color: #89b4fa;">plot</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">linearModel</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="767"><span style="color: #9399b2;"># Histograms!</span>
</span><span class="athl-line" data-athl-line="768"><span style="color: #89b4fa;">hist</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">rpois</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">n</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">10000</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">lambda</span> <span style="color: #89dceb;">=</span> <span style="color: #fab387;">5</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">col</span> <span style="color: #89dceb;">=</span> <span style="color: #a6e3a1;">&quot;thistle&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="769"><span style="color: #9399b2;"># Barplots!</span>
</span><span class="athl-line" data-athl-line="770"><span style="color: #89b4fa;">barplot</span><span style="color: #9399b2;">(</span><span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">4</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">5</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">1</span><span style="color: #9399b2;">,</span> <span style="color: #fab387;">2</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">,</span> <span style="color: #eba0ac;">names.arg</span> <span style="color: #89dceb;">=</span> <span style="color: #89b4fa;">c</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;red&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;blue&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;purple&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;green&quot;</span><span style="color: #9399b2;">,</span> <span style="color: #a6e3a1;">&quot;yellow&quot;</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="771">
</span><span class="athl-line" data-athl-line="772"><span style="color: #9399b2;"># GGPLOT2</span>
</span><span class="athl-line" data-athl-line="773"><span style="color: #9399b2;"># But these are not even the prettiest of R&#39;s plots</span>
</span><span class="athl-line" data-athl-line="774"><span style="color: #9399b2;"># Try the ggplot2 package for more and better graphics</span>
</span><span class="athl-line" data-athl-line="775"><span style="color: #89b4fa;">install.packages</span><span style="color: #9399b2;">(</span><span style="color: #a6e3a1;">&quot;ggplot2&quot;</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="776"><span style="color: #89b4fa;">require</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">ggplot2</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="777"><span style="color: #89dceb;">?</span><span style="color: #cdd6f4;">ggplot2</span>
</span><span class="athl-line" data-athl-line="778"><span style="color: #cdd6f4;">pp</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">ggplot</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">students</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">aes</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">x</span> <span style="color: #89dceb;">=</span> <span style="color: #eba0ac;">house</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="779"><span style="color: #cdd6f4;">pp</span> <span style="color: #89dceb;">+</span> <span style="color: #89b4fa;">geom_bar</span><span style="color: #9399b2;">(</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="780"><span style="color: #cdd6f4;">ll</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">as.data.table</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">list1</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="781"><span style="color: #cdd6f4;">pp</span> <span style="color: #89dceb;">&lt;-</span> <span style="color: #89b4fa;">ggplot</span><span style="color: #9399b2;">(</span><span style="color: #cdd6f4;">ll</span><span style="color: #9399b2;">,</span> <span style="color: #89b4fa;">aes</span><span style="color: #9399b2;">(</span><span style="color: #eba0ac;">x</span> <span style="color: #89dceb;">=</span> <span style="color: #eba0ac;">time</span><span style="color: #9399b2;">,</span> <span style="color: #cdd6f4;">price</span><span style="color: #9399b2;">)</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="782"><span style="color: #cdd6f4;">pp</span> <span style="color: #89dceb;">+</span> <span style="color: #89b4fa;">geom_point</span><span style="color: #9399b2;">(</span><span style="color: #9399b2;">)</span>
</span><span class="athl-line" data-athl-line="783"><span style="color: #9399b2;"># ggplot2 has excellent documentation (available http://docs.ggplot2.org/current/)</span>
</span></code></pre>
</body>
</html>