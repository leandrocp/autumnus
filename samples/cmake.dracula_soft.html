<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>cmake - dracula_soft - Autumnus</title>
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=fira-code:300,400,500,600,700" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      * {
        font-family: 'Fira Code', monospace;
      }
    </style>
</head>
<body>
<pre class="athl w-full overflow-auto subpixel-antialiased p-8 leading-6 text-base rounded-lg" style="color: #f6f6f5; background-color: #292a35;"><code class="language-cmake" translate="no" tabindex="0"><span class="athl-line" data-athl-line="1"><span style="color: #70747f;"># In CMake, this is a comment</span>
</span><span class="athl-line" data-athl-line="2">
</span><span class="athl-line" data-athl-line="3"><span style="color: #70747f;"># To run our code, please perform the following commands:</span>
</span><span class="athl-line" data-athl-line="4"><span style="color: #70747f;">#  - mkdir build &amp;&amp; cd build</span>
</span><span class="athl-line" data-athl-line="5"><span style="color: #70747f;">#  - cmake ..</span>
</span><span class="athl-line" data-athl-line="6"><span style="color: #70747f;">#  - make</span>
</span><span class="athl-line" data-athl-line="7"><span style="color: #70747f;"># </span>
</span><span class="athl-line" data-athl-line="8"><span style="color: #70747f;"># With those steps, we will follow the best practice to compile into a subdir</span>
</span><span class="athl-line" data-athl-line="9"><span style="color: #70747f;"># and the second line will request to CMake to generate a new OS-dependent</span>
</span><span class="athl-line" data-athl-line="10"><span style="color: #70747f;"># Makefile. Finally, run the native Make command.</span>
</span><span class="athl-line" data-athl-line="11">
</span><span class="athl-line" data-athl-line="12"><span style="color: #70747f;">#------------------------------------------------------------------------------</span>
</span><span class="athl-line" data-athl-line="13"><span style="color: #70747f;"># Basic</span>
</span><span class="athl-line" data-athl-line="14"><span style="color: #70747f;">#------------------------------------------------------------------------------</span>
</span><span class="athl-line" data-athl-line="15"><span style="color: #70747f;">#</span>
</span><span class="athl-line" data-athl-line="16"><span style="color: #70747f;"># The CMake file MUST be named as &quot;CMakeLists.txt&quot;.</span>
</span><span class="athl-line" data-athl-line="17">
</span><span class="athl-line" data-athl-line="18"><span style="color: #70747f;"># Setup the minimum version required of CMake to generate the Makefile</span>
</span><span class="athl-line" data-athl-line="19"><span style="color: #87e58e;">cmake_minimum_required</span> <span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">VERSION</span> 2.8<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="20">
</span><span class="athl-line" data-athl-line="21"><span style="color: #70747f;"># Raises a FATAL_ERROR if version &lt; 2.8</span>
</span><span class="athl-line" data-athl-line="22"><span style="color: #87e58e;">cmake_minimum_required</span> <span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">VERSION</span> 2.8 <span style="color: #baa0e8;">FATAL_ERROR</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="23">
</span><span class="athl-line" data-athl-line="24"><span style="color: #70747f;"># We define the name of our project, and this changes some directories</span>
</span><span class="athl-line" data-athl-line="25"><span style="color: #70747f;"># naming convention generated by CMake. We can send the LANG of code</span>
</span><span class="athl-line" data-athl-line="26"><span style="color: #70747f;"># as the second param</span>
</span><span class="athl-line" data-athl-line="27"><span style="color: #87e58e;">project</span> <span style="color: #f6f6f5;">(</span>learncmake C<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="28">
</span><span class="athl-line" data-athl-line="29"><span style="color: #70747f;"># Set the project source dir (just convention)</span>
</span><span class="athl-line" data-athl-line="30"><span style="color: #87e58e;">set</span><span style="color: #f6f6f5;">(</span> <span style="color: #baa0e8;">LEARN_CMAKE_SOURCE_DIR</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_CURRENT_SOURCE_DIR</span><span style="color: #87e58e;">}</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="31"><span style="color: #87e58e;">set</span><span style="color: #f6f6f5;">(</span> <span style="color: #baa0e8;">LEARN_CMAKE_BINARY_DIR</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_CURRENT_BINARY_DIR</span><span style="color: #87e58e;">}</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="32">
</span><span class="athl-line" data-athl-line="33"><span style="color: #70747f;"># It&#39;s useful to set up the current version of our code in the build system</span>
</span><span class="athl-line" data-athl-line="34"><span style="color: #70747f;"># using a `semver` style</span>
</span><span class="athl-line" data-athl-line="35"><span style="color: #87e58e;">set</span> <span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">LEARN_CMAKE_VERSION_MAJOR</span> 1<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="36"><span style="color: #87e58e;">set</span> <span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">LEARN_CMAKE_VERSION_MINOR</span> 0<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="37"><span style="color: #87e58e;">set</span> <span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">LEARN_CMAKE_VERSION_PATCH</span> 0<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="38">
</span><span class="athl-line" data-athl-line="39"><span style="color: #70747f;"># Send the variables (version number) to the source code header</span>
</span><span class="athl-line" data-athl-line="40"><span style="color: #87e58e;">configure_file</span> <span style="color: #f6f6f5;">(</span>
</span><span class="athl-line" data-athl-line="41">  <span style="color: #e8eda2;">&quot;<span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">PROJECT_SOURCE_DIR</span><span style="color: #87e58e;">}</span>/TutorialConfig.h.in&quot;</span>
</span><span class="athl-line" data-athl-line="42">  <span style="color: #e8eda2;">&quot;<span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">PROJECT_BINARY_DIR</span><span style="color: #87e58e;">}</span>/TutorialConfig.h&quot;</span>
</span><span class="athl-line" data-athl-line="43"><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="44">
</span><span class="athl-line" data-athl-line="45"><span style="color: #70747f;"># Include Directories</span>
</span><span class="athl-line" data-athl-line="46"><span style="color: #70747f;"># In GCC, this will invoke the &quot;-I&quot; command</span>
</span><span class="athl-line" data-athl-line="47"><span style="color: #87e58e;">include_directories</span><span style="color: #f6f6f5;">(</span> include <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="48">
</span><span class="athl-line" data-athl-line="49"><span style="color: #70747f;"># Where are the additional libraries installed? Note: provide includes</span>
</span><span class="athl-line" data-athl-line="50"><span style="color: #70747f;"># path here, subsequent checks will resolve everything else</span>
</span><span class="athl-line" data-athl-line="51"><span style="color: #87e58e;">set</span><span style="color: #f6f6f5;">(</span> <span style="color: #baa0e8;">CMAKE_MODULE_PATH</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_MODULE_PATH</span><span style="color: #87e58e;">}</span> <span style="color: #e8eda2;">&quot;<span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_SOURCE_DIR</span><span style="color: #87e58e;">}</span>/CMake/modules/&quot;</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="52">
</span><span class="athl-line" data-athl-line="53"><span style="color: #70747f;"># Conditions</span>
</span><span class="athl-line" data-athl-line="54"><span style="color: #e48cc1;">if</span> <span style="color: #f6f6f5;">(</span> CONDITION <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="55">  <span style="color: #70747f;"># Output!</span>
</span><span class="athl-line" data-athl-line="56">
</span><span class="athl-line" data-athl-line="57">  <span style="color: #70747f;"># Incidental information</span>
</span><span class="athl-line" data-athl-line="58">  <span style="color: #87e58e;">message</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">STATUS</span> <span style="color: #e8eda2;">&quot;My message&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="59">
</span><span class="athl-line" data-athl-line="60">  <span style="color: #70747f;"># CMake Warning, continue processing</span>
</span><span class="athl-line" data-athl-line="61">  <span style="color: #87e58e;">message</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">WARNING</span> <span style="color: #e8eda2;">&quot;My message&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="62">
</span><span class="athl-line" data-athl-line="63">  <span style="color: #70747f;"># CMake Warning (dev), continue processing</span>
</span><span class="athl-line" data-athl-line="64">  <span style="color: #87e58e;">message</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">AUTHOR_WARNING</span> <span style="color: #e8eda2;">&quot;My message&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="65">
</span><span class="athl-line" data-athl-line="66">  <span style="color: #70747f;"># CMake Error, continue processing, but skip generation</span>
</span><span class="athl-line" data-athl-line="67">  <span style="color: #87e58e;">message</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">SEND_ERROR</span> <span style="color: #e8eda2;">&quot;My message&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="68">
</span><span class="athl-line" data-athl-line="69">  <span style="color: #70747f;"># CMake Error, stop processing and generation</span>
</span><span class="athl-line" data-athl-line="70">  <span style="color: #87e58e;">message</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">FATAL_ERROR</span> <span style="color: #e8eda2;">&quot;My message&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="71"><span style="color: #e48cc1;">endif</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="72">
</span><span class="athl-line" data-athl-line="73"><span style="color: #e48cc1;">if</span><span style="color: #f6f6f5;">(</span> CONDITION <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="74">
</span><span class="athl-line" data-athl-line="75"><span style="color: #e48cc1;">elseif</span><span style="color: #f6f6f5;">(</span> CONDITION <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="76">
</span><span class="athl-line" data-athl-line="77"><span style="color: #e48cc1;">else</span><span style="color: #f6f6f5;">(</span> CONDITION <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="78">
</span><span class="athl-line" data-athl-line="79"><span style="color: #e48cc1;">endif</span><span style="color: #f6f6f5;">(</span> CONDITION <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="80">
</span><span class="athl-line" data-athl-line="81"><span style="color: #70747f;"># Loops</span>
</span><span class="athl-line" data-athl-line="82"><span style="color: #e48cc1;">foreach</span><span style="color: #f6f6f5;">(</span>loop_var arg1 arg2 ...<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="83">  <span style="color: #87e58e;">COMMAND1</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">ARGS</span> ...<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="84">  <span style="color: #87e58e;">COMMAND2</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">ARGS</span> ...<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="85">  ...
</span><span class="athl-line" data-athl-line="86"><span style="color: #e48cc1;">endforeach</span><span style="color: #f6f6f5;">(</span>loop_var<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="87">
</span><span class="athl-line" data-athl-line="88"><span style="color: #e48cc1;">foreach</span><span style="color: #f6f6f5;">(</span>loop_var RANGE total<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="89"><span style="color: #e48cc1;">foreach</span><span style="color: #f6f6f5;">(</span>loop_var RANGE start stop [step]<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="90">
</span><span class="athl-line" data-athl-line="91"><span style="color: #e48cc1;">foreach</span><span style="color: #f6f6f5;">(</span>loop_var IN [LISTS [list1 [...]]]
</span><span class="athl-line" data-athl-line="92">                    [ITEMS [item1 [...]]]<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="93">
</span><span class="athl-line" data-athl-line="94"><span style="color: #e48cc1;">while</span><span style="color: #f6f6f5;">(</span>condition<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="95">  <span style="color: #87e58e;">COMMAND1</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">ARGS</span> ...<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="96">  <span style="color: #87e58e;">COMMAND2</span><span style="color: #f6f6f5;">(</span><span style="color: #baa0e8;">ARGS</span> ...<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="97">  ...
</span><span class="athl-line" data-athl-line="98"><span style="color: #e48cc1;">endwhile</span><span style="color: #f6f6f5;">(</span>condition<span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="99">
</span><span class="athl-line" data-athl-line="100">
</span><span class="athl-line" data-athl-line="101"><span style="color: #70747f;"># Logic Operations</span>
</span><span class="athl-line" data-athl-line="102"><span style="color: #e48cc1;">if</span><span style="color: #f6f6f5;">(</span>FALSE <span style="color: #e48cc1;">AND</span> <span style="color: #f6f6f5;">(</span>FALSE <span style="color: #e48cc1;">OR</span> TRUE<span style="color: #f6f6f5;">)</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="103">  <span style="color: #87e58e;">message</span><span style="color: #f6f6f5;">(</span><span style="color: #e8eda2;">&quot;Don&#39;t display!&quot;</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="104"><span style="color: #e48cc1;">endif</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="105">
</span><span class="athl-line" data-athl-line="106"><span style="color: #70747f;"># Set a regular, cache, or environment variable to a given value.</span>
</span><span class="athl-line" data-athl-line="107"><span style="color: #70747f;"># If the PARENT_SCOPE option is given, the variable will be set in the scope</span>
</span><span class="athl-line" data-athl-line="108"><span style="color: #70747f;"># above the current scope.</span>
</span><span class="athl-line" data-athl-line="109"><span style="color: #70747f;"># `set(&lt;variable&gt; &lt;value&gt;... [PARENT_SCOPE])`</span>
</span><span class="athl-line" data-athl-line="110">
</span><span class="athl-line" data-athl-line="111"><span style="color: #70747f;"># How to reference variables inside quoted and unquoted arguments?</span>
</span><span class="athl-line" data-athl-line="112"><span style="color: #70747f;"># A variable reference is replaced by either the variable value or by the </span>
</span><span class="athl-line" data-athl-line="113"><span style="color: #70747f;"># empty string if the variable is not set.</span>
</span><span class="athl-line" data-athl-line="114"><span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span>variable_name}
</span><span class="athl-line" data-athl-line="115">
</span><span class="athl-line" data-athl-line="116"><span style="color: #70747f;"># Lists</span>
</span><span class="athl-line" data-athl-line="117"><span style="color: #70747f;"># Setup the list of source files</span>
</span><span class="athl-line" data-athl-line="118"><span style="color: #87e58e;">set</span><span style="color: #f6f6f5;">(</span> <span style="color: #baa0e8;">LEARN_CMAKE_SOURCES</span> 
</span><span class="athl-line" data-athl-line="119">  src/main.c
</span><span class="athl-line" data-athl-line="120">  src/imagem.c
</span><span class="athl-line" data-athl-line="121">  src/pather.c
</span><span class="athl-line" data-athl-line="122"><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="123">
</span><span class="athl-line" data-athl-line="124"><span style="color: #70747f;"># Calls the compiler</span>
</span><span class="athl-line" data-athl-line="125"><span style="color: #70747f;">#</span>
</span><span class="athl-line" data-athl-line="126"><span style="color: #70747f;"># ${PROJECT_NAME} refers to Learn_CMake </span>
</span><span class="athl-line" data-athl-line="127"><span style="color: #87e58e;">add_executable</span><span style="color: #f6f6f5;">(</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">PROJECT_NAME</span><span style="color: #87e58e;">}</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">LEARN_CMAKE_SOURCES</span><span style="color: #87e58e;">}</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="128">
</span><span class="athl-line" data-athl-line="129"><span style="color: #70747f;"># Link the libraries</span>
</span><span class="athl-line" data-athl-line="130"><span style="color: #87e58e;">target_link_libraries</span><span style="color: #f6f6f5;">(</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">PROJECT_NAME</span><span style="color: #87e58e;">}</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">LIBS</span><span style="color: #87e58e;">}</span> m <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="131">
</span><span class="athl-line" data-athl-line="132"><span style="color: #70747f;"># Where are the additional libraries installed? Note: provide includes</span>
</span><span class="athl-line" data-athl-line="133"><span style="color: #70747f;"># path here, subsequent checks will resolve everything else</span>
</span><span class="athl-line" data-athl-line="134"><span style="color: #87e58e;">set</span><span style="color: #f6f6f5;">(</span> <span style="color: #baa0e8;">CMAKE_MODULE_PATH</span> <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_MODULE_PATH</span><span style="color: #87e58e;">}</span> <span style="color: #e8eda2;">&quot;<span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_SOURCE_DIR</span><span style="color: #87e58e;">}</span>/CMake/modules/&quot;</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="135">
</span><span class="athl-line" data-athl-line="136"><span style="color: #70747f;"># Compiler Condition (gcc ; g++)</span>
</span><span class="athl-line" data-athl-line="137"><span style="color: #e48cc1;">if</span> <span style="color: #f6f6f5;">(</span> <span style="color: #e8eda2;">&quot;<span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_C_COMPILER_ID</span><span style="color: #87e58e;">}</span>&quot;</span> <span style="color: #e48cc1;">STREQUAL</span> <span style="color: #e8eda2;">&quot;GNU&quot;</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="138">  <span style="color: #87e58e;">message</span><span style="color: #f6f6f5;">(</span> <span style="color: #baa0e8;">STATUS</span> <span style="color: #e8eda2;">&quot;Setting the flags for <span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">CMAKE_C_COMPILER_ID</span><span style="color: #87e58e;">}</span> compiler&quot;</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="139">  <span style="color: #87e58e;">add_definitions</span><span style="color: #f6f6f5;">(</span> --std=c99 <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="140"><span style="color: #e48cc1;">endif</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="141">
</span><span class="athl-line" data-athl-line="142"><span style="color: #70747f;"># Check for OS</span>
</span><span class="athl-line" data-athl-line="143"><span style="color: #e48cc1;">if</span><span style="color: #f6f6f5;">(</span> UNIX <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="144">    <span style="color: #87e58e;">set</span><span style="color: #f6f6f5;">(</span> <span style="color: #baa0e8;">LEARN_CMAKE_DEFINITIONS</span>
</span><span class="athl-line" data-athl-line="145">        <span style="color: #e8eda2;">&quot;<span style="color: #87e58e;">$</span><span style="color: #87e58e;">{</span><span style="color: #f6f6f5;">LEARN_CMAKE_DEFINITIONS</span><span style="color: #87e58e;">}</span> -Wall -Wextra -Werror -Wno-deprecated-declarations -Wno-unused-parameter -Wno-comment&quot;</span> <span style="color: #f6f6f5;">)</span>
</span><span class="athl-line" data-athl-line="146"><span style="color: #e48cc1;">endif</span><span style="color: #f6f6f5;">(</span><span style="color: #f6f6f5;">)</span>
</span></code></pre>
</body>
</html>