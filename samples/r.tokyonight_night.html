<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>r - tokyonight_night - Autumnus</title>
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=fira-code:300,400,500,600,700" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      * {
        font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
      }
    </style>
</head>
<body>
<pre class="athl w-full overflow-auto rounded-lg p-8 text-sm antialiased leading-6" style="color: #c0caf5; background-color: #1a1b26;"><code class="language-r" translate="no" tabindex="0"><span class="line" data-line="1"><span style="color: #565f89;"># Comments start with hash signs, also known as number symbols (#).</span>
</span><span class="line" data-line="2">
</span><span class="line" data-line="3"><span style="color: #565f89;"># You can&#39;t make multi-line comments,</span>
</span><span class="line" data-line="4"><span style="color: #565f89;"># but you can stack multiple comments like so.</span>
</span><span class="line" data-line="5">
</span><span class="line" data-line="6"><span style="color: #565f89;"># in Windows you can use CTRL-ENTER to execute a line.</span>
</span><span class="line" data-line="7"><span style="color: #565f89;"># on Mac it is COMMAND-ENTER</span>
</span><span class="line" data-line="8">
</span><span class="line" data-line="9">
</span><span class="line" data-line="10">
</span><span class="line" data-line="11"><span style="color: #565f89;">#############################################################################</span>
</span><span class="line" data-line="12"><span style="color: #565f89;"># Stuff you can do without understanding anything about programming</span>
</span><span class="line" data-line="13"><span style="color: #565f89;">#############################################################################</span>
</span><span class="line" data-line="14">
</span><span class="line" data-line="15"><span style="color: #565f89;"># In this section, we show off some of the cool stuff you can do in</span>
</span><span class="line" data-line="16"><span style="color: #565f89;"># R without understanding anything about programming. Do not worry</span>
</span><span class="line" data-line="17"><span style="color: #565f89;"># about understanding everything the code does. Just enjoy!</span>
</span><span class="line" data-line="18">
</span><span class="line" data-line="19"><span style="color: #7aa2f7;">data</span><span style="color: #a9b1d6;">(</span><span style="color: #a9b1d6;">)</span>          <span style="color: #565f89;"># browse pre-loaded data sets</span>
</span><span class="line" data-line="20"><span style="color: #7aa2f7;">data</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># get this one: &quot;Lengths of Major North American Rivers&quot;</span>
</span><span class="line" data-line="21"><span style="color: #7aa2f7;">ls</span><span style="color: #a9b1d6;">(</span><span style="color: #a9b1d6;">)</span>            <span style="color: #565f89;"># notice that &quot;rivers&quot; now appears in the workspace</span>
</span><span class="line" data-line="22"><span style="color: #7aa2f7;">head</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># peek at the data set</span>
</span><span class="line" data-line="23"><span style="color: #565f89;"># 735 320 325 392 524 450</span>
</span><span class="line" data-line="24">
</span><span class="line" data-line="25"><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># how many rivers were measured?</span>
</span><span class="line" data-line="26"><span style="color: #565f89;"># 141</span>
</span><span class="line" data-line="27"><span style="color: #7aa2f7;">summary</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># what are some summary statistics?</span>
</span><span class="line" data-line="28"><span style="color: #565f89;">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
</span><span class="line" data-line="29"><span style="color: #565f89;">#  135.0   310.0   425.0   591.2   680.0  3710.0</span>
</span><span class="line" data-line="30">
</span><span class="line" data-line="31"><span style="color: #565f89;"># make a stem-and-leaf plot (a histogram-like data visualization)</span>
</span><span class="line" data-line="32"><span style="color: #7aa2f7;">stem</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="33">
</span><span class="line" data-line="34"><span style="color: #565f89;">#  The decimal point is 2 digit(s) to the right of the |</span>
</span><span class="line" data-line="35"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="36"><span style="color: #565f89;">#   0 | 4</span>
</span><span class="line" data-line="37"><span style="color: #565f89;">#   2 | 011223334555566667778888899900001111223333344455555666688888999</span>
</span><span class="line" data-line="38"><span style="color: #565f89;">#   4 | 111222333445566779001233344567</span>
</span><span class="line" data-line="39"><span style="color: #565f89;">#   6 | 000112233578012234468</span>
</span><span class="line" data-line="40"><span style="color: #565f89;">#   8 | 045790018</span>
</span><span class="line" data-line="41"><span style="color: #565f89;">#  10 | 04507</span>
</span><span class="line" data-line="42"><span style="color: #565f89;">#  12 | 1471</span>
</span><span class="line" data-line="43"><span style="color: #565f89;">#  14 | 56</span>
</span><span class="line" data-line="44"><span style="color: #565f89;">#  16 | 7</span>
</span><span class="line" data-line="45"><span style="color: #565f89;">#  18 | 9</span>
</span><span class="line" data-line="46"><span style="color: #565f89;">#  20 |</span>
</span><span class="line" data-line="47"><span style="color: #565f89;">#  22 | 25</span>
</span><span class="line" data-line="48"><span style="color: #565f89;">#  24 | 3</span>
</span><span class="line" data-line="49"><span style="color: #565f89;">#  26 |</span>
</span><span class="line" data-line="50"><span style="color: #565f89;">#  28 |</span>
</span><span class="line" data-line="51"><span style="color: #565f89;">#  30 |</span>
</span><span class="line" data-line="52"><span style="color: #565f89;">#  32 |</span>
</span><span class="line" data-line="53"><span style="color: #565f89;">#  34 |</span>
</span><span class="line" data-line="54"><span style="color: #565f89;">#  36 | 1</span>
</span><span class="line" data-line="55">
</span><span class="line" data-line="56"><span style="color: #7aa2f7;">stem</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">log</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># Notice that the data are neither normal nor log-normal!</span>
</span><span class="line" data-line="57"><span style="color: #565f89;"># Take that, Bell curve fundamentalists.</span>
</span><span class="line" data-line="58">
</span><span class="line" data-line="59"><span style="color: #565f89;">#  The decimal point is 1 digit(s) to the left of the |</span>
</span><span class="line" data-line="60"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="61"><span style="color: #565f89;">#  48 | 1</span>
</span><span class="line" data-line="62"><span style="color: #565f89;">#  50 |</span>
</span><span class="line" data-line="63"><span style="color: #565f89;">#  52 | 15578</span>
</span><span class="line" data-line="64"><span style="color: #565f89;">#  54 | 44571222466689</span>
</span><span class="line" data-line="65"><span style="color: #565f89;">#  56 | 023334677000124455789</span>
</span><span class="line" data-line="66"><span style="color: #565f89;">#  58 | 00122366666999933445777</span>
</span><span class="line" data-line="67"><span style="color: #565f89;">#  60 | 122445567800133459</span>
</span><span class="line" data-line="68"><span style="color: #565f89;">#  62 | 112666799035</span>
</span><span class="line" data-line="69"><span style="color: #565f89;">#  64 | 00011334581257889</span>
</span><span class="line" data-line="70"><span style="color: #565f89;">#  66 | 003683579</span>
</span><span class="line" data-line="71"><span style="color: #565f89;">#  68 | 0019156</span>
</span><span class="line" data-line="72"><span style="color: #565f89;">#  70 | 079357</span>
</span><span class="line" data-line="73"><span style="color: #565f89;">#  72 | 89</span>
</span><span class="line" data-line="74"><span style="color: #565f89;">#  74 | 84</span>
</span><span class="line" data-line="75"><span style="color: #565f89;">#  76 | 56</span>
</span><span class="line" data-line="76"><span style="color: #565f89;">#  78 | 4</span>
</span><span class="line" data-line="77"><span style="color: #565f89;">#  80 |</span>
</span><span class="line" data-line="78"><span style="color: #565f89;">#  82 | 2</span>
</span><span class="line" data-line="79">
</span><span class="line" data-line="80"><span style="color: #565f89;"># make a histogram:</span>
</span><span class="line" data-line="81"><span style="color: #7aa2f7;">hist</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">col</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;#333333&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">border</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;white&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">breaks</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">25</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="82"><span style="color: #7aa2f7;">hist</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">log</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">rivers</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">col</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;#333333&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">border</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;white&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">breaks</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">25</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="83"><span style="color: #565f89;"># play around with these parameters, you&#39;ll do more plotting later</span>
</span><span class="line" data-line="84">
</span><span class="line" data-line="85"><span style="color: #565f89;"># Here&#39;s another neat data set that comes pre-loaded. R has tons of these.</span>
</span><span class="line" data-line="86"><span style="color: #7aa2f7;">data</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">discoveries</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="87"><span style="color: #7aa2f7;">plot</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">discoveries</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">col</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;#333333&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">lwd</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">xlab</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;Year&quot;</span><span style="color: #89ddff;">,</span>
</span><span class="line" data-line="88">     <span style="color: #e0af68;">main</span><span style="color: #89ddff;">=</span><span style="color: #9ece6a;">&quot;Number of important discoveries per year&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="89"><span style="color: #7aa2f7;">plot</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">discoveries</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">col</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;#333333&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">lwd</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">type</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;h&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">xlab</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;Year&quot;</span><span style="color: #89ddff;">,</span>
</span><span class="line" data-line="90">     <span style="color: #e0af68;">main</span><span style="color: #89ddff;">=</span><span style="color: #9ece6a;">&quot;Number of important discoveries per year&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="91">
</span><span class="line" data-line="92"><span style="color: #565f89;"># Rather than leaving the default ordering (by year),</span>
</span><span class="line" data-line="93"><span style="color: #565f89;"># we could also sort to see what&#39;s typical:</span>
</span><span class="line" data-line="94"><span style="color: #7aa2f7;">sort</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">discoveries</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="95"><span style="color: #565f89;">#  [1]  0  0  0  0  0  0  0  0  0  1  1  1  1  1  1  1  1  1  1  1  1  2  2  2  2</span>
</span><span class="line" data-line="96"><span style="color: #565f89;"># [26]  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  3  3  3</span>
</span><span class="line" data-line="97"><span style="color: #565f89;"># [51]  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  4  4  4  4  4  4  4  4</span>
</span><span class="line" data-line="98"><span style="color: #565f89;"># [76]  4  4  4  4  5  5  5  5  5  5  5  6  6  6  6  6  6  7  7  7  7  8  9 10 12</span>
</span><span class="line" data-line="99">
</span><span class="line" data-line="100"><span style="color: #7aa2f7;">stem</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">discoveries</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">scale</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="101"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="102"><span style="color: #565f89;">#  The decimal point is at the |</span>
</span><span class="line" data-line="103"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="104"><span style="color: #565f89;">#   0 | 000000000</span>
</span><span class="line" data-line="105"><span style="color: #565f89;">#   1 | 000000000000</span>
</span><span class="line" data-line="106"><span style="color: #565f89;">#   2 | 00000000000000000000000000</span>
</span><span class="line" data-line="107"><span style="color: #565f89;">#   3 | 00000000000000000000</span>
</span><span class="line" data-line="108"><span style="color: #565f89;">#   4 | 000000000000</span>
</span><span class="line" data-line="109"><span style="color: #565f89;">#   5 | 0000000</span>
</span><span class="line" data-line="110"><span style="color: #565f89;">#   6 | 000000</span>
</span><span class="line" data-line="111"><span style="color: #565f89;">#   7 | 0000</span>
</span><span class="line" data-line="112"><span style="color: #565f89;">#   8 | 0</span>
</span><span class="line" data-line="113"><span style="color: #565f89;">#   9 | 0</span>
</span><span class="line" data-line="114"><span style="color: #565f89;">#  10 | 0</span>
</span><span class="line" data-line="115"><span style="color: #565f89;">#  11 |</span>
</span><span class="line" data-line="116"><span style="color: #565f89;">#  12 | 0</span>
</span><span class="line" data-line="117">
</span><span class="line" data-line="118"><span style="color: #7aa2f7;">max</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">discoveries</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="119"><span style="color: #565f89;"># 12</span>
</span><span class="line" data-line="120"><span style="color: #7aa2f7;">summary</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">discoveries</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="121"><span style="color: #565f89;">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
</span><span class="line" data-line="122"><span style="color: #565f89;">#    0.0     2.0     3.0     3.1     4.0    12.0</span>
</span><span class="line" data-line="123">
</span><span class="line" data-line="124"><span style="color: #565f89;"># Roll a die a few times</span>
</span><span class="line" data-line="125"><span style="color: #7aa2f7;">round</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">runif</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">7</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">min</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">.5</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">max</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">6.5</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="126"><span style="color: #565f89;"># 1 4 6 1 4 6 4</span>
</span><span class="line" data-line="127"><span style="color: #565f89;"># Your numbers will differ from mine unless we set the same random.seed(31337)</span>
</span><span class="line" data-line="128">
</span><span class="line" data-line="129"><span style="color: #565f89;"># Draw from a standard Gaussian 9 times</span>
</span><span class="line" data-line="130"><span style="color: #7aa2f7;">rnorm</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">9</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="131"><span style="color: #565f89;"># [1]  0.07528471  1.03499859  1.34809556 -0.82356087  0.61638975 -1.88757271</span>
</span><span class="line" data-line="132"><span style="color: #565f89;"># [7] -0.59975593  0.57629164  1.08455362</span>
</span><span class="line" data-line="133">
</span><span class="line" data-line="134">
</span><span class="line" data-line="135">
</span><span class="line" data-line="136"><span style="color: #565f89;">##################################################</span>
</span><span class="line" data-line="137"><span style="color: #565f89;"># Data types and basic arithmetic</span>
</span><span class="line" data-line="138"><span style="color: #565f89;">##################################################</span>
</span><span class="line" data-line="139">
</span><span class="line" data-line="140"><span style="color: #565f89;"># Now for the programming-oriented part of the tutorial.</span>
</span><span class="line" data-line="141"><span style="color: #565f89;"># In this section you will meet the important data types of R:</span>
</span><span class="line" data-line="142"><span style="color: #565f89;"># integers, numerics, characters, logicals, and factors.</span>
</span><span class="line" data-line="143"><span style="color: #565f89;"># There are others, but these are the bare minimum you need to</span>
</span><span class="line" data-line="144"><span style="color: #565f89;"># get started.</span>
</span><span class="line" data-line="145">
</span><span class="line" data-line="146"><span style="color: #565f89;"># INTEGERS</span>
</span><span class="line" data-line="147"><span style="color: #565f89;"># Long-storage integers are written with L</span>
</span><span class="line" data-line="148"><span style="color: #ff9e64;">5L</span>          <span style="color: #565f89;"># 5</span>
</span><span class="line" data-line="149"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">5L</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># &quot;integer&quot;</span>
</span><span class="line" data-line="150"><span style="color: #565f89;"># (Try ?class for more information on the class() function.)</span>
</span><span class="line" data-line="151"><span style="color: #565f89;"># In R, every single value, like 5L, is considered a vector of length 1</span>
</span><span class="line" data-line="152"><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">5L</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># 1</span>
</span><span class="line" data-line="153"><span style="color: #565f89;"># You can have an integer vector with length &gt; 1 too:</span>
</span><span class="line" data-line="154"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">4L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">8L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3L</span><span style="color: #a9b1d6;">)</span>          <span style="color: #565f89;"># 4 5 8 3</span>
</span><span class="line" data-line="155"><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">4L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">8L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3L</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># 4</span>
</span><span class="line" data-line="156"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">4L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">8L</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3L</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># &quot;integer&quot;</span>
</span><span class="line" data-line="157">
</span><span class="line" data-line="158"><span style="color: #565f89;"># NUMERICS</span>
</span><span class="line" data-line="159"><span style="color: #565f89;"># A &quot;numeric&quot; is a double-precision floating-point number</span>
</span><span class="line" data-line="160"><span style="color: #ff9e64;">5</span>           <span style="color: #565f89;"># 5</span>
</span><span class="line" data-line="161"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">5</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># &quot;numeric&quot;</span>
</span><span class="line" data-line="162"><span style="color: #565f89;"># Again, everything in R is a vector;</span>
</span><span class="line" data-line="163"><span style="color: #565f89;"># you can make a numeric vector with more than one element</span>
</span><span class="line" data-line="164"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># 3 3 3 2 2 1</span>
</span><span class="line" data-line="165"><span style="color: #565f89;"># You can use scientific notation too</span>
</span><span class="line" data-line="166"><span style="color: #ff9e64;">5e4</span>         <span style="color: #565f89;"># 50000</span>
</span><span class="line" data-line="167"><span style="color: #ff9e64;">6.02e23</span>     <span style="color: #565f89;"># Avogadro&#39;s number</span>
</span><span class="line" data-line="168"><span style="color: #ff9e64;">1.6e-35</span>     <span style="color: #565f89;"># Planck length</span>
</span><span class="line" data-line="169"><span style="color: #565f89;"># You can also have infinitely large or small numbers</span>
</span><span class="line" data-line="170"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #2ac3de;">Inf</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># &quot;numeric&quot;</span>
</span><span class="line" data-line="171"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #89ddff;">-</span><span style="color: #2ac3de;">Inf</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># &quot;numeric&quot;</span>
</span><span class="line" data-line="172"><span style="color: #565f89;"># You might use &quot;Inf&quot;, for example, in integrate(dnorm, 3, Inf);</span>
</span><span class="line" data-line="173"><span style="color: #565f89;"># this obviates Z-score tables.</span>
</span><span class="line" data-line="174">
</span><span class="line" data-line="175"><span style="color: #565f89;"># BASIC ARITHMETIC</span>
</span><span class="line" data-line="176"><span style="color: #565f89;"># You can do arithmetic with numbers</span>
</span><span class="line" data-line="177"><span style="color: #565f89;"># Doing arithmetic on a mix of integers and numerics gives you another numeric</span>
</span><span class="line" data-line="178"><span style="color: #ff9e64;">10L</span> <span style="color: #89ddff;">+</span> <span style="color: #ff9e64;">66L</span>   <span style="color: #565f89;"># 76    # integer plus integer gives integer</span>
</span><span class="line" data-line="179"><span style="color: #ff9e64;">53.2</span> <span style="color: #89ddff;">-</span> <span style="color: #ff9e64;">4</span>    <span style="color: #565f89;"># 49.2  # numeric minus numeric gives numeric</span>
</span><span class="line" data-line="180"><span style="color: #ff9e64;">2.0</span> <span style="color: #89ddff;">*</span> <span style="color: #ff9e64;">2L</span>    <span style="color: #565f89;"># 4     # numeric times integer gives numeric</span>
</span><span class="line" data-line="181"><span style="color: #ff9e64;">3L</span> <span style="color: #89ddff;">/</span> <span style="color: #ff9e64;">4</span>      <span style="color: #565f89;"># 0.75  # integer over numeric gives numeric</span>
</span><span class="line" data-line="182"><span style="color: #ff9e64;">3</span> <span style="color: #89ddff;">%%</span> <span style="color: #ff9e64;">2</span>      <span style="color: #565f89;"># 1     # the remainder of two numerics is another numeric</span>
</span><span class="line" data-line="183"><span style="color: #565f89;"># Illegal arithmetic yields you a &quot;not-a-number&quot;:</span>
</span><span class="line" data-line="184"><span style="color: #ff9e64;">0</span> <span style="color: #89ddff;">/</span> <span style="color: #ff9e64;">0</span>       <span style="color: #565f89;"># NaN</span>
</span><span class="line" data-line="185"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #2ac3de;">NaN</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># &quot;numeric&quot;</span>
</span><span class="line" data-line="186"><span style="color: #565f89;"># You can do arithmetic on two vectors with length greater than 1,</span>
</span><span class="line" data-line="187"><span style="color: #565f89;"># so long as the larger vector&#39;s length is an integer multiple of the smaller</span>
</span><span class="line" data-line="188"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">+</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">)</span>     <span style="color: #565f89;"># 2 4 6</span>
</span><span class="line" data-line="189"><span style="color: #565f89;"># Since a single number is a vector of length one, scalars are applied </span>
</span><span class="line" data-line="190"><span style="color: #565f89;"># elementwise to vectors</span>
</span><span class="line" data-line="191"><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">4</span> <span style="color: #89ddff;">*</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">-</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">/</span> <span style="color: #ff9e64;">2</span>    <span style="color: #565f89;"># 1 3 5</span>
</span><span class="line" data-line="192"><span style="color: #565f89;"># Except for scalars, use caution when performing arithmetic on vectors with </span>
</span><span class="line" data-line="193"><span style="color: #565f89;"># different lengths. Although it can be done, </span>
</span><span class="line" data-line="194"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">*</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span>               <span style="color: #565f89;"># 1 4 3 2 2 6</span>
</span><span class="line" data-line="195"><span style="color: #565f89;"># Matching lengths is better practice and easier to read most times</span>
</span><span class="line" data-line="196"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">*</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># 1 4 3 2 2 6</span>
</span><span class="line" data-line="197">
</span><span class="line" data-line="198"><span style="color: #565f89;"># CHARACTERS</span>
</span><span class="line" data-line="199"><span style="color: #565f89;"># There&#39;s no difference between strings and characters in R</span>
</span><span class="line" data-line="200"><span style="color: #9ece6a;">&quot;Horatio&quot;</span>           <span style="color: #565f89;"># &quot;Horatio&quot;</span>
</span><span class="line" data-line="201"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Horatio&quot;</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># &quot;character&quot;</span>
</span><span class="line" data-line="202"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;H&quot;</span><span style="color: #a9b1d6;">)</span>          <span style="color: #565f89;"># &quot;character&quot;</span>
</span><span class="line" data-line="203"><span style="color: #565f89;"># Those were both character vectors of length 1</span>
</span><span class="line" data-line="204"><span style="color: #565f89;"># Here is a longer one:</span>
</span><span class="line" data-line="205"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;alef&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;bet&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;gimmel&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;dalet&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;he&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="206"><span style="color: #565f89;"># =&gt; &quot;alef&quot;   &quot;bet&quot;    &quot;gimmel&quot; &quot;dalet&quot;  &quot;he&quot;</span>
</span><span class="line" data-line="207"><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Call&quot;</span><span style="color: #89ddff;">,</span><span style="color: #9ece6a;">&quot;me&quot;</span><span style="color: #89ddff;">,</span><span style="color: #9ece6a;">&quot;Ishmael&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># 3</span>
</span><span class="line" data-line="208"><span style="color: #565f89;"># You can do regex operations on character vectors:</span>
</span><span class="line" data-line="209"><span style="color: #7aa2f7;">substr</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Fortuna multis dat nimis, nulli satis.&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">9</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">15</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># &quot;multis &quot;</span>
</span><span class="line" data-line="210"><span style="color: #7aa2f7;">gsub</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&#39;u&#39;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&#39;ø&#39;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Fortuna multis dat nimis, nulli satis.&quot;</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># &quot;Fortøna møltis dat nimis, nølli satis.&quot;</span>
</span><span class="line" data-line="211"><span style="color: #565f89;"># R has several built-in character vectors:</span>
</span><span class="line" data-line="212"><span style="color: #c0caf5;">letters</span>
</span><span class="line" data-line="213"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="214"><span style="color: #565f89;">#  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;</span>
</span><span class="line" data-line="215"><span style="color: #565f89;"># [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</span>
</span><span class="line" data-line="216"><span style="color: #c0caf5;">month.abb</span> <span style="color: #565f89;"># &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot; &quot;Dec&quot;</span>
</span><span class="line" data-line="217">
</span><span class="line" data-line="218"><span style="color: #565f89;"># LOGICALS</span>
</span><span class="line" data-line="219"><span style="color: #565f89;"># In R, a &quot;logical&quot; is a boolean</span>
</span><span class="line" data-line="220">                
</span><span class="line" data-line="221"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">TRUE</span><span style="color: #a9b1d6;">)</span>     <span style="color: #565f89;"># &quot;logical&quot;</span>
</span><span class="line" data-line="222"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">FALSE</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># &quot;logical&quot;</span>
</span><span class="line" data-line="223"><span style="color: #565f89;"># Their behavior is normal</span>
</span><span class="line" data-line="224"><span style="color: #ff9e64;">TRUE</span> <span style="color: #89ddff;">==</span> <span style="color: #ff9e64;">TRUE</span>    <span style="color: #565f89;"># TRUE</span>
</span><span class="line" data-line="225"><span style="color: #ff9e64;">TRUE</span> <span style="color: #89ddff;">==</span> <span style="color: #ff9e64;">FALSE</span>   <span style="color: #565f89;"># FALSE</span>
</span><span class="line" data-line="226"><span style="color: #ff9e64;">FALSE</span> <span style="color: #89ddff;">!=</span> <span style="color: #ff9e64;">FALSE</span>  <span style="color: #565f89;"># FALSE</span>
</span><span class="line" data-line="227"><span style="color: #ff9e64;">FALSE</span> <span style="color: #89ddff;">!=</span> <span style="color: #ff9e64;">TRUE</span>   <span style="color: #565f89;"># TRUE</span>
</span><span class="line" data-line="228"><span style="color: #565f89;"># Missing data (NA) is logical, too</span>
</span><span class="line" data-line="229"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #2ac3de;">NA</span><span style="color: #a9b1d6;">)</span>       <span style="color: #565f89;"># &quot;logical&quot;</span>
</span><span class="line" data-line="230"><span style="color: #565f89;"># Use | and &amp; for logic operations.</span>
</span><span class="line" data-line="231"><span style="color: #565f89;"># OR</span>
</span><span class="line" data-line="232"><span style="color: #ff9e64;">TRUE</span> <span style="color: #89ddff;">|</span> <span style="color: #ff9e64;">FALSE</span>    <span style="color: #565f89;"># TRUE</span>
</span><span class="line" data-line="233"><span style="color: #565f89;"># AND</span>
</span><span class="line" data-line="234"><span style="color: #ff9e64;">TRUE</span> <span style="color: #89ddff;">&amp;</span> <span style="color: #ff9e64;">FALSE</span>    <span style="color: #565f89;"># FALSE</span>
</span><span class="line" data-line="235"><span style="color: #565f89;"># Applying | and &amp; to vectors returns elementwise logic operations</span>
</span><span class="line" data-line="236"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">TRUE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">FALSE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">FALSE</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">|</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">FALSE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">TRUE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">FALSE</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># TRUE TRUE FALSE</span>
</span><span class="line" data-line="237"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">TRUE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">FALSE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">TRUE</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">&amp;</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">FALSE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">TRUE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">TRUE</span><span style="color: #a9b1d6;">)</span>     <span style="color: #565f89;"># FALSE FALSE TRUE</span>
</span><span class="line" data-line="238"><span style="color: #565f89;"># You can test if x is TRUE</span>
</span><span class="line" data-line="239"><span style="color: #7aa2f7;">isTRUE</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">TRUE</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># TRUE</span>
</span><span class="line" data-line="240"><span style="color: #565f89;"># Here we get a logical vector with many elements:</span>
</span><span class="line" data-line="241"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Z&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;o&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;r&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;r&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;o&quot;</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">==</span> <span style="color: #9ece6a;">&quot;Zorro&quot;</span>   <span style="color: #565f89;"># FALSE FALSE FALSE FALSE FALSE</span>
</span><span class="line" data-line="242"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Z&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;o&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;r&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;r&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;o&quot;</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">==</span> <span style="color: #9ece6a;">&quot;Z&quot;</span>       <span style="color: #565f89;"># TRUE FALSE FALSE FALSE FALSE</span>
</span><span class="line" data-line="243">
</span><span class="line" data-line="244"><span style="color: #565f89;"># FACTORS</span>
</span><span class="line" data-line="245"><span style="color: #565f89;"># The factor class is for categorical data</span>
</span><span class="line" data-line="246"><span style="color: #565f89;"># Factors can be ordered (like grade levels) or unordered (like colors)</span>
</span><span class="line" data-line="247"><span style="color: #7aa2f7;">factor</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;blue&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;blue&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;green&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #2ac3de;">NA</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;blue&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="248"><span style="color: #565f89;">#  blue blue green   &lt;NA&gt;   blue</span>
</span><span class="line" data-line="249"><span style="color: #565f89;"># Levels: blue green</span>
</span><span class="line" data-line="250"><span style="color: #565f89;"># The &quot;levels&quot; are the values the categorical data can take</span>
</span><span class="line" data-line="251"><span style="color: #565f89;"># Note that missing data does not enter the levels</span>
</span><span class="line" data-line="252"><span style="color: #7aa2f7;">levels</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">factor</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;green&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;green&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;blue&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #2ac3de;">NA</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;blue&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># &quot;blue&quot; &quot;green&quot;</span>
</span><span class="line" data-line="253"><span style="color: #565f89;"># If a factor vector has length 1, its levels will have length 1, too</span>
</span><span class="line" data-line="254"><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">factor</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;green&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>         <span style="color: #565f89;"># 1</span>
</span><span class="line" data-line="255"><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">levels</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">factor</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;green&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># 1</span>
</span><span class="line" data-line="256"><span style="color: #565f89;"># Factors are commonly seen in data frames, a data structure we will cover later</span>
</span><span class="line" data-line="257"><span style="color: #7aa2f7;">data</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">infert</span><span style="color: #a9b1d6;">)</span>             <span style="color: #565f89;"># &quot;Infertility after Spontaneous and Induced Abortion&quot;</span>
</span><span class="line" data-line="258"><span style="color: #7aa2f7;">levels</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">infert</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">education</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># &quot;0-5yrs&quot;  &quot;6-11yrs&quot; &quot;12+ yrs&quot;</span>
</span><span class="line" data-line="259">
</span><span class="line" data-line="260"><span style="color: #565f89;"># NULL</span>
</span><span class="line" data-line="261"><span style="color: #565f89;"># &quot;NULL&quot; is a weird one; use it to &quot;blank out&quot; a vector</span>
</span><span class="line" data-line="262"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #2ac3de;">NULL</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># NULL</span>
</span><span class="line" data-line="263"><span style="color: #c0caf5;">parakeet</span> <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;beak&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;feathers&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;wings&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;eyes&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="264"><span style="color: #c0caf5;">parakeet</span> <span style="color: #565f89;"># &quot;beak&quot;     &quot;feathers&quot; &quot;wings&quot;    &quot;eyes&quot;</span>
</span><span class="line" data-line="265"><span style="color: #c0caf5;">parakeet</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #2ac3de;">NULL</span>
</span><span class="line" data-line="266"><span style="color: #c0caf5;">parakeet</span> <span style="color: #565f89;"># NULL</span>
</span><span class="line" data-line="267">
</span><span class="line" data-line="268"><span style="color: #565f89;"># TYPE COERCION</span>
</span><span class="line" data-line="269"><span style="color: #565f89;"># Type-coercion is when you force a value to take on a different type</span>
</span><span class="line" data-line="270"><span style="color: #7aa2f7;">as.character</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">6</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">8</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># &quot;6&quot; &quot;8&quot;</span>
</span><span class="line" data-line="271"><span style="color: #7aa2f7;">as.logical</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span><span style="color: #ff9e64;">0</span><span style="color: #89ddff;">,</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span><span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># TRUE FALSE  TRUE  TRUE</span>
</span><span class="line" data-line="272"><span style="color: #565f89;"># If you put elements of different types into a vector, weird coercions happen:</span>
</span><span class="line" data-line="273"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">TRUE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span>          <span style="color: #565f89;"># 1 4</span>
</span><span class="line" data-line="274"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;dog&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">TRUE</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># &quot;dog&quot;  &quot;TRUE&quot; &quot;4&quot;</span>
</span><span class="line" data-line="275"><span style="color: #7aa2f7;">as.numeric</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Bilbo&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="276"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="277"><span style="color: #565f89;"># [1] NA</span>
</span><span class="line" data-line="278"><span style="color: #565f89;"># Warning message:</span>
</span><span class="line" data-line="279"><span style="color: #565f89;"># NAs introduced by coercion</span>
</span><span class="line" data-line="280">
</span><span class="line" data-line="281"><span style="color: #565f89;"># Also note: those were just the basic data types</span>
</span><span class="line" data-line="282"><span style="color: #565f89;"># There are many more data types, such as for dates, time series, etc.</span>
</span><span class="line" data-line="283">
</span><span class="line" data-line="284">
</span><span class="line" data-line="285">
</span><span class="line" data-line="286"><span style="color: #565f89;">##################################################</span>
</span><span class="line" data-line="287"><span style="color: #565f89;"># Variables, loops, if/else</span>
</span><span class="line" data-line="288"><span style="color: #565f89;">##################################################</span>
</span><span class="line" data-line="289">
</span><span class="line" data-line="290"><span style="color: #565f89;"># A variable is like a box you store a value in for later use.</span>
</span><span class="line" data-line="291"><span style="color: #565f89;"># We call this &quot;assigning&quot; the value to the variable.</span>
</span><span class="line" data-line="292"><span style="color: #565f89;"># Having variables lets us write loops, functions, and if/else statements</span>
</span><span class="line" data-line="293">
</span><span class="line" data-line="294"><span style="color: #565f89;"># VARIABLES</span>
</span><span class="line" data-line="295"><span style="color: #565f89;"># Lots of way to assign stuff:</span>
</span><span class="line" data-line="296"><span style="color: #c0caf5;">x</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">5</span>       <span style="color: #565f89;"># this is possible</span>
</span><span class="line" data-line="297"><span style="color: #c0caf5;">y</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #9ece6a;">&quot;1&quot;</span>    <span style="color: #565f89;"># this is preferred traditionally</span>
</span><span class="line" data-line="298"><span style="color: #ff9e64;">TRUE</span> <span style="color: #89ddff;">-&gt;</span> <span style="color: #c0caf5;">z</span>   <span style="color: #565f89;"># this works but is weird</span>
</span><span class="line" data-line="299"><span style="color: #565f89;"># Refer to the Internet for the behaviors and preferences about them.</span>
</span><span class="line" data-line="300">
</span><span class="line" data-line="301"><span style="color: #565f89;"># LOOPS</span>
</span><span class="line" data-line="302"><span style="color: #565f89;"># We&#39;ve got for loops</span>
</span><span class="line" data-line="303"><span style="color: #bb9af7;">for</span> <span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">i</span> <span style="color: #bb9af7;">in</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">:</span><span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span> <span style="color: #a9b1d6;">{</span>
</span><span class="line" data-line="304">	<span style="color: #7aa2f7;">print</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">i</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="305"><span style="color: #a9b1d6;">}</span>
</span><span class="line" data-line="306"><span style="color: #565f89;"># We&#39;ve got while loops</span>
</span><span class="line" data-line="307"><span style="color: #c0caf5;">a</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #ff9e64;">10</span>
</span><span class="line" data-line="308"><span style="color: #bb9af7;">while</span> <span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">a</span> <span style="color: #89ddff;">&gt;</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span> <span style="color: #a9b1d6;">{</span>
</span><span class="line" data-line="309">	<span style="color: #7aa2f7;">cat</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">a</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;...&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">sep</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="310">	<span style="color: #c0caf5;">a</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #c0caf5;">a</span> <span style="color: #89ddff;">-</span> <span style="color: #ff9e64;">1</span>
</span><span class="line" data-line="311"><span style="color: #a9b1d6;">}</span>
</span><span class="line" data-line="312"><span style="color: #565f89;"># Keep in mind that for and while loops run slowly in R</span>
</span><span class="line" data-line="313"><span style="color: #565f89;"># Operations on entire vectors (i.e. a whole row, a whole column)</span>
</span><span class="line" data-line="314"><span style="color: #565f89;"># or apply()-type functions (we&#39;ll discuss later) are preferred</span>
</span><span class="line" data-line="315">
</span><span class="line" data-line="316"><span style="color: #565f89;"># IF/ELSE</span>
</span><span class="line" data-line="317"><span style="color: #565f89;"># Again, pretty standard</span>
</span><span class="line" data-line="318"><span style="color: #bb9af7;">if</span> <span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">4</span> <span style="color: #89ddff;">&gt;</span> <span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">)</span> <span style="color: #a9b1d6;">{</span>
</span><span class="line" data-line="319">	<span style="color: #7aa2f7;">print</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;4 is greater than 3&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="320"><span style="color: #a9b1d6;">}</span> <span style="color: #bb9af7;">else</span> <span style="color: #a9b1d6;">{</span>
</span><span class="line" data-line="321">	<span style="color: #7aa2f7;">print</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;4 is not greater than 3&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="322"><span style="color: #a9b1d6;">}</span>
</span><span class="line" data-line="323"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="324"><span style="color: #565f89;"># [1] &quot;4 is greater than 3&quot;</span>
</span><span class="line" data-line="325">
</span><span class="line" data-line="326"><span style="color: #565f89;"># FUNCTIONS</span>
</span><span class="line" data-line="327"><span style="color: #565f89;"># Defined like so:</span>
</span><span class="line" data-line="328"><span style="color: #7aa2f7;">jiggle</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #bb9af7;">function</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">x</span><span style="color: #a9b1d6;">)</span> <span style="color: #a9b1d6;">{</span>
</span><span class="line" data-line="329">	<span style="color: #c0caf5;">x</span> <span style="color: #89ddff;">=</span> <span style="color: #c0caf5;">x</span> <span style="color: #89ddff;">+</span> <span style="color: #7aa2f7;">rnorm</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">sd</span><span style="color: #89ddff;">=</span><span style="color: #ff9e64;">.1</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># add in a bit of (controlled) noise</span>
</span><span class="line" data-line="330">	<span style="color: #9d7cd8;">return</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">x</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="331"><span style="color: #a9b1d6;">}</span>
</span><span class="line" data-line="332"><span style="color: #565f89;"># Called like any other R function:</span>
</span><span class="line" data-line="333"><span style="color: #7aa2f7;">jiggle</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">5</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># 5±ε. After set.seed(2716057), jiggle(5)==5.005043</span>
</span><span class="line" data-line="334">
</span><span class="line" data-line="335">
</span><span class="line" data-line="336">
</span><span class="line" data-line="337"><span style="color: #565f89;">###########################################################################</span>
</span><span class="line" data-line="338"><span style="color: #565f89;"># Data structures: Vectors, matrices, data frames, and arrays</span>
</span><span class="line" data-line="339"><span style="color: #565f89;">###########################################################################</span>
</span><span class="line" data-line="340">
</span><span class="line" data-line="341"><span style="color: #565f89;"># ONE-DIMENSIONAL</span>
</span><span class="line" data-line="342">
</span><span class="line" data-line="343"><span style="color: #565f89;"># Let&#39;s start from the very beginning, and with something you already know: vectors.</span>
</span><span class="line" data-line="344"><span style="color: #c0caf5;">vec</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">8</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">9</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">10</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">11</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="345"><span style="color: #c0caf5;">vec</span>     <span style="color: #565f89;">#  8  9 10 11</span>
</span><span class="line" data-line="346"><span style="color: #565f89;"># We ask for specific elements by subsetting with square brackets</span>
</span><span class="line" data-line="347"><span style="color: #565f89;"># (Note that R starts counting from 1)</span>
</span><span class="line" data-line="348"><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">]</span>          <span style="color: #565f89;"># 8</span>
</span><span class="line" data-line="349"><span style="color: #c0caf5;">letters</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">18</span><span style="color: #a9b1d6;">]</span>     <span style="color: #565f89;"># &quot;r&quot;</span>
</span><span class="line" data-line="350"><span style="color: #c0caf5;">LETTERS</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">13</span><span style="color: #a9b1d6;">]</span>     <span style="color: #565f89;"># &quot;M&quot;</span>
</span><span class="line" data-line="351"><span style="color: #c0caf5;">month.name</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">9</span><span style="color: #a9b1d6;">]</span>   <span style="color: #565f89;"># &quot;September&quot;</span>
</span><span class="line" data-line="352"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">6</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">8</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">7</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">0</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">9</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">]</span> <span style="color: #565f89;"># 7</span>
</span><span class="line" data-line="353"><span style="color: #565f89;"># We can also search for the indices of specific components,</span>
</span><span class="line" data-line="354"><span style="color: #7aa2f7;">which</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span> <span style="color: #89ddff;">%%</span> <span style="color: #ff9e64;">2</span> <span style="color: #89ddff;">==</span> <span style="color: #ff9e64;">0</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># 1 3</span>
</span><span class="line" data-line="355"><span style="color: #565f89;"># grab just the first or last few entries in the vector,</span>
</span><span class="line" data-line="356"><span style="color: #7aa2f7;">head</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># 8</span>
</span><span class="line" data-line="357"><span style="color: #7aa2f7;">tail</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># 10 11</span>
</span><span class="line" data-line="358"><span style="color: #565f89;"># or figure out if a certain value is in the vector</span>
</span><span class="line" data-line="359"><span style="color: #7aa2f7;">any</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span> <span style="color: #89ddff;">==</span> <span style="color: #ff9e64;">10</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># TRUE</span>
</span><span class="line" data-line="360"><span style="color: #565f89;"># If an index &quot;goes over&quot; you&#39;ll get NA:</span>
</span><span class="line" data-line="361"><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">6</span><span style="color: #a9b1d6;">]</span>      <span style="color: #565f89;"># NA</span>
</span><span class="line" data-line="362"><span style="color: #565f89;"># You can find the length of your vector with length()</span>
</span><span class="line" data-line="363"><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># 4</span>
</span><span class="line" data-line="364"><span style="color: #565f89;"># You can perform operations on entire vectors or subsets of vectors</span>
</span><span class="line" data-line="365"><span style="color: #c0caf5;">vec</span> <span style="color: #89ddff;">*</span> <span style="color: #ff9e64;">4</span>             <span style="color: #565f89;"># 32 36 40 44</span>
</span><span class="line" data-line="366"><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">2</span><span style="color: #89ddff;">:</span><span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">]</span> <span style="color: #89ddff;">*</span> <span style="color: #ff9e64;">5</span>        <span style="color: #565f89;"># 45 50</span>
</span><span class="line" data-line="367"><span style="color: #7aa2f7;">any</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">2</span><span style="color: #89ddff;">:</span><span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">]</span> <span style="color: #89ddff;">==</span> <span style="color: #ff9e64;">8</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># FALSE</span>
</span><span class="line" data-line="368"><span style="color: #565f89;"># and R has many built-in functions to summarize vectors</span>
</span><span class="line" data-line="369"><span style="color: #7aa2f7;">mean</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># 9.5</span>
</span><span class="line" data-line="370"><span style="color: #7aa2f7;">var</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># 1.666667</span>
</span><span class="line" data-line="371"><span style="color: #7aa2f7;">sd</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">)</span>     <span style="color: #565f89;"># 1.290994</span>
</span><span class="line" data-line="372"><span style="color: #e0af68;">max</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># 11</span>
</span><span class="line" data-line="373"><span style="color: #e0af68;">min</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># 8</span>
</span><span class="line" data-line="374"><span style="color: #7aa2f7;">sum</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">vec</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># 38</span>
</span><span class="line" data-line="375"><span style="color: #565f89;"># Some more nice built-ins:</span>
</span><span class="line" data-line="376"><span style="color: #ff9e64;">5</span><span style="color: #89ddff;">:</span><span style="color: #ff9e64;">15</span>        <span style="color: #565f89;"># 5  6  7  8  9 10 11 12 13 14 15</span>
</span><span class="line" data-line="377"><span style="color: #7aa2f7;">seq</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">from</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">0</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">to</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">31337</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">by</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">1337</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="378"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="379"><span style="color: #565f89;">#  [1]     0  1337  2674  4011  5348  6685  8022  9359 10696 12033 13370 14707</span>
</span><span class="line" data-line="380"><span style="color: #565f89;"># [13] 16044 17381 18718 20055 21392 22729 24066 25403 26740 28077 29414 30751</span>
</span><span class="line" data-line="381">
</span><span class="line" data-line="382"><span style="color: #565f89;"># TWO-DIMENSIONAL (ALL ONE CLASS)</span>
</span><span class="line" data-line="383">
</span><span class="line" data-line="384"><span style="color: #565f89;"># You can make a matrix out of entries all of the same type like so:</span>
</span><span class="line" data-line="385"><span style="color: #c0caf5;">mat</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">matrix</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">nrow</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">ncol</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">6</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="386"><span style="color: #c0caf5;">mat</span>
</span><span class="line" data-line="387"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="388"><span style="color: #565f89;">#      [,1] [,2]</span>
</span><span class="line" data-line="389"><span style="color: #565f89;"># [1,]    1    4</span>
</span><span class="line" data-line="390"><span style="color: #565f89;"># [2,]    2    5</span>
</span><span class="line" data-line="391"><span style="color: #565f89;"># [3,]    3    6</span>
</span><span class="line" data-line="392"><span style="color: #565f89;"># Unlike a vector, the class of a matrix is &quot;matrix&quot;, no matter what&#39;s in it</span>
</span><span class="line" data-line="393"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">mat</span><span style="color: #a9b1d6;">)</span>      <span style="color: #565f89;"># &quot;matrix&quot; &quot;array&quot;</span>
</span><span class="line" data-line="394"><span style="color: #565f89;"># Ask for the first row</span>
</span><span class="line" data-line="395"><span style="color: #c0caf5;">mat</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #a9b1d6;">]</span>        <span style="color: #565f89;"># 1 4</span>
</span><span class="line" data-line="396"><span style="color: #565f89;"># Perform operation on the first column</span>
</span><span class="line" data-line="397"><span style="color: #ff9e64;">3</span> <span style="color: #89ddff;">*</span> <span style="color: #c0caf5;">mat</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">]</span>    <span style="color: #565f89;"># 3 6 9</span>
</span><span class="line" data-line="398"><span style="color: #565f89;"># Ask for a specific cell</span>
</span><span class="line" data-line="399"><span style="color: #c0caf5;">mat</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">]</span>       <span style="color: #565f89;"># 6</span>
</span><span class="line" data-line="400">
</span><span class="line" data-line="401"><span style="color: #565f89;"># Transpose the whole matrix</span>
</span><span class="line" data-line="402"><span style="color: #7aa2f7;">t</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">mat</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="403"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="404"><span style="color: #565f89;">#      [,1] [,2] [,3]</span>
</span><span class="line" data-line="405"><span style="color: #565f89;"># [1,]    1    2    3</span>
</span><span class="line" data-line="406"><span style="color: #565f89;"># [2,]    4    5    6</span>
</span><span class="line" data-line="407">
</span><span class="line" data-line="408"><span style="color: #565f89;"># Matrix multiplication</span>
</span><span class="line" data-line="409"><span style="color: #c0caf5;">mat</span> <span style="color: #89ddff;">%*%</span> <span style="color: #7aa2f7;">t</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">mat</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="410"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="411"><span style="color: #565f89;">#      [,1] [,2] [,3]</span>
</span><span class="line" data-line="412"><span style="color: #565f89;"># [1,]   17   22   27</span>
</span><span class="line" data-line="413"><span style="color: #565f89;"># [2,]   22   29   36</span>
</span><span class="line" data-line="414"><span style="color: #565f89;"># [3,]   27   36   45</span>
</span><span class="line" data-line="415">
</span><span class="line" data-line="416"><span style="color: #565f89;"># cbind() sticks vectors together column-wise to make a matrix</span>
</span><span class="line" data-line="417"><span style="color: #c0caf5;">mat2</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">cbind</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">:</span><span style="color: #ff9e64;">4</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;dog&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;cat&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;bird&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;dog&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="418"><span style="color: #c0caf5;">mat2</span>
</span><span class="line" data-line="419"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="420"><span style="color: #565f89;">#      [,1] [,2]</span>
</span><span class="line" data-line="421"><span style="color: #565f89;"># [1,] &quot;1&quot;  &quot;dog&quot;</span>
</span><span class="line" data-line="422"><span style="color: #565f89;"># [2,] &quot;2&quot;  &quot;cat&quot;</span>
</span><span class="line" data-line="423"><span style="color: #565f89;"># [3,] &quot;3&quot;  &quot;bird&quot;</span>
</span><span class="line" data-line="424"><span style="color: #565f89;"># [4,] &quot;4&quot;  &quot;dog&quot;</span>
</span><span class="line" data-line="425"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">mat2</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># matrix</span>
</span><span class="line" data-line="426"><span style="color: #565f89;"># Again, note what happened!</span>
</span><span class="line" data-line="427"><span style="color: #565f89;"># Because matrices must contain entries all of the same class,</span>
</span><span class="line" data-line="428"><span style="color: #565f89;"># everything got converted to the character class</span>
</span><span class="line" data-line="429"><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">mat2</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">]</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">mat2</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">]</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="430">
</span><span class="line" data-line="431"><span style="color: #565f89;"># rbind() sticks vectors together row-wise to make a matrix</span>
</span><span class="line" data-line="432"><span style="color: #c0caf5;">mat3</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">rbind</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">6</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">7</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">0</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="433"><span style="color: #c0caf5;">mat3</span>
</span><span class="line" data-line="434"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="435"><span style="color: #565f89;">#      [,1] [,2] [,3] [,4]</span>
</span><span class="line" data-line="436"><span style="color: #565f89;"># [1,]    1    2    4    5</span>
</span><span class="line" data-line="437"><span style="color: #565f89;"># [2,]    6    7    0    4</span>
</span><span class="line" data-line="438"><span style="color: #565f89;"># Ah, everything of the same class. No coercions. Much better.</span>
</span><span class="line" data-line="439">
</span><span class="line" data-line="440"><span style="color: #565f89;"># TWO-DIMENSIONAL (DIFFERENT CLASSES)</span>
</span><span class="line" data-line="441">
</span><span class="line" data-line="442"><span style="color: #565f89;"># For columns of different types, use a data frame</span>
</span><span class="line" data-line="443"><span style="color: #565f89;"># This data structure is so useful for statistical programming,</span>
</span><span class="line" data-line="444"><span style="color: #565f89;"># a version of it was added to Python in the package &quot;pandas&quot;.</span>
</span><span class="line" data-line="445">
</span><span class="line" data-line="446"><span style="color: #c0caf5;">students</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">data.frame</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Cedric&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Fred&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;George&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Cho&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Draco&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Ginny&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span>
</span><span class="line" data-line="447">                       <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span>       <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span>      <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span>        <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span>     <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span>       <span style="color: #ff9e64;">0</span><span style="color: #89ddff;">,</span>      <span style="color: #89ddff;">-</span><span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span>
</span><span class="line" data-line="448">                       <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span>     <span style="color: #9ece6a;">&quot;H&quot;</span><span style="color: #89ddff;">,</span>    <span style="color: #9ece6a;">&quot;G&quot;</span><span style="color: #89ddff;">,</span>      <span style="color: #9ece6a;">&quot;G&quot;</span><span style="color: #89ddff;">,</span>   <span style="color: #9ece6a;">&quot;R&quot;</span><span style="color: #89ddff;">,</span>     <span style="color: #9ece6a;">&quot;S&quot;</span><span style="color: #89ddff;">,</span>     <span style="color: #9ece6a;">&quot;G&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="449"><span style="color: #7aa2f7;">names</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">)</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;name&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;year&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;house&quot;</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># name the columns</span>
</span><span class="line" data-line="450"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># &quot;data.frame&quot;</span>
</span><span class="line" data-line="451"><span style="color: #c0caf5;">students</span>
</span><span class="line" data-line="452"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="453"><span style="color: #565f89;">#     name year house</span>
</span><span class="line" data-line="454"><span style="color: #565f89;"># 1 Cedric    3     H</span>
</span><span class="line" data-line="455"><span style="color: #565f89;"># 2   Fred    2     G</span>
</span><span class="line" data-line="456"><span style="color: #565f89;"># 3 George    2     G</span>
</span><span class="line" data-line="457"><span style="color: #565f89;"># 4    Cho    1     R</span>
</span><span class="line" data-line="458"><span style="color: #565f89;"># 5  Draco    0     S</span>
</span><span class="line" data-line="459"><span style="color: #565f89;"># 6  Ginny   -1     G</span>
</span><span class="line" data-line="460"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">year</span><span style="color: #a9b1d6;">)</span>    <span style="color: #565f89;"># &quot;numeric&quot;</span>
</span><span class="line" data-line="461"><span style="color: #7aa2f7;">class</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span><span style="color: #ff9e64;">3</span><span style="color: #a9b1d6;">]</span><span style="color: #a9b1d6;">)</span>     <span style="color: #565f89;"># &quot;factor&quot;</span>
</span><span class="line" data-line="462"><span style="color: #565f89;"># find the dimensions</span>
</span><span class="line" data-line="463"><span style="color: #e0af68;">nrow</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># 6</span>
</span><span class="line" data-line="464"><span style="color: #e0af68;">ncol</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">)</span>  <span style="color: #565f89;"># 3</span>
</span><span class="line" data-line="465"><span style="color: #7aa2f7;">dim</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">)</span>   <span style="color: #565f89;"># 6 3</span>
</span><span class="line" data-line="466"><span style="color: #565f89;"># The data.frame() function used to convert character vectors to factor</span>
</span><span class="line" data-line="467"><span style="color: #565f89;"># vectors by default; This has changed in R 4.0.0. If your R version is</span>
</span><span class="line" data-line="468"><span style="color: #565f89;"># older, turn this off by setting stringsAsFactors = FALSE when you</span>
</span><span class="line" data-line="469"><span style="color: #565f89;"># create the data.frame</span>
</span><span class="line" data-line="470"><span style="color: #89ddff;">?</span><span style="color: #c0caf5;">data.frame</span>
</span><span class="line" data-line="471">
</span><span class="line" data-line="472"><span style="color: #565f89;"># There are many twisty ways to subset data frames, all subtly unalike</span>
</span><span class="line" data-line="473"><span style="color: #c0caf5;">students</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">year</span>       <span style="color: #565f89;"># 3  2  2  1  0 -1</span>
</span><span class="line" data-line="474"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">]</span>       <span style="color: #565f89;"># 3  2  2  1  0 -1</span>
</span><span class="line" data-line="475"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;year&quot;</span><span style="color: #a9b1d6;">]</span>  <span style="color: #565f89;"># 3  2  2  1  0 -1</span>
</span><span class="line" data-line="476">
</span><span class="line" data-line="477"><span style="color: #565f89;"># An augmented version of the data.frame structure is the data.table</span>
</span><span class="line" data-line="478"><span style="color: #565f89;"># If you&#39;re working with huge or panel data, or need to merge a few data</span>
</span><span class="line" data-line="479"><span style="color: #565f89;"># sets, data.table can be a good choice. Here&#39;s a whirlwind tour:</span>
</span><span class="line" data-line="480"><span style="color: #7aa2f7;">install.packages</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;data.table&quot;</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># download the package from CRAN</span>
</span><span class="line" data-line="481"><span style="color: #7aa2f7;">require</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">data.table</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># load it</span>
</span><span class="line" data-line="482"><span style="color: #c0caf5;">students</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">as.data.table</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="483"><span style="color: #c0caf5;">students</span> <span style="color: #565f89;"># note the slightly different print-out</span>
</span><span class="line" data-line="484"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="485"><span style="color: #565f89;">#      name year house</span>
</span><span class="line" data-line="486"><span style="color: #565f89;"># 1: Cedric    3     H</span>
</span><span class="line" data-line="487"><span style="color: #565f89;"># 2:   Fred    2     G</span>
</span><span class="line" data-line="488"><span style="color: #565f89;"># 3: George    2     G</span>
</span><span class="line" data-line="489"><span style="color: #565f89;"># 4:    Cho    1     R</span>
</span><span class="line" data-line="490"><span style="color: #565f89;"># 5:  Draco    0     S</span>
</span><span class="line" data-line="491"><span style="color: #565f89;"># 6:  Ginny   -1     G</span>
</span><span class="line" data-line="492"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #c0caf5;">name</span> <span style="color: #89ddff;">==</span> <span style="color: #9ece6a;">&quot;Ginny&quot;</span><span style="color: #a9b1d6;">]</span> <span style="color: #565f89;"># get rows with name == &quot;Ginny&quot;</span>
</span><span class="line" data-line="493"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="494"><span style="color: #565f89;">#     name year house</span>
</span><span class="line" data-line="495"><span style="color: #565f89;"># 1: Ginny   -1     G</span>
</span><span class="line" data-line="496"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #c0caf5;">year</span> <span style="color: #89ddff;">==</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">]</span> <span style="color: #565f89;"># get rows with year == 2</span>
</span><span class="line" data-line="497"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="498"><span style="color: #565f89;">#      name year house</span>
</span><span class="line" data-line="499"><span style="color: #565f89;"># 1:   Fred    2     G</span>
</span><span class="line" data-line="500"><span style="color: #565f89;"># 2: George    2     G</span>
</span><span class="line" data-line="501"><span style="color: #565f89;"># data.table makes merging two data sets easy</span>
</span><span class="line" data-line="502"><span style="color: #565f89;"># let&#39;s make another data.table to merge with students</span>
</span><span class="line" data-line="503"><span style="color: #c0caf5;">founders</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">data.table</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">house</span>   <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;G&quot;</span>     <span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;H&quot;</span>    <span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;R&quot;</span>     <span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;S&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span>
</span><span class="line" data-line="504">                       <span style="color: #e0af68;">founder</span> <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;Godric&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Helga&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Rowena&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;Salazar&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="505"><span style="color: #c0caf5;">founders</span>
</span><span class="line" data-line="506"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="507"><span style="color: #565f89;">#    house founder</span>
</span><span class="line" data-line="508"><span style="color: #565f89;"># 1:     G  Godric</span>
</span><span class="line" data-line="509"><span style="color: #565f89;"># 2:     H   Helga</span>
</span><span class="line" data-line="510"><span style="color: #565f89;"># 3:     R  Rowena</span>
</span><span class="line" data-line="511"><span style="color: #565f89;"># 4:     S Salazar</span>
</span><span class="line" data-line="512"><span style="color: #7aa2f7;">setkey</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">house</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="513"><span style="color: #7aa2f7;">setkey</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">founders</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">house</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="514"><span style="color: #c0caf5;">students</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #c0caf5;">founders</span><span style="color: #a9b1d6;">[</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">]</span> <span style="color: #565f89;"># merge the two data sets by matching &quot;house&quot;</span>
</span><span class="line" data-line="515"><span style="color: #7aa2f7;">setnames</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;house&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;houseFounderName&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;studentName&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;year&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="516"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">order</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;name&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;year&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;house&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;houseFounderName&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">with</span> <span style="color: #89ddff;">=</span> <span style="color: #c0caf5;">F</span><span style="color: #a9b1d6;">]</span>
</span><span class="line" data-line="517"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="518"><span style="color: #565f89;">#    studentName year house houseFounderName</span>
</span><span class="line" data-line="519"><span style="color: #565f89;"># 1:        Fred    2     G           Godric</span>
</span><span class="line" data-line="520"><span style="color: #565f89;"># 2:      George    2     G           Godric</span>
</span><span class="line" data-line="521"><span style="color: #565f89;"># 3:       Ginny   -1     G           Godric</span>
</span><span class="line" data-line="522"><span style="color: #565f89;"># 4:      Cedric    3     H            Helga</span>
</span><span class="line" data-line="523"><span style="color: #565f89;"># 5:         Cho    1     R           Rowena</span>
</span><span class="line" data-line="524"><span style="color: #565f89;"># 6:       Draco    0     S          Salazar</span>
</span><span class="line" data-line="525">
</span><span class="line" data-line="526"><span style="color: #565f89;"># data.table makes summary tables easy</span>
</span><span class="line" data-line="527"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">sum</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">year</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">by</span> <span style="color: #89ddff;">=</span> <span style="color: #e0af68;">house</span><span style="color: #a9b1d6;">]</span>
</span><span class="line" data-line="528"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="529"><span style="color: #565f89;">#    house V1</span>
</span><span class="line" data-line="530"><span style="color: #565f89;"># 1:     G  3</span>
</span><span class="line" data-line="531"><span style="color: #565f89;"># 2:     H  3</span>
</span><span class="line" data-line="532"><span style="color: #565f89;"># 3:     R  1</span>
</span><span class="line" data-line="533"><span style="color: #565f89;"># 4:     S  0</span>
</span><span class="line" data-line="534">
</span><span class="line" data-line="535"><span style="color: #565f89;"># To drop a column from a data.frame or data.table,</span>
</span><span class="line" data-line="536"><span style="color: #565f89;"># assign it the NULL value</span>
</span><span class="line" data-line="537"><span style="color: #c0caf5;">students</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">houseFounderName</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #2ac3de;">NULL</span>
</span><span class="line" data-line="538"><span style="color: #c0caf5;">students</span>
</span><span class="line" data-line="539"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="540"><span style="color: #565f89;">#    studentName year house</span>
</span><span class="line" data-line="541"><span style="color: #565f89;"># 1:        Fred    2     G</span>
</span><span class="line" data-line="542"><span style="color: #565f89;"># 2:      George    2     G</span>
</span><span class="line" data-line="543"><span style="color: #565f89;"># 3:       Ginny   -1     G</span>
</span><span class="line" data-line="544"><span style="color: #565f89;"># 4:      Cedric    3     H</span>
</span><span class="line" data-line="545"><span style="color: #565f89;"># 5:         Cho    1     R</span>
</span><span class="line" data-line="546"><span style="color: #565f89;"># 6:       Draco    0     S</span>
</span><span class="line" data-line="547">
</span><span class="line" data-line="548"><span style="color: #565f89;"># Drop a row by subsetting</span>
</span><span class="line" data-line="549"><span style="color: #565f89;"># Using data.table:</span>
</span><span class="line" data-line="550"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #c0caf5;">studentName</span> <span style="color: #89ddff;">!=</span> <span style="color: #9ece6a;">&quot;Draco&quot;</span><span style="color: #a9b1d6;">]</span>
</span><span class="line" data-line="551"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="552"><span style="color: #565f89;">#    house studentName year</span>
</span><span class="line" data-line="553"><span style="color: #565f89;"># 1:     G        Fred    2</span>
</span><span class="line" data-line="554"><span style="color: #565f89;"># 2:     G      George    2</span>
</span><span class="line" data-line="555"><span style="color: #565f89;"># 3:     G       Ginny   -1</span>
</span><span class="line" data-line="556"><span style="color: #565f89;"># 4:     H      Cedric    3</span>
</span><span class="line" data-line="557"><span style="color: #565f89;"># 5:     R         Cho    1</span>
</span><span class="line" data-line="558"><span style="color: #565f89;"># Using data.frame:</span>
</span><span class="line" data-line="559"><span style="color: #c0caf5;">students</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">as.data.frame</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="560"><span style="color: #c0caf5;">students</span><span style="color: #a9b1d6;">[</span><span style="color: #c0caf5;">students</span><span style="color: #89ddff;">$</span><span style="color: #e0af68;">house</span> <span style="color: #89ddff;">!=</span> <span style="color: #9ece6a;">&quot;G&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #a9b1d6;">]</span>
</span><span class="line" data-line="561"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="562"><span style="color: #565f89;">#   house houseFounderName studentName year</span>
</span><span class="line" data-line="563"><span style="color: #565f89;"># 4     H            Helga      Cedric    3</span>
</span><span class="line" data-line="564"><span style="color: #565f89;"># 5     R           Rowena         Cho    1</span>
</span><span class="line" data-line="565"><span style="color: #565f89;"># 6     S          Salazar       Draco    0</span>
</span><span class="line" data-line="566">
</span><span class="line" data-line="567"><span style="color: #565f89;"># MULTI-DIMENSIONAL (ALL ELEMENTS OF ONE TYPE)</span>
</span><span class="line" data-line="568">
</span><span class="line" data-line="569"><span style="color: #565f89;"># Arrays creates n-dimensional tables</span>
</span><span class="line" data-line="570"><span style="color: #565f89;"># All elements must be of the same type</span>
</span><span class="line" data-line="571"><span style="color: #565f89;"># You can make a two-dimensional table (sort of like a matrix)</span>
</span><span class="line" data-line="572"><span style="color: #7aa2f7;">array</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">8</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">9</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">6</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">dim</span> <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="573"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="574"><span style="color: #565f89;">#      [,1] [,2] [,3] [,4]</span>
</span><span class="line" data-line="575"><span style="color: #565f89;"># [1,]    1    4    8    3</span>
</span><span class="line" data-line="576"><span style="color: #565f89;"># [2,]    2    5    9    6</span>
</span><span class="line" data-line="577"><span style="color: #565f89;"># You can use array to make three-dimensional matrices too</span>
</span><span class="line" data-line="578"><span style="color: #7aa2f7;">array</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">300</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">8</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">9</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">0</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">5</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">60</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">0</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">66</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">7</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">847</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">dim</span> <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">3</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="579"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="580"><span style="color: #565f89;"># , , 1</span>
</span><span class="line" data-line="581"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="582"><span style="color: #565f89;">#      [,1] [,2]</span>
</span><span class="line" data-line="583"><span style="color: #565f89;"># [1,]    2    8</span>
</span><span class="line" data-line="584"><span style="color: #565f89;"># [2,]  300    9</span>
</span><span class="line" data-line="585"><span style="color: #565f89;"># [3,]    4    0</span>
</span><span class="line" data-line="586"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="587"><span style="color: #565f89;"># , , 2</span>
</span><span class="line" data-line="588"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="589"><span style="color: #565f89;">#      [,1] [,2]</span>
</span><span class="line" data-line="590"><span style="color: #565f89;"># [1,]    5   66</span>
</span><span class="line" data-line="591"><span style="color: #565f89;"># [2,]   60    7</span>
</span><span class="line" data-line="592"><span style="color: #565f89;"># [3,]    0  847</span>
</span><span class="line" data-line="593">
</span><span class="line" data-line="594"><span style="color: #565f89;"># LISTS (MULTI-DIMENSIONAL, POSSIBLY RAGGED, OF DIFFERENT TYPES)</span>
</span><span class="line" data-line="595">
</span><span class="line" data-line="596"><span style="color: #565f89;"># Finally, R has lists (of vectors)</span>
</span><span class="line" data-line="597"><span style="color: #c0caf5;">list1</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">list</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">time</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">:</span><span style="color: #ff9e64;">40</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="598"><span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">price</span> <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">rnorm</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">40</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">.5</span><span style="color: #89ddff;">*</span><span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #e0af68;">time</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># random</span>
</span><span class="line" data-line="599"><span style="color: #c0caf5;">list1</span>
</span><span class="line" data-line="600"><span style="color: #565f89;"># You can get items in the list like so</span>
</span><span class="line" data-line="601"><span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #e0af68;">time</span> <span style="color: #565f89;"># one way</span>
</span><span class="line" data-line="602"><span style="color: #c0caf5;">list1</span><span style="color: #a9b1d6;">[[</span><span style="color: #9ece6a;">&quot;time&quot;</span><span style="color: #a9b1d6;">]]</span> <span style="color: #565f89;"># another way</span>
</span><span class="line" data-line="603"><span style="color: #c0caf5;">list1</span><span style="color: #a9b1d6;">[[</span><span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">]]</span> <span style="color: #565f89;"># yet another way</span>
</span><span class="line" data-line="604"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="605"><span style="color: #565f89;">#  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33</span>
</span><span class="line" data-line="606"><span style="color: #565f89;"># [34] 34 35 36 37 38 39 40</span>
</span><span class="line" data-line="607"><span style="color: #565f89;"># You can subset list items like any other vector</span>
</span><span class="line" data-line="608"><span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #7aa2f7;">price</span><span style="color: #a9b1d6;">[</span><span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">]</span>
</span><span class="line" data-line="609">
</span><span class="line" data-line="610"><span style="color: #565f89;"># Lists are not the most efficient data structure to work with in R;</span>
</span><span class="line" data-line="611"><span style="color: #565f89;"># unless you have a very good reason, you should stick to data.frames</span>
</span><span class="line" data-line="612"><span style="color: #565f89;"># Lists are often returned by functions that perform linear regressions</span>
</span><span class="line" data-line="613">
</span><span class="line" data-line="614"><span style="color: #565f89;">##################################################</span>
</span><span class="line" data-line="615"><span style="color: #565f89;"># The apply() family of functions</span>
</span><span class="line" data-line="616"><span style="color: #565f89;">##################################################</span>
</span><span class="line" data-line="617">
</span><span class="line" data-line="618"><span style="color: #565f89;"># Remember mat?</span>
</span><span class="line" data-line="619"><span style="color: #c0caf5;">mat</span>
</span><span class="line" data-line="620"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="621"><span style="color: #565f89;">#      [,1] [,2]</span>
</span><span class="line" data-line="622"><span style="color: #565f89;"># [1,]    1    4</span>
</span><span class="line" data-line="623"><span style="color: #565f89;"># [2,]    2    5</span>
</span><span class="line" data-line="624"><span style="color: #565f89;"># [3,]    3    6</span>
</span><span class="line" data-line="625"><span style="color: #565f89;"># Use apply(X, MARGIN, FUN) to apply function FUN to a matrix X</span>
</span><span class="line" data-line="626"><span style="color: #565f89;"># over rows (MAR = 1) or columns (MAR = 2)</span>
</span><span class="line" data-line="627"><span style="color: #565f89;"># That is, R does FUN to each row (or column) of X, much faster than a</span>
</span><span class="line" data-line="628"><span style="color: #565f89;"># for or while loop would do</span>
</span><span class="line" data-line="629"><span style="color: #7aa2f7;">apply</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">mat</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">MAR</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">2</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">jiggle</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="630"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="631"><span style="color: #565f89;">#      [,1] [,2]</span>
</span><span class="line" data-line="632"><span style="color: #565f89;"># [1,]    3   15</span>
</span><span class="line" data-line="633"><span style="color: #565f89;"># [2,]    7   19</span>
</span><span class="line" data-line="634"><span style="color: #565f89;"># [3,]   11   23</span>
</span><span class="line" data-line="635"><span style="color: #565f89;"># Other functions: ?lapply, ?sapply</span>
</span><span class="line" data-line="636">
</span><span class="line" data-line="637"><span style="color: #565f89;"># Don&#39;t feel too intimidated; everyone agrees they are rather confusing</span>
</span><span class="line" data-line="638">
</span><span class="line" data-line="639"><span style="color: #565f89;"># The plyr package aims to replace (and improve upon!) the *apply() family.</span>
</span><span class="line" data-line="640"><span style="color: #7aa2f7;">install.packages</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;plyr&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="641"><span style="color: #7aa2f7;">require</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">plyr</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="642"><span style="color: #89ddff;">?</span><span style="color: #c0caf5;">plyr</span>
</span><span class="line" data-line="643">
</span><span class="line" data-line="644">
</span><span class="line" data-line="645">
</span><span class="line" data-line="646"><span style="color: #565f89;">#########################</span>
</span><span class="line" data-line="647"><span style="color: #565f89;"># Loading data</span>
</span><span class="line" data-line="648"><span style="color: #565f89;">#########################</span>
</span><span class="line" data-line="649">
</span><span class="line" data-line="650"><span style="color: #565f89;"># &quot;pets.csv&quot; is a file on the internet</span>
</span><span class="line" data-line="651"><span style="color: #565f89;"># (but it could just as easily be a file on your own computer)</span>
</span><span class="line" data-line="652"><span style="color: #7aa2f7;">require</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">RCurl</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="653"><span style="color: #c0caf5;">pets</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">read.csv</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">textConnection</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">getURL</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;https://learnxinyminutes.com/pets.csv&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="654"><span style="color: #c0caf5;">pets</span>
</span><span class="line" data-line="655"><span style="color: #7aa2f7;">head</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">pets</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># first two rows</span>
</span><span class="line" data-line="656"><span style="color: #7aa2f7;">tail</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">pets</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># last row</span>
</span><span class="line" data-line="657">
</span><span class="line" data-line="658"><span style="color: #565f89;"># To save a data frame or matrix as a .csv file</span>
</span><span class="line" data-line="659"><span style="color: #7aa2f7;">write.csv</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">pets</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;pets2.csv&quot;</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># to make a new .csv file</span>
</span><span class="line" data-line="660"><span style="color: #565f89;"># set working directory with setwd(), look it up with getwd()</span>
</span><span class="line" data-line="661">
</span><span class="line" data-line="662"><span style="color: #565f89;"># Try ?read.csv and ?write.csv for more information</span>
</span><span class="line" data-line="663">
</span><span class="line" data-line="664">
</span><span class="line" data-line="665">
</span><span class="line" data-line="666"><span style="color: #565f89;">#########################</span>
</span><span class="line" data-line="667"><span style="color: #565f89;"># Statistical Analysis</span>
</span><span class="line" data-line="668"><span style="color: #565f89;">#########################</span>
</span><span class="line" data-line="669">
</span><span class="line" data-line="670"><span style="color: #565f89;"># Linear regression!</span>
</span><span class="line" data-line="671"><span style="color: #c0caf5;">linearModel</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">lm</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">price</span> <span style="color: #89ddff;">~</span> <span style="color: #e0af68;">time</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">data</span> <span style="color: #89ddff;">=</span> <span style="color: #c0caf5;">list1</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="672"><span style="color: #c0caf5;">linearModel</span> <span style="color: #565f89;"># outputs result of regression</span>
</span><span class="line" data-line="673"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="674"><span style="color: #565f89;"># Call:</span>
</span><span class="line" data-line="675"><span style="color: #565f89;"># lm(formula = price ~ time, data = list1)</span>
</span><span class="line" data-line="676"><span style="color: #565f89;"># </span>
</span><span class="line" data-line="677"><span style="color: #565f89;"># Coefficients:</span>
</span><span class="line" data-line="678"><span style="color: #565f89;"># (Intercept)         time  </span>
</span><span class="line" data-line="679"><span style="color: #565f89;">#      0.1453       0.4943  </span>
</span><span class="line" data-line="680"><span style="color: #7aa2f7;">summary</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">linearModel</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># more verbose output from the regression</span>
</span><span class="line" data-line="681"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="682"><span style="color: #565f89;"># Call:</span>
</span><span class="line" data-line="683"><span style="color: #565f89;"># lm(formula = price ~ time, data = list1)</span>
</span><span class="line" data-line="684"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="685"><span style="color: #565f89;"># Residuals:</span>
</span><span class="line" data-line="686"><span style="color: #565f89;">#     Min      1Q  Median      3Q     Max </span>
</span><span class="line" data-line="687"><span style="color: #565f89;"># -8.3134 -3.0131 -0.3606  2.8016 10.3992 </span>
</span><span class="line" data-line="688"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="689"><span style="color: #565f89;"># Coefficients:</span>
</span><span class="line" data-line="690"><span style="color: #565f89;">#             Estimate Std. Error t value Pr(&gt;|t|)    </span>
</span><span class="line" data-line="691"><span style="color: #565f89;"># (Intercept)  0.14527    1.50084   0.097    0.923    </span>
</span><span class="line" data-line="692"><span style="color: #565f89;"># time         0.49435    0.06379   7.749 2.44e-09 ***</span>
</span><span class="line" data-line="693"><span style="color: #565f89;"># ---</span>
</span><span class="line" data-line="694"><span style="color: #565f89;"># Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
</span><span class="line" data-line="695"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="696"><span style="color: #565f89;"># Residual standard error: 4.657 on 38 degrees of freedom</span>
</span><span class="line" data-line="697"><span style="color: #565f89;"># Multiple R-squared:  0.6124,	Adjusted R-squared:  0.6022 </span>
</span><span class="line" data-line="698"><span style="color: #565f89;"># F-statistic: 60.05 on 1 and 38 DF,  p-value: 2.44e-09</span>
</span><span class="line" data-line="699"><span style="color: #7aa2f7;">coef</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">linearModel</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># extract estimated parameters</span>
</span><span class="line" data-line="700"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="701"><span style="color: #565f89;"># (Intercept)        time </span>
</span><span class="line" data-line="702"><span style="color: #565f89;">#   0.1452662   0.4943490 </span>
</span><span class="line" data-line="703"><span style="color: #7aa2f7;">summary</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">linearModel</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">coefficients</span> <span style="color: #565f89;"># another way to extract results</span>
</span><span class="line" data-line="704"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="705"><span style="color: #565f89;">#              Estimate Std. Error    t value     Pr(&gt;|t|)</span>
</span><span class="line" data-line="706"><span style="color: #565f89;"># (Intercept) 0.1452662 1.50084246 0.09678975 9.234021e-01</span>
</span><span class="line" data-line="707"><span style="color: #565f89;"># time        0.4943490 0.06379348 7.74920901 2.440008e-09</span>
</span><span class="line" data-line="708"><span style="color: #7aa2f7;">summary</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">linearModel</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">$</span><span style="color: #7aa2f7;">coefficients</span><span style="color: #a9b1d6;">[</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #a9b1d6;">]</span> <span style="color: #565f89;"># the p-values </span>
</span><span class="line" data-line="709"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="710"><span style="color: #565f89;">#  (Intercept)         time </span>
</span><span class="line" data-line="711"><span style="color: #565f89;"># 9.234021e-01 2.440008e-09 </span>
</span><span class="line" data-line="712">
</span><span class="line" data-line="713"><span style="color: #565f89;"># GENERAL LINEAR MODELS</span>
</span><span class="line" data-line="714"><span style="color: #565f89;"># Logistic regression</span>
</span><span class="line" data-line="715"><span style="color: #7aa2f7;">set.seed</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="716"><span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">success</span> <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">rbinom</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">length</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #e0af68;">time</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">.5</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># random binary</span>
</span><span class="line" data-line="717"><span style="color: #c0caf5;">glModel</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">glm</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">success</span>  <span style="color: #89ddff;">~</span> <span style="color: #e0af68;">time</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">data</span> <span style="color: #89ddff;">=</span> <span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">family</span><span style="color: #89ddff;">=</span><span style="color: #7aa2f7;">binomial</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">link</span><span style="color: #89ddff;">=</span><span style="color: #9ece6a;">&quot;logit&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="718"><span style="color: #c0caf5;">glModel</span> <span style="color: #565f89;"># outputs result of logistic regression</span>
</span><span class="line" data-line="719"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="720"><span style="color: #565f89;"># Call:  glm(formula = success ~ time, </span>
</span><span class="line" data-line="721"><span style="color: #565f89;">#	family = binomial(link = &quot;logit&quot;), data = list1)</span>
</span><span class="line" data-line="722"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="723"><span style="color: #565f89;"># Coefficients:</span>
</span><span class="line" data-line="724"><span style="color: #565f89;"># (Intercept)         time  </span>
</span><span class="line" data-line="725"><span style="color: #565f89;">#     0.17018     -0.01321  </span>
</span><span class="line" data-line="726"><span style="color: #565f89;"># </span>
</span><span class="line" data-line="727"><span style="color: #565f89;"># Degrees of Freedom: 39 Total (i.e. Null);  38 Residual</span>
</span><span class="line" data-line="728"><span style="color: #565f89;"># Null Deviance:	    55.35 </span>
</span><span class="line" data-line="729"><span style="color: #565f89;"># Residual Deviance: 55.12 	 AIC: 59.12</span>
</span><span class="line" data-line="730"><span style="color: #7aa2f7;">summary</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">glModel</span><span style="color: #a9b1d6;">)</span> <span style="color: #565f89;"># more verbose output from the regression</span>
</span><span class="line" data-line="731"><span style="color: #565f89;"># =&gt;</span>
</span><span class="line" data-line="732"><span style="color: #565f89;"># Call:</span>
</span><span class="line" data-line="733"><span style="color: #565f89;"># glm(</span>
</span><span class="line" data-line="734"><span style="color: #565f89;">#	formula = success ~ time,</span>
</span><span class="line" data-line="735"><span style="color: #565f89;">#	family = binomial(link = &quot;logit&quot;),</span>
</span><span class="line" data-line="736"><span style="color: #565f89;">#	data = list1)</span>
</span><span class="line" data-line="737">
</span><span class="line" data-line="738"><span style="color: #565f89;"># Deviance Residuals: </span>
</span><span class="line" data-line="739"><span style="color: #565f89;">#    Min      1Q  Median      3Q     Max  </span>
</span><span class="line" data-line="740"><span style="color: #565f89;"># -1.245  -1.118  -1.035   1.202   1.327  </span>
</span><span class="line" data-line="741"><span style="color: #565f89;"># </span>
</span><span class="line" data-line="742"><span style="color: #565f89;"># Coefficients:</span>
</span><span class="line" data-line="743"><span style="color: #565f89;">#             Estimate Std. Error z value Pr(&gt;|z|)</span>
</span><span class="line" data-line="744"><span style="color: #565f89;"># (Intercept)  0.17018    0.64621   0.263    0.792</span>
</span><span class="line" data-line="745"><span style="color: #565f89;"># time        -0.01321    0.02757  -0.479    0.632</span>
</span><span class="line" data-line="746"><span style="color: #565f89;"># </span>
</span><span class="line" data-line="747"><span style="color: #565f89;"># (Dispersion parameter for binomial family taken to be 1)</span>
</span><span class="line" data-line="748"><span style="color: #565f89;">#</span>
</span><span class="line" data-line="749"><span style="color: #565f89;">#     Null deviance: 55.352  on 39  degrees of freedom</span>
</span><span class="line" data-line="750"><span style="color: #565f89;"># Residual deviance: 55.121  on 38  degrees of freedom</span>
</span><span class="line" data-line="751"><span style="color: #565f89;"># AIC: 59.121</span>
</span><span class="line" data-line="752"><span style="color: #565f89;"># </span>
</span><span class="line" data-line="753"><span style="color: #565f89;"># Number of Fisher Scoring iterations: 3</span>
</span><span class="line" data-line="754">
</span><span class="line" data-line="755">
</span><span class="line" data-line="756"><span style="color: #565f89;">#########################</span>
</span><span class="line" data-line="757"><span style="color: #565f89;"># Plots</span>
</span><span class="line" data-line="758"><span style="color: #565f89;">#########################</span>
</span><span class="line" data-line="759">
</span><span class="line" data-line="760"><span style="color: #565f89;"># BUILT-IN PLOTTING FUNCTIONS</span>
</span><span class="line" data-line="761"><span style="color: #565f89;"># Scatterplots!</span>
</span><span class="line" data-line="762"><span style="color: #7aa2f7;">plot</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #e0af68;">time</span><span style="color: #89ddff;">,</span> <span style="color: #c0caf5;">list1</span><span style="color: #89ddff;">$</span><span style="color: #73daca;">price</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">main</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;fake data&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="763"><span style="color: #565f89;"># Plot regression line on existing plot</span>
</span><span class="line" data-line="764"><span style="color: #7aa2f7;">abline</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">linearModel</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">col</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;red&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="765"><span style="color: #565f89;"># Get a variety of nice diagnostics</span>
</span><span class="line" data-line="766"><span style="color: #7aa2f7;">plot</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">linearModel</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="767"><span style="color: #565f89;"># Histograms!</span>
</span><span class="line" data-line="768"><span style="color: #7aa2f7;">hist</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">rpois</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">n</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">10000</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">lambda</span> <span style="color: #89ddff;">=</span> <span style="color: #ff9e64;">5</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">col</span> <span style="color: #89ddff;">=</span> <span style="color: #9ece6a;">&quot;thistle&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="769"><span style="color: #565f89;"># Barplots!</span>
</span><span class="line" data-line="770"><span style="color: #7aa2f7;">barplot</span><span style="color: #a9b1d6;">(</span><span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">4</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">5</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">1</span><span style="color: #89ddff;">,</span> <span style="color: #ff9e64;">2</span><span style="color: #a9b1d6;">)</span><span style="color: #89ddff;">,</span> <span style="color: #e0af68;">names.arg</span> <span style="color: #89ddff;">=</span> <span style="color: #7aa2f7;">c</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;red&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;blue&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;purple&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;green&quot;</span><span style="color: #89ddff;">,</span> <span style="color: #9ece6a;">&quot;yellow&quot;</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="771">
</span><span class="line" data-line="772"><span style="color: #565f89;"># GGPLOT2</span>
</span><span class="line" data-line="773"><span style="color: #565f89;"># But these are not even the prettiest of R&#39;s plots</span>
</span><span class="line" data-line="774"><span style="color: #565f89;"># Try the ggplot2 package for more and better graphics</span>
</span><span class="line" data-line="775"><span style="color: #7aa2f7;">install.packages</span><span style="color: #a9b1d6;">(</span><span style="color: #9ece6a;">&quot;ggplot2&quot;</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="776"><span style="color: #7aa2f7;">require</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">ggplot2</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="777"><span style="color: #89ddff;">?</span><span style="color: #c0caf5;">ggplot2</span>
</span><span class="line" data-line="778"><span style="color: #c0caf5;">pp</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">ggplot</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">students</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">aes</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">x</span> <span style="color: #89ddff;">=</span> <span style="color: #e0af68;">house</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="779"><span style="color: #c0caf5;">pp</span> <span style="color: #89ddff;">+</span> <span style="color: #7aa2f7;">geom_bar</span><span style="color: #a9b1d6;">(</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="780"><span style="color: #c0caf5;">ll</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">as.data.table</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">list1</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="781"><span style="color: #c0caf5;">pp</span> <span style="color: #89ddff;">&lt;-</span> <span style="color: #7aa2f7;">ggplot</span><span style="color: #a9b1d6;">(</span><span style="color: #c0caf5;">ll</span><span style="color: #89ddff;">,</span> <span style="color: #7aa2f7;">aes</span><span style="color: #a9b1d6;">(</span><span style="color: #e0af68;">x</span> <span style="color: #89ddff;">=</span> <span style="color: #e0af68;">time</span><span style="color: #89ddff;">,</span> <span style="color: #c0caf5;">price</span><span style="color: #a9b1d6;">)</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="782"><span style="color: #c0caf5;">pp</span> <span style="color: #89ddff;">+</span> <span style="color: #7aa2f7;">geom_point</span><span style="color: #a9b1d6;">(</span><span style="color: #a9b1d6;">)</span>
</span><span class="line" data-line="783"><span style="color: #565f89;"># ggplot2 has excellent documentation (available <span style="text-decoration: underline;">http://docs.ggplot2.org/current/</span>)</span>
</span></code></pre>
</body>
</html>